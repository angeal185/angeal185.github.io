!function(e){e.$_Tawk_AccountKey="58e8eb8230ab263079b5f08f",e.$_Tawk_WidgetId="default",e.$_Tawk_Unstable=!1,e.$_Tawk=e.$_Tawk||{},function(e){e.$_Tawk.widgetSettings={t:"inline",h:0,w:0,minh:0,minw:0,pos:"bl",woc:"max",dsw:!1,lc:"en",hwol:!1,hwof:!1,hab:!1,dws:!1,hwt:!0,thm:{hbg:"#000000",htx:"#607d8b",aBblBg:"#000000",aBblTx:"#607d8b",vBblBg:"#000000",vBblTx:"#607d8b",topc:6,btmc:0},bbl:"",mw:"round",dw:"full",wv:3,ws:null,offlineForm:null,prechatForm:null,onlineGreeting:{actionMessage:"Type msg...",shortMessage:"Online",longMessage:"Online"},awayGreeting:{shortMessage:"Away",longMessage:"Away"}}}(e),function(e){var t={pluralFormFunction:function(e){return 1===e?"one":"other"},form:{}};t.form.SaveButton={message:"Save"},t.form.SubmitButton={message:"Submit"},t.form.StartChatButton={message:"Start Chat"},t.form.CancelButton={message:"Cancel"},t.form.CloseButton={message:"Close"},t.form.SendButton={message:"Send"},t.form.NamePlaceholder={message:"your name.."},t.form.EmailPlaceholder={message:"your email.."},t.form.QuestionPlaceholder={message:"your query.."},t.form.MessagePlaceholder={message:"your message.."},t.form.NameErrorMessage={message:"Name must be provided."},t.form.EmailErrorMessage={message:"Invalid email address."},t.form.QuestionErrorMessage={message:"Question is required and must not be longer then 500 characters."},t.form.MessageErrorMessage={message:"Message is required and must not be longer then 500 characters."},t.form.NameFormMessage={message:"Please change your name so we can recognize you the next time."},t.form.PreChatFormMessage={message:"Please fill out the form below."},t.form.OfflineFormMessage={message:"Please fill out the form below and i will get back to you as soon as possible."},t.form.PreChatFormMessageProfile={message:"Please fill out the form below to start chatting with me."},t.form.OfflineMessageSent={message:"Your message was sent successfully!"},t.form.OfflineMessageNotSent={message:"Your message was not delivered, please retry"},t.form.EndChatTitle={message:"Are you sure you want to end this chat?"},t.form.RequiredErrorMessage={message:"This field is required"},t.form.PhoneErrorMessage={message:"Invalid phone number"},t.form.saved={message:"Saved"},t.form.errorSaving={message:"Unable to save. Please try again"},t.form.visitButton={message:""},t.form.SubmittingProcess={message:"Submitting"},t.form.EndingProcess={message:"Ending"},t.form.SendingProcess={message:"Sending"},t.form.SavingProcess={message:"Saving"},t.form.name={message:"Name"},t.form.email={message:"Email"},t.form.department={message:"Department"},t.form.message={message:"Message"},t.form.any={message:"Any"},t.form.phone={message:"Phone"},t.form.question={message:"Question"},t.form.saving={message:"Saving.."},t.form.SubmittedFrom={message:"Submitted From"},t.form.sendAgain={message:"Send Again"},t.rollover={},t.rollover.popOut={message:"Pop out"},t.rollover.minimize={message:"Minimize"},t.rollover.resize={message:"Resize"},t.rollover.resendMessage={message:"Resend message"},t.rollover.positiveRating={message:"Rate this conversation with +1"},t.rollover.negativeRating={message:"Rate this conversation with -1"},t.rollover.maximize={message:"Maximize"},t.rollover.end={message:"End Chat"},t.rollover.uploadFile={message:"Upload File"},t.rollover.videoCall={message:"Video Call"},t.rollover.voiceCall={message:"Voice Call"},t.rollover.screenShare={message:"Screen Share"},t.transcript={},t.transcript.transcriptSubject={message:"Chat email transcript on #host started on #startedOn",vars:["host","startedOn"]},t.transcript.transcriptStartedOn={message:"#dateString, at #time",vars:["dateString","time"]},t.transcript.me={message:"Me"},t.transcript.CONVERSATION_STARTED_ON={message:"Conversation started on"},t.overlay={},t.overlay.inactive={message:"Click here to reinitiate the chat"},t.overlay.maintenance={message:"Chat is in maintenance"},t.overlay.cookiesOff={message:"You can't use this chat because your browser's cookie functionality is turned off. Please turn it on and refresh your browser."},t.overlay.tawkContent={message:""},t.chat={},t.chat.visitor_name={message:"Visitor name"},t.chat.like={message:"You liked this conversation"},t.chat.dislike={message:"You disliked this conversation"},t.chat.remove_rate={message:"You removed your rating for this conversation"},t.chat.sayButton={message:"Say"},t.chat.hideButton={message:"Hide Chat"},t.chat.send_mail={message:"Send Mail"},t.chat.AGENT_JOIN_CONVERSATION={message:"#n has joined the conversation",vars:["n"]},t.chat.AGENT_LEFT_CONVERSATION={message:"#n has left the conversation",vars:["n"]},t.chat.agentIsTyping={message:"#strongStart #n #strongEnd is typing",vars:["n","strongStart","strongEnd"]},t.chat.mobileAgentIsTyping={message:"#n is typing..",vars:["n"]},t.chat.defaultName={message:"You (change name)"},t.chat.mobileEnterText={message:"Say something..."},t.chat.messageQueuedTitile={message:"message queued"},t.chat.live_chat={message:"Live Chat"},t.chat.notificationTitle={message:"notification"},t.chat.departmentIsOffline={message:"Department #strongStart #departmentName #strongEnd is currently offline. You might be served by another department.",vars:["departmentName","strongStart","strongEnd"]},t.chat.departmentIsAway={message:"Department #strongStart #departmentName #strongEnd is currently away.",vars:["departmentName","strongStart","strongEnd"]},t.chat.mobileName={message:"You"},t.chat.chatEnded={message:"Your chat has ended"},t.chat.newChat={message:"Start New Chat"},t.chat.newMessages={message:"New messages"},t.chat.say_something={message:"Type here and press enter.."},t.chat.downloadFile={message:"Download File"},t.chat.limit50={message:"The maximum file size is 50MB, please upload a smaller file."},t.chat.limit2={message:"The maximum file size is 2MB for mobile browsers, please upload a smaller file."},t.chat.generalUploadError={message:'Unable to upload file "#fileName", please try again.',vars:["fileName"]},t.chat.retry={message:"Retry."},t.chat.dragDropText={message:"Drop files here to upload"},t.chat.pasted_image_title={message:"Pasted image at #dateTime",vars:["dateTime"]},t.chat.chat_qm={message:"Chat?"},t.chat.we_are_live={message:"We are live and ready to chat with you now. Say something to start a live chat."},t.chat.profile_prechat_text={message:"Please fill out the form below to start chatting with me."},t.chat.AGENT_WEBRTC_SESSION_REQUESTED={vars:["n"],message:"#n initiated a call"},t.chat.VISITOR_WEBRTC_SESSION_REQUESTED={message:"You initiated a call."},t.chat.AGENT_WEBRTC_SESSION_MISSED={message:"Your call was not answered"},t.chat.VISITOR_WEBRTC_SESSION_MISSED={vars:["n"],message:"You missed a call from #n."},t.chat.AGENT_WEBRTC_SESSION_JOINED={vars:["n"],message:"#n joined the call."},t.chat.VISITOR_WEBRTC_SESSION_JOINED={message:"You joined the call."},t.chat.WEBRTC_SESSION_REJECTED={message:"You rejected the call."},t.chat.AGENT_WEBRTC_SESSION_LEFT={vars:["n"],message:"#n left the call."},t.chat.VISITOR_WEBRTC_SESSION_LEFT={message:"You left the call."},t.chat.incoming_call_message={message:"Incoming Call"},t.chat.accept_call={message:"Accept"},t.chat.decline_call={message:"Decline"},t.chat.video_call_error={message:"Video call is not available."},t.chat.voice_call_error={message:"Voice call is not available."},t.chat.screen_share_error={message:"Screen share is not available."},t.chat.message_too_long={message:"Message cannot exceed 5000 characters"},t.chat.message_not_delivered={message:"Message not delivered, click here to resend."},t.status={},t.status.online={message:"Online"},t.status.away={message:"Away"},t.status.offline={message:"Offline"},t.months={},t.months[0]={message:"January"},t.months[1]={message:"February"},t.months[2]={message:"March"},t.months[3]={message:"April"},t.months[4]={message:"May"},t.months[5]={message:"June"},t.months[6]={message:"July"},t.months[7]={message:"August"},t.months[8]={message:"September"},t.months[9]={message:"October"},t.months[10]={message:"November"},t.months[11]={message:"December"},t.days={},t.days[0]={message:"Sunday"},t.days[1]={message:"Monday"},t.days[2]={message:"Tuesday"},t.days[3]={message:"Wednesday"},t.days[4]={message:"Thursday"},t.days[5]={message:"Friday"},t.days[6]={message:"Saturday"},t.menu={},t.menu.change_name={message:"Change Name"},t.menu.sound_on={message:"Sound On"},t.menu.sound_off={message:"Sound Off"},t.menu.about_tawk={message:"About this app"},t.menu.print_transcript={message:"Print Transcript"},t.menu.Options={message:"Options"},t.menu.CloseMenu={message:"Close menu"},t.menu.AgentList={message:"Agent List"},t.notifications={},t.notifications.maximum_file_upload_warning={message:"#strongStartWarning :#strongEnd Sorry, file transfer is limited to #strongStart#limitFileNumber#strongEnd files at a time. Please try the following file(s) again :",vars:["strongStart","strongEnd","limitFileNumber"]},t.notifications.maximum_size_upload_warning={message:"#strongStartWarning :#strongEnd Sorry, file transfer is limited to #strongStart#limitFileSize#strongEnd per file. Please compress the following file(s) and try again.",vars:["strongStart","strongEnd","limitFileSize"]},t.notifications.retry={message:"Retry"},t.chat=t.chat||{},t.chat.messageQueuedText={vars:["strongStart","strongEnd"],pluralVars:["t"],message:{one:"Estimated wait time is #strongStart #t minute #strongEnd",other:"Estimated wait time is #strongStart #t minutes #strongEnd"}},t.chat.newMessage={vars:[],pluralVars:["num"],message:{one:"#num new message",other:"#num new messages"}},e.$_Tawk.language=t,e.$_Tawk.languageUpdater&&e.$_Tawk.languageUpdater()}("undefined"==typeof e?window:e),function(){!function(t){var i;"undefined"!=typeof window?i=window:"undefined"!=typeof e?i=e:"undefined"!=typeof self&&(i=self),i.$__TawkEngine=t()}(function(){return function e(t,i,n){function a(r,s){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);throw Error("Cannot find module '"+r+"'")}l=i[r]={exports:{}},t[r][0].call(l.exports,function(e){var i=t[r][1][e];return a(i?i:e)},l,l.exports,e,t,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)a(n[r]);return a}({debug:[function(e,t,i){t.exports=e("n9i2g6")},{}],n9i2g6:[function(e,t,i){t.exports=function(){return function(){}}},{}],3:[function(e,t,i){function n(){}t.exports=function(e,t,i){function a(e,n){if(0>=a.count)throw Error("after called too many times");--a.count,e?(o=!0,t(e),t=i):0!==a.count||o||t(null,n)}var o=!1;return i=i||n,a.count=e,0===e?t():a}},{}],4:[function(e,t,i){t.exports=function(e,t,i){var n=e.byteLength;if(t=t||0,i=i||n,e.slice)return e.slice(t,i);if(0>t&&(t+=n),0>i&&(i+=n),i>n&&(i=n),t>=n||t>=i||0===n)return new ArrayBuffer(0);e=new Uint8Array(e);for(var n=new Uint8Array(i-t),a=0;i>t;t++,a++)n[a]=e[t];return n.buffer}},{}],5:[function(e,t,i){!function(e){i.encode=function(t){t=new Uint8Array(t);var i,n=t.length,a="";for(i=0;n>i;i+=3)a+=e[t[i]>>2],a+=e[(3&t[i])<<4|t[i+1]>>4],a+=e[(15&t[i+1])<<2|t[i+2]>>6],a+=e[63&t[i+2]];return 2===n%3?a=a.substring(0,a.length-1)+"=":1===n%3&&(a=a.substring(0,a.length-2)+"=="),a},i.decode=function(t){var i,n,a,o,r=.75*t.length,s=t.length,l=0;"="===t[t.length-1]&&(r--,"="===t[t.length-2]&&r--);for(var c=new ArrayBuffer(r),d=new Uint8Array(c),r=0;s>r;r+=4)i=e.indexOf(t[r]),n=e.indexOf(t[r+1]),a=e.indexOf(t[r+2]),o=e.indexOf(t[r+3]),d[l++]=i<<2|n>>4,d[l++]=(15&n)<<4|a>>2,d[l++]=(3&a)<<6|63&o;return c}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],6:[function(e,t,i){(function(e){function i(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.buffer instanceof ArrayBuffer){var n=i.buffer;if(i.byteLength!==n.byteLength){var a=new Uint8Array(i.byteLength);a.set(new Uint8Array(n,i.byteOffset,i.byteLength)),n=a.buffer}e[t]=n}}}function n(e,t){t=t||{};var n=new r;i(e);for(var a=0;a<e.length;a++)n.append(e[a]);return t.type?n.getBlob(t.type):n.getBlob()}function a(e,t){return i(e),new Blob(e,t||{})}var o,r=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder;try{o=2===new Blob(["hi"]).size}catch(s){o=!1}var l;if(l=o)try{l=2===new Blob([new Uint8Array([1,2])]).size}catch(c){l=!1}var d=r&&r.prototype.append&&r.prototype.getBlob;e=o?l?e.Blob:a:d?n:void 0,t.exports=e}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,i){},{}],8:[function(e,t,i){function n(e){if(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function i(){n.off(e,i),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,a=0;a<i.length;a++)if(n=i[a],n===t||n.fn===t){i.splice(a,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i)for(var i=i.slice(0),n=0,a=i.length;a>n;++n)i[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],9:[function(e,t,i){t.exports=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],10:[function(e,t,i){t.exports=e("./lib/")},{"./lib/":11}],11:[function(e,t,i){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":12,"engine.io-parser":20}],12:[function(e,t,i){(function(i){function n(e,t){if(!(this instanceof n))return new n(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:i.location&&"https:"==location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(i.location?location.hostname:"localhost"),this.port=t.port||(i.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate?t.perMessageDeflate||{}:!1,!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?!0:t.rejectUnauthorized;var a="object"==typeof i&&i;a.global===a&&t.extraHeaders&&0<Object.keys(t.extraHeaders).length&&(this.extraHeaders=t.extraHeaders),this.open()}var a=e("./transports"),o=e("component-emitter"),r=e("debug")("engine.io-client:socket"),s=e("indexof"),l=e("engine.io-parser"),c=e("parseuri"),d=e("parsejson"),p=e("parseqs");t.exports=n,n.priorWebsocketSuccess=!1,o(n.prototype),n.protocol=l.protocol,n.Socket=n,n.Transport=e("./transport"),n.transports=e("./transports"),n.parser=e("engine.io-parser"),n.prototype.createTransport=function(e){r('creating transport "%s"',e);var t,i=this.query,n={};for(t in i)i.hasOwnProperty(t)&&(n[t]=i[t]);return n.EIO=l.protocol,n.transport=e,this.id&&(n.sid=this.id),new a[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:n,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})},n.prototype.open=function(){var e;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(i){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},n.prototype.setTransport=function(e){r("setting transport %s",e.name);var t=this;this.transport&&(r("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},n.prototype.probe=function(e){function t(){if(h.onlyBinaryUpgrades){var t=!this.supportsBinary&&h.transport.supportsBinary;p=p||t}p||(r('probe transport "%s" opened',e),d.send([{type:"ping",data:"probe"}]),d.once("packet",function(t){p||("pong"==t.type&&"probe"==t.data?(r('probe transport "%s" pong',e),h.upgrading=!0,h.emit("upgrading",d),d&&(n.priorWebsocketSuccess="websocket"==d.name,r('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){p||"closed"==h.readyState||(r("changing transport and sending upgrade packet"),c(),h.setTransport(d),d.send([{type:"upgrade"}]),h.emit("upgrade",d),d=null,h.upgrading=!1,h.flush())}))):(r('probe transport "%s" failed',e),t=Error("probe error"),t.transport=d.name,h.emit("upgradeError",t)))}))}function i(){p||(p=!0,c(),d.close(),d=null)}function a(t){var n=Error("probe error: "+t);n.transport=d.name,i(),r('probe transport "%s" failed because of error: %s',e,t),h.emit("upgradeError",n)}function o(){a("transport closed")}function s(){a("socket closed")}function l(e){d&&e.name!=d.name&&(r('"%s" works - aborting "%s"',e.name,d.name),i())}function c(){d.removeListener("open",t),d.removeListener("error",a),d.removeListener("close",o),h.removeListener("close",s),h.removeListener("upgrading",l)}r('probing transport "%s"',e);var d=this.createTransport(e,{probe:1}),p=!1,h=this;n.priorWebsocketSuccess=!1,d.once("open",t),d.once("error",a),d.once("close",o),this.once("close",s),this.once("upgrading",l),d.open()},n.prototype.onOpen=function(){if(r("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){r("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},n.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(r('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else r('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},n.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){r("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},n.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(r("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(e,t,i){return this.sendPacket("message",e,t,i),this},n.prototype.sendPacket=function(e,t,i,n){"function"==typeof t&&(n=t,t=void 0),"function"==typeof i&&(n=i,i=null),"closing"!=this.readyState&&"closed"!=this.readyState&&(i=i||{},i.compress=!1!==i.compress,e={type:e,data:t,options:i},this.emit("packetCreate",e),this.writeBuffer.push(e),n&&this.once("flush",n),this.flush())},n.prototype.close=function(){function e(){n.onClose("forced close"),r("socket closing - telling transport to close"),n.transport.close()}function t(){n.removeListener("upgrade",t),n.removeListener("upgradeError",t),e()}function i(){n.once("upgrade",t),n.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():e()}):this.upgrading?i():e()}return this},n.prototype.onError=function(e){r("socket error %j",e),n.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},n.prototype.onClose=function(e,t){("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState)&&(r('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},n.prototype.filterUpgrades=function(e){for(var t=[],i=0,n=e.length;n>i;i++)~s(this.transports,e[i])&&t.push(e[i]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:"n9i2g6","engine.io-parser":20,indexof:24,parsejson:26,parseqs:27,parseuri:28}],13:[function(e,t,i){function n(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var a=e("engine.io-parser");e=e("component-emitter"),t.exports=n,e(n.prototype),n.prototype.onError=function(e,t){var i=Error(e);return i.type="TransportError",i.description=t,this.emit("error",i),this},n.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},n.prototype.send=function(e){if("open"!=this.readyState)throw Error("Transport not open");this.write(e)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(e){e=a.decodePacket(e,this.socket.binaryType),this.onPacket(e)},n.prototype.onPacket=function(e){this.emit("packet",e)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":8,"engine.io-parser":20}],14:[function(e,t,i){(function(t){var n=e("xmlhttprequest-ssl"),a=e("./polling-xhr"),o=e("./polling-jsonp"),r=e("./websocket");i.polling=function(e){var i=!1,r=!1,s=!1!==e.jsonp;if(t.location&&(r="https:"==location.protocol,(i=location.port)||(i=r?443:80),i=e.hostname!=location.hostname||i!=e.port,r=e.secure!=r),e.xdomain=i,e.xscheme=r,"open"in new n(e)&&!e.forceJSONP)return new a(e);if(!s)throw Error("JSONP disabled");return new o(e)},i.websocket=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,"xmlhttprequest-ssl":19}],15:[function(e,t,i){(function(i){function n(){}function a(e){o.call(this,e),this.query=this.query||{},s||(i.___eio||(i.___eio=[]),s=i.___eio),this.index=s.length;var t=this;s.push(function(e){t.onData(e)}),this.query.j=this.index,i.document&&i.addEventListener&&i.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=n)},!1)}var o=e("./polling"),r=e("component-inherit");t.exports=a;var s,l=/\n/g,c=/\\n/g;r(a,o),a.prototype.supportsBinary=!1,a.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.iframe=this.form=null),o.prototype.doClose.call(this)},a.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(t,i):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},a.prototype.doWrite=function(e,t){function i(){n(),t()}function n(){if(a.iframe)try{a.form.removeChild(a.iframe)}catch(e){a.onError("jsonp polling iframe removal error",e)}try{o=document.createElement('<iframe src="javascript:0" name="'+a.iframeId+'">')}catch(t){o=document.createElement("iframe"),o.name=a.iframeId,o.src="javascript:0"}o.id=a.iframeId,a.form.appendChild(o),a.iframe=o}var a=this;if(!this.form){var o,r=document.createElement("form"),s=document.createElement("textarea"),d=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=d,r.method="POST",r.setAttribute("accept-charset","utf-8"),s.name="d",r.appendChild(s),document.body.appendChild(r),this.form=r,this.area=s}this.form.action=this.uri(),n(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(p){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==a.iframe.readyState&&i()}:this.iframe.onload=i}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-inherit":9}],16:[function(e,t,i){(function(i){function n(){}function a(e){if(l.call(this,e),i.location){var t="https:"==location.protocol,n=location.port;n||(n=t?443:80),this.xd=e.hostname!=i.location.hostname||n!=e.port,this.xs=e.secure!=t}else this.extraHeaders=e.extraHeaders}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function r(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var s=e("xmlhttprequest-ssl"),l=e("./polling"),c=e("component-emitter"),d=e("component-inherit"),p=e("debug")("engine.io-client:polling-xhr");t.exports=a,t.exports.Request=o,d(a,l),a.prototype.supportsBinary=!0,a.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new o(e)},a.prototype.doWrite=function(e,t){var i=this.request({method:"POST",data:e,isBinary:"string"!=typeof e&&void 0!==e}),n=this;i.on("success",t),i.on("error",function(e){n.onError("xhr post error",e)}),this.sendXhr=i},a.prototype.doPoll=function(){p("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new s(e),n=this;try{p("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck(!0);for(var a in this.extraHeaders)this.extraHeaders.hasOwnProperty(a)&&t.setRequestHeader(a,this.extraHeaders[a])}}catch(r){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(l){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},p("xhr data %s",this.data),t.send(this.data)}catch(c){return void setTimeout(function(){n.onError(c)},0)}i.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,e)try{this.xhr.abort()}catch(t){}i.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(i){}if("application/octet-stream"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(n){var a=new Uint8Array(this.xhr.response);t=[];for(var o=0,r=a.length;r>o;o++)t.push(a[o]);e=String.fromCharCode.apply(null,t)}else e=this.xhr.responseText}catch(s){this.onError(s)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return"undefined"!=typeof i.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},i.document&&(o.requestsCount=0,o.requests={},i.attachEvent?i.attachEvent("onunload",r):i.addEventListener&&i.addEventListener("beforeunload",r,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-emitter":8,
"component-inherit":9,debug:"n9i2g6","xmlhttprequest-ssl":19}],17:[function(e,t,i){function n(e){var t=e&&e.forceBase64;(!c||t)&&(this.supportsBinary=!1),a.call(this,e)}var a=e("../transport"),o=e("parseqs"),r=e("engine.io-parser");i=e("component-inherit");var s=e("yeast"),l=e("debug")("engine.io-client:polling");t.exports=n;var c=null!=new(e("xmlhttprequest-ssl"))({xdomain:!1}).responseType;i(n,a),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(e){function t(){l("paused"),i.readyState="paused",e()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(l("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){l("pre-pause polling complete"),--n||t()})),this.writable||(l("we are currently writing - waiting to pause"),n++,this.once("drain",function(){l("pre-pause writing complete"),--n||t()}))}else t()},n.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(e){var t=this;l("polling got data %s",e),r.decodePayload(e,this.socket.binaryType,function(e,i,n){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)}),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},n.prototype.write=function(e){var t=this;this.writable=!1;var i=function(){t.writable=!0,t.emit("drain")},t=this;r.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,i)})},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",i="";!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(i=":"+this.port),e.length&&(e="?"+e);var n=-1!==this.hostname.indexOf(":");return t+"://"+(n?"["+this.hostname+"]":this.hostname)+i+this.path+e}},{"../transport":13,"component-inherit":9,debug:"n9i2g6","engine.io-parser":20,parseqs:27,"xmlhttprequest-ssl":19,yeast:30}],18:[function(e,t,i){(function(i){function n(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,a.call(this,e)}var a=e("../transport"),o=e("engine.io-parser"),r=e("parseqs"),s=e("component-inherit"),l=e("yeast"),c=e("debug")("engine.io-client:websocket"),d=i.WebSocket||i.MozWebSocket,p=d;if(!p&&"undefined"==typeof window)try{p=e("ws")}catch(h){}t.exports=n,s(n,a),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.ws=d?new p(e):new p(e,void 0,t),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(n.prototype.onData=function(e){var t=this;setTimeout(function(){a.prototype.onData.call(t,e)},0)}),n.prototype.write=function(e){function t(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var a=e.length,r=0,s=a;s>r;r++)(function(e){o.encodePacket(e,n.supportsBinary,function(o){if(!d){var r={};e.options&&(r.compress=e.options.compress),n.perMessageDeflate&&("string"==typeof o?i.Buffer.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(r.compress=!1)}try{d?n.ws.send(o):n.ws.send(o,r)}catch(s){c("websocket closed before onclose event")}--a||t()})})(e[r])},n.prototype.onClose=function(){a.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",i="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(i=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),e=r.encode(e),e.length&&(e="?"+e);var n=-1!==this.hostname.indexOf(":");return t+"://"+(n?"["+this.hostname+"]":this.hostname)+i+this.path+e},n.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===n.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":13,"component-inherit":9,debug:"n9i2g6","engine.io-parser":20,parseqs:27,ws:7,yeast:30}],19:[function(e,t,i){var n=e("has-cors");t.exports=function(e){var t=e.xdomain,i=e.xscheme;e=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(a){}try{if("undefined"!=typeof XDomainRequest&&!i&&e)return new XDomainRequest}catch(o){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(r){}}},{"has-cors":23}],20:[function(e,t,i){(function(t){function n(e,t,n){if(!t)return i.encodeBase64Packet(e,n);var a=new FileReader;return a.onload=function(){e.data=a.result,i.encodePacket(e,t,!0,n)},a.readAsArrayBuffer(e.data)}function a(e,t,i){var n=Array(e.length);i=c(e.length,i);for(var a=function(e,i,a){t(i,function(t,i){n[e]=i,a(t,n)})},o=0;o<e.length;o++)a(o,e[o],i)}var o=e("./keys"),r=e("has-binary"),s=e("arraybuffer.slice"),l=e("base64-arraybuffer"),c=e("after"),d=e("utf8"),p=navigator.userAgent.match(/Android/i),h=/PhantomJS/i.test(navigator.userAgent),m=p||h;i.protocol=3;var u=i.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},g=o(u),f={type:"error",data:"parser error"},y=e("blob");i.encodePacket=function(e,a,o,r){"function"==typeof a&&(r=a,a=!1),"function"==typeof o&&(r=o,o=null);var s=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&s instanceof ArrayBuffer){if(a){for(o=e.data,a=new Uint8Array(o),o=new Uint8Array(1+o.byteLength),o[0]=u[e.type],e=0;e<a.length;e++)o[e+1]=a[e];e=r(o.buffer)}else e=i.encodeBase64Packet(e,r);return e}return y&&s instanceof t.Blob?(a?m?e=n(e,a,r):(a=new Uint8Array(1),a[0]=u[e.type],e=new y([a.buffer,e.data]),e=r(e)):e=i.encodeBase64Packet(e,r),e):s&&s.base64?r("b"+i.packets[e.type]+e.data.data):(a=u[e.type],void 0!==e.data&&(a+=o?d.encode(String(e.data)):String(e.data)),r(""+a))},i.encodeBase64Packet=function(e,n){var a="b"+i.packets[e.type];if(y&&e.data instanceof t.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(a+e)},o.readAsDataURL(e.data)}var r;try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(s){r=new Uint8Array(e.data);for(var l=Array(r.length),c=0;c<r.length;c++)l[c]=r[c];r=String.fromCharCode.apply(null,l)}return a+=t.btoa(r),n(a)},i.decodePacket=function(e,t,n){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return i.decodeBase64Packet(e.substr(1),t);if(n)try{e=d.decode(e)}catch(a){return f}return n=e.charAt(0),Number(n)==n&&g[n]?1<e.length?{type:g[n],data:e.substring(1)}:{type:g[n]}:f}return n=new Uint8Array(e)[0],e=s(e,1),y&&"blob"===t&&(e=new y([e])),{type:g[n],data:e}},i.decodeBase64Packet=function(e,i){var n=g[e.charAt(0)];if(!t.ArrayBuffer)return{type:n,data:{base64:!0,data:e.substr(1)}};var a=l.decode(e.substr(1));return"blob"===i&&y&&(a=new y([a])),{type:n,data:a}},i.encodePayload=function(e,t,n){"function"==typeof t&&(n=t,t=null);var o=r(e);return t&&o?y&&!m?i.encodePayloadAsBlob(e,n):i.encodePayloadAsArrayBuffer(e,n):e.length?void a(e,function(e,n){i.encodePacket(e,o?t:!1,!0,function(e){n(null,e.length+":"+e)})},function(e,t){return n(t.join(""))}):n("0:")},i.decodePayload=function(e,t,n){if("string"!=typeof e)return i.decodePayloadAsBinary(e,t,n);"function"==typeof t&&(n=t,t=null);var a;if(""==e)return n(f,0,1);a="";for(var o,r,s=0,l=e.length;l>s;s++)if(r=e.charAt(s),":"!=r)a+=r;else{if(""==a||a!=(o=Number(a)))return n(f,0,1);if(r=e.substr(s+1,o),a!=r.length)return n(f,0,1);if(r.length){if(a=i.decodePacket(r,t,!0),f.type==a.type&&f.data==a.data)return n(f,0,1);if(!1===n(a,s+o,l))return}s+=o,a=""}return""!=a?n(f,0,1):void 0},i.encodePayloadAsArrayBuffer=function(e,t){return e.length?void a(e,function(e,t){i.encodePacket(e,!0,!0,function(e){return t(null,e)})},function(e,i){var n=i.reduce(function(e,t){var i;return i="string"==typeof t?t.length:t.byteLength,e+i.toString().length+i+2},0),a=new Uint8Array(n),o=0;return i.forEach(function(e){var t="string"==typeof e,i=e;if(t){for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);i=i.buffer}for(t?a[o++]=0:a[o++]=1,e=i.byteLength.toString(),n=0;n<e.length;n++)a[o++]=parseInt(e[n]);for(a[o++]=255,i=new Uint8Array(i),n=0;n<i.length;n++)a[o++]=i[n]}),t(a.buffer)}):t(new ArrayBuffer(0))},i.encodePayloadAsBlob=function(e,t){a(e,function(e,t){i.encodePacket(e,!0,!0,function(e){var i=new Uint8Array(1);if(i[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),a=0;a<e.length;a++)n[a]=e.charCodeAt(a);e=n.buffer,i[0]=0}for(var n=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(n.length+1),a=0;a<n.length;a++)o[a]=parseInt(n[a]);o[n.length]=255,y&&(e=new y([i.buffer,o.buffer,e]),t(null,e))})},function(e,i){return t(new y(i))})},i.decodePayloadAsBinary=function(e,t,n){"function"==typeof t&&(n=t,t=null);for(var a=[],o=!1;0<e.byteLength;){for(var r=new Uint8Array(e),l=0===r[0],c="",d=1;255!=r[d];d++){if(310<c.length){o=!0;break}c+=r[d]}if(o)return n(f,0,1);if(e=s(e,2+c.length),c=parseInt(c),r=s(e,0,c),l)try{r=String.fromCharCode.apply(null,new Uint8Array(r))}catch(p){for(l=new Uint8Array(r),r="",d=0;d<l.length;d++)r+=String.fromCharCode(l[d])}a.push(r),e=s(e,c)}var h=a.length;a.forEach(function(e,a){n(i.decodePacket(e,t,!0),a,h)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":21,after:3,"arraybuffer.slice":4,"base64-arraybuffer":5,blob:6,"has-binary":22,utf8:29}],21:[function(e,t,i){t.exports=Object.keys||function(e){var t,i=[],n=Object.prototype.hasOwnProperty;for(t in e)n.call(e,t)&&i.push(t);return i}},{}],22:[function(e,t,i){(function(i){var n=e("isarray");t.exports=function(e){function t(e){if(!e)return!1;if(i.Buffer&&i.Buffer.isBuffer(e)||i.ArrayBuffer&&e instanceof ArrayBuffer||i.Blob&&e instanceof Blob||i.File&&e instanceof File)return!0;if(n(e)){for(var a=0;a<e.length;a++)if(t(e[a]))return!0}else if(e&&"object"==typeof e)for(a in e.toJSON&&(e=e.toJSON()),e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return!0;return!1}return t(e)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:25}],23:[function(e,t,i){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){t.exports=!1}},{}],24:[function(e,t,i){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},{}],25:[function(e,t,i){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],26:[function(e,t,i){(function(e){var i=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,a=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,r=/^\s+/,s=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(r,"").replace(s,""),e.JSON&&JSON.parse?JSON.parse(t):i.test(t.replace(n,"@").replace(a,"]").replace(o,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,t,i){i.encode=function(e){var t,i="";for(t in e)e.hasOwnProperty(t)&&(i.length&&(i+="&"),i+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return i},i.decode=function(e){var t={};e=e.split("&");for(var i=0,n=e.length;n>i;i++){var a=e[i].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},{}],28:[function(e,t,i){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");t.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length)),e=n.exec(e||"");for(var r={},s=14;s--;)r[a[s]]=e[s]||"";return-1!=i&&-1!=o&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r}},{}],29:[function(e,t,i){(function(e){!function(n){function a(e){for(var t,i,n=[],a=0,o=e.length;o>a;)t=e.charCodeAt(a++),t>=55296&&56319>=t&&o>a?(i=e.charCodeAt(a++),56320==(64512&i)?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),a--)):n.push(t);return n}function o(e){if(e>=55296&&57343>=e)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function r(){if(m>=h)throw Error("Invalid byte index");var e=255&p[m];if(m++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function s(){var e,t,i,n;if(m>h)throw Error("Invalid byte index");if(m==h)return!1;if(e=255&p[m],m++,0==(128&e))return e;if(192==(224&e)){if(t=r(),e=(31&e)<<6|t,e>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=r(),i=r(),e=(15&e)<<12|t<<6|i,e>=2048)return o(e),e;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=r(),i=r(),n=r(),e=(15&e)<<18|t<<12|i<<6|n,e>=65536&&1114111>=e))return e;throw Error("Invalid UTF-8 detected")}var l="object"==typeof i&&i,c="object"==typeof t&&t&&t.exports==l&&t,d="object"==typeof e&&e;(d.global===d||d.window===d)&&(n=d);var p,h,m,u=String.fromCharCode,d={version:"2.0.0",encode:function(e){e=a(e);for(var t,i=e.length,n=-1,r="";++n<i;){if(t=e[n],0==(4294967168&t))t=u(t);else{var s="";0==(4294965248&t)?s=u(t>>6&31|192):0==(4294901760&t)?(o(t),s=u(t>>12&15|224),s+=u(t>>6&63|128)):0==(4292870144&t)&&(s=u(t>>18&7|240),s+=u(t>>12&63|128),s+=u(t>>6&63|128)),t=s+=u(63&t|128)}r+=t}return r},decode:function(e){p=a(e),h=p.length,m=0,e=[];for(var t;!1!==(t=s());)e.push(t);t=e.length;for(var i,n=-1,o="";++n<t;)i=e[n],i>65535&&(i-=65536,o+=u(i>>>10&1023|55296),i=56320|1023&i),o+=u(i);return o}};if(l&&!l.nodeType)if(c)c.exports=d;else{n={}.hasOwnProperty;for(var g in d)n.call(d,g)&&(l[g]=d[g])}else n.utf8=d}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(e,t,i){function n(e){var t="";do t=r[e%s]+t,e=Math.floor(e/s);while(e>0);return t}function a(){var e=n(+new Date);return e!==o?(c=0,o=e):e+"."+n(c++)}for(var o,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,l={},c=0,d=0;s>d;d++)l[r[d]]=d;a.encode=n,a.decode=function(e){var t=0;for(d=0;d<e.length;d++)t=t*s+l[e.charAt(d)];return t},t.exports=a},{}]},{},[10])(10)})}(),$_TAWK_JSON={},function(){function t(e,i){function a(e){if(a[e]!==f)return a[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=a("json-stringify")&&a("json-parse");else{var n;if("json-stringify"==e){t=i.stringify;var o="function"==typeof t&&v;if(o){(n=function(){return 1}).toJSON=n;try{o="0"===t(0)&&"0"===t(new r)&&'""'==t(new s)&&t(y)===f&&t(f)===f&&t()===f&&"1"===t(n)&&"[1]"==t([n])&&"[null]"==t([f])&&"null"==t(null)&&"[null,null,null]"==t([f,y,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==t({a:[n,!0,!1,null,"\x00\b\n\f\r	"]})&&"1"===t(null,n)&&"[\n 1,\n 2\n]"==t([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==t(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==t(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==t(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==t(new c(-1))}catch(l){o=!1}}t=o}if("json-parse"==e){if(t=i.parse,"function"==typeof t)try{if(0===t("0")&&!t(!1)){n=t('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var d=5==n.a.length&&1===n.a[0];if(d){try{d=!t('"	"')}catch(p){}if(d)try{d=1!==t("01")}catch(h){}if(d)try{d=1!==t("1.")}catch(m){}}}}catch(u){d=!1}t=d}}return a[e]=!!t}e||(e=o.Object()),i||(i=o.Object());var r=e.Number||o.Number,s=e.String||o.String,l=e.Object||o.Object,c=e.Date||o.Date,d=e.SyntaxError||o.SyntaxError,p=e.TypeError||o.TypeError,h=e.Math||o.Math,m=e.JSON||o.JSON;"object"==typeof m&&m&&(i.stringify=m.stringify,i.parse=m.parse);var u,g,f,l=l.prototype,y=l.toString,v=new c(-0xc782b5b800cec);try{v=-109252==v.getUTCFullYear()&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(b){}if(!a("json")){var w=a("bug-string-char-index");if(!v)var x=h.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],k=function(e,t){return C[t]+365*(e-1970)+x((e-1969+(t=+(t>1)))/4)-x((e-1901+t)/100)+x((e-1601+t)/400)};if((u=l.hasOwnProperty)||(u=function(e){var t,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=y?u=function(e){var t=this.__proto__;return e=e in(this.__proto__=null,this),this.__proto__=t,e}:(t=i.constructor,u=function(e){var i=(this.constructor||t).prototype;return e in this&&!(e in i&&this[e]===i[e])}),i=null,u.call(this,e)}),g=function(e,t){var i,a,o,r=0;(i=function(){this.valueOf=0}).prototype.valueOf=0,a=new i;for(o in a)u.call(a,o)&&r++;return i=a=null,r?g=2==r?function(e,t){var i,n={},a="[object Function]"==y.call(e);for(i in e)a&&"prototype"==i||u.call(n,i)||!(n[i]=1)||!u.call(e,i)||t(i)}:function(e,t){var i,n,a="[object Function]"==y.call(e);for(i in e)a&&"prototype"==i||!u.call(e,i)||(n="constructor"===i)||t(i);(n||u.call(e,i="constructor"))&&t(i)}:(a="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),g=function(e,t){var i,o="[object Function]"==y.call(e),r=!o&&"function"!=typeof e.constructor&&n[typeof e.hasOwnProperty]&&e.hasOwnProperty||u;for(i in e)o&&"prototype"==i||!r.call(e,i)||t(i);for(o=a.length;i=a[--o];r.call(e,i)&&t(i));}),g(e,t)},!a("json-stringify")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T=function(e,t){return("000000"+(t||0)).slice(-e)},_=function(e){for(var t='"',i=0,n=e.length,a=!w||n>10,o=a&&(w?e.split(""):e);n>i;i++){var r=e.charCodeAt(i);switch(r){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=E[r];break;default:if(32>r){t+="\\u00"+T(2,r.toString(16));break}t+=a?o[i]:e.charAt(i)}}return t+'"'},S=function(e,t,i,n,a,o,r){var s,l,c,d,h,m,v,b,w;try{s=t[e]}catch(C){}if("object"==typeof s&&s)if(l=y.call(s),"[object Date]"!=l||u.call(s,"toJSON"))"function"==typeof s.toJSON&&("[object Number]"!=l&&"[object String]"!=l&&"[object Array]"!=l||u.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&1/0>s){if(k){for(d=x(s/864e5),l=x(d/365.2425)+1970-1;k(l+1,0)<=d;l++);for(c=x((d-k(l,0))/30.42);k(l,c+1)<=d;c++);d=1+d-k(l,c),h=(s%864e5+864e5)%864e5,m=x(h/36e5)%24,v=x(h/6e4)%60,b=x(h/1e3)%60,h%=1e3}else l=s.getUTCFullYear(),c=s.getUTCMonth(),d=s.getUTCDate(),m=s.getUTCHours(),v=s.getUTCMinutes(),b=s.getUTCSeconds(),h=s.getUTCMilliseconds();s=(0>=l||l>=1e4?(0>l?"-":"+")+T(6,0>l?-l:l):T(4,l))+"-"+T(2,c+1)+"-"+T(2,d)+"T"+T(2,m)+":"+T(2,v)+":"+T(2,b)+"."+T(3,h)+"Z"}else s=null;if(i&&(s=i.call(t,e,s)),null===s)return"null";if(l=y.call(s),"[object Boolean]"==l)return""+s;if("[object Number]"==l)return s>-1/0&&1/0>s?""+s:"null";if("[object String]"==l)return _(""+s);if("object"==typeof s){for(e=r.length;e--;)if(r[e]===s)throw p();if(r.push(s),w=[],t=o,o+=a,"[object Array]"==l){for(c=0,e=s.length;e>c;c++)l=S(c,s,i,n,a,o,r),w.push(l===f?"null":l);e=w.length?a?"[\n"+o+w.join(",\n"+o)+"\n"+t+"]":"["+w.join(",")+"]":"[]"}else g(n||s,function(e){var t=S(e,s,i,n,a,o,r);t!==f&&w.push(_(e)+":"+(a?" ":"")+t)}),e=w.length?a?"{\n"+o+w.join(",\n"+o)+"\n"+t+"}":"{"+w.join(",")+"}":"{}";return r.pop(),e}};i.stringify=function(e,t,i){var a,o,r,s;if(n[typeof t]&&t)if("[object Function]"==(s=y.call(t)))o=t;else if("[object Array]"==s){r={};for(var l,c=0,d=t.length;d>c;l=t[c++],s=y.call(l),("[object String]"==s||"[object Number]"==s)&&(r[l]=1));}if(i)if("[object Number]"==(s=y.call(i))){if(0<(i-=i%1))for(a="",i>10&&(i=10);a.length<i;a+=" ");}else"[object String]"==s&&(a=10>=i.length?i:i.slice(0,10));return S("",(l={},l[""]=e,l),o,r,a,"",[])}}if(!a("json-parse")){var I,R,B=s.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},H=function(){throw I=R=null,d()},M=function(){for(var e,t,i,n,a,o=R,r=o.length;r>I;)switch(a=o.charCodeAt(I)){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=w?o.charAt(I):o[I],I++,e;case 34:for(e="@",I++;r>I;)if(a=o.charCodeAt(I),32>a)H();else if(92==a)switch(a=o.charCodeAt(++I)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=N[a],I++;break;case 117:for(t=++I,i=I+4;i>I;I++)a=o.charCodeAt(I),a>=48&&57>=a||a>=97&&102>=a||a>=65&&70>=a||H();e+=B("0x"+o.slice(t,I));break;default:H()}else{if(34==a)break;for(a=o.charCodeAt(I),t=I;a>=32&&92!=a&&34!=a;)a=o.charCodeAt(++I);e+=o.slice(t,I)}if(34==o.charCodeAt(I))return I++,e;H();default:if(t=I,45==a&&(n=!0,a=o.charCodeAt(++I)),a>=48&&57>=a){for(48==a&&(a=o.charCodeAt(I+1),a>=48&&57>=a)&&H();r>I&&(a=o.charCodeAt(I),a>=48&&57>=a);I++);if(46==o.charCodeAt(I)){for(i=++I;r>i&&(a=o.charCodeAt(i),a>=48&&57>=a);i++);i==I&&H(),I=i}if(a=o.charCodeAt(I),101==a||69==a){for(a=o.charCodeAt(++I),43!=a&&45!=a||I++,i=I;r>i&&(a=o.charCodeAt(i),a>=48&&57>=a);i++);i==I&&H(),I=i}return+o.slice(t,I)}if(n&&H(),"true"==o.slice(I,I+4))return I+=4,!0;if("false"==o.slice(I,I+5))return I+=5,!1;if("null"==o.slice(I,I+4))return I+=4,null;H()}return"$"},A=function(e){var t,i;if("$"==e&&H(),"string"==typeof e){if("@"==(w?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=M(),"]"!=e;i||(i=!0))i&&(","==e?(e=M(),"]"==e&&H()):H()),","==e&&H(),t.push(A(e));return t}if("{"==e){for(t={};e=M(),"}"!=e;i||(i=!0))i&&(","==e?(e=M(),"}"==e&&H()):H()),","!=e&&"string"==typeof e&&"@"==(w?e.charAt(0):e[0])&&":"==M()||H(),t[e.slice(1)]=A(M());return t}H()}return e},P=function(e,t,i){i=z(e,t,i),i===f?delete e[t]:e[t]=i},z=function(e,t,i){var n,a=e[t];if("object"==typeof a&&a)if("[object Array]"==y.call(a))for(n=a.length;n--;)P(a,n,i);else g(a,function(e){P(a,e,i)});return i.call(e,t,a)};i.parse=function(e,t){var i,n;return I=0,R=""+e,i=A(M()),"$"!=M()&&H(),I=R=null,t&&"[object Function]"==y.call(t)?z((n={},n[""]=i,n),"",t):i}}}return i.runInContext=t,i}var i="function"==typeof define&&define.amd,n={"function":!0,object:!0},a=n[typeof exports]&&exports&&!exports.nodeType&&exports,o=n[typeof window]&&window||this,r=a&&n[typeof module]&&module&&!module.nodeType&&"object"==typeof e&&e;if(!r||r.global!==r&&r.window!==r&&r.self!==r||(o=r),a&&!i)var s=t(o,a);else var l=o.JSON,c=o.JSON3,d=!1,s=t(o,o.JSON3={noConflict:function(){return d||(d=!0,o.JSON=l,o.JSON3=c,l=c=null),s}});$_TAWK_JSON={parse:s.parse,stringify:s.stringify}}.call(this),function(e){"function"!=typeof Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1}),e=e.EventEmitter=function(){};var t=Array.isArray;e.prototype.emit=function(e){var i;if("error"===e&&(!this._events||!this._events.error||t(this._events.error)&&!this._events.error.length)){if(arguments[1]instanceof Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.")}if(!this._events)return!1;var n=this._events[e];if(!n)return!1;if("function"==typeof n){switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}return!0}if(t(n)){i=Array.prototype.slice.call(arguments,1);for(var n=n.slice(),a=0,o=n.length;o>a;a++)n[a].apply(this,i);return!0}return!1},e.prototype.addListener=function(e,i){if("function"!=typeof i)throw Error("addListener only takes instances of Function");return this._events||(this._events={}),this._events[e]?t(this._events[e])?this._events[e].push(i):this._events[e]=[this._events[e],i]:this._events[e]=i,this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(e,t){var i=this;i.on(e,function n(){i.removeListener(e,n),t.apply(this,arguments)})},e.prototype.removeListener=function(e,i){if("function"!=typeof i)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(t(n)){var a=n.indexOf(i);if(0>a)return this;n.splice(a,1),0===n.length&&delete this._events[e]}else this._events[e]===i&&delete this._events[e];return this},e.prototype.removeAllListeners=function(e){return e?e&&this._events&&this._events[e]&&(this._events[e]=null):this._events={},this},e.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),t(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}(window),function(e){function t(t,i){if(!i.engineIo)throw Error("You must specify engineIo");if(i.timestampRequests=!0,i.timestampParam="__t",this.__callbackIndex=0,this.__callbacks={},this.state=n.OPENING,this.socket=new i.engineIo(t,i),this.debug=!1,document.getElementById("tawk__dmz")){var a=this;e.getSocketTransport=function(){return a.socket.transport?a.socket.transport.name:void 0}}document.location&&"#!tawk-debug"===document.location.hash&&(this.debug=!0),EventEmitter.call(this),this.attachListeners()}var i,n={OPENING:"opening",OPEN:"open",CLOSING:"closing",CLOSED:"closed"};for(i in EventEmitter.prototype)"function"==typeof EventEmitter.prototype[i]&&Object.prototype.hasOwnProperty.call(EventEmitter.prototype,i)&&(t.prototype[i]=EventEmitter.prototype[i]);t.prototype.attachListeners=function(){var e=this;this.socket.on("open",function(){e.state=n.OPEN,e.emit("connect")}),this.socket.on("close",function(t,i){e.emit("disconnect",t,i),e.doClose()}),this.socket.on("error",function(t){e.emit("error",t)}),this.socket.on("message",function(t){e.onMessage(t)})},t.prototype.close=t.prototype.disconnect=function(){var e=this;this.state===n.OPENING&&setTimeout(function(){e.close()},1e3),this.state===n.OPEN&&(this.state=n.CLOSING,this.clearCallbacks(),this.socket.close())},t.prototype.doClose=function(){this.clearCallbacks(),this.state=n.CLOSED,this.socket.removeAllListeners(),this.removeAllListeners(),this.socket=null},t.prototype.clearCallbacks=function(){this.__callbacks={}},t.prototype.onMessage=function(e){(e=this.decode(e))&&("__callback__"===e.c?this.executeCallback(e):this.emit.apply(this,[e.c].concat(e.p)))},t.prototype.executeCallback=function(e){var t=this.__callbacks[e.cb];delete this.__callbacks[e.cb],t.apply(null,e.p)},t.prototype.decode=function(e){var t;this.debug&&console&&console.log&&(data=new Date,console.log("received "+data.toUTCString()+" : "+e));try{t=$_TAWK_JSON.parse(e)}catch(i){return void this.emit("error",i)}if(t.c)if("error"===t.c||"connect"===t.c||"disconnect"===t.c)this.emit("error",Error("server returned reserved command : `"+t.cmd+"`"));else if(t.p&&"[object Array]"!==Object.prototype.toString.call(t.p))this.emit("error",Error("data is expected to be an array"));else{if("__callback__"!==t.c)return t;if(e=parseInt(t.cb,10),isNaN(e))this.emit("error",Error("received callback command but there was no valid callback id(`"+e+"`"));else{if(this.__callbacks[e])return t.cb=e,t;this.emit("error",Error("received callback command but callback isnt present (`"+t.cb+"`)"))}}else this.emit("error",Error("no command was sent by the server"))},t.prototype.send=function(){var e=this.encode(arguments);this.debug&&console&&console.log&&(data=new Date,console.log("send "+data.toUTCString()+" : "+e)),this.state!==n.OPEN?this.emit("error",Error("Socket isnt open its state is `"+this.state+"` tried to send `"+e+"`")):e&&this.socket.send(e)},t.prototype.encode=function(e){var t={};if(e=Array.prototype.slice.call(e),e[0]){t.c=e[0],"function"==typeof e[e.length-1]&&(t.cb=this.enqueuCallback(e.pop())),t.p=e.slice(1);var i;try{i=$_TAWK_JSON.stringify(t)}catch(n){return void this.emit("error",n)}return i}this.emit("error",Error("now command specified"))},t.prototype.enqueuCallback=function(e){return this.__callbacks[this.__callbackIndex]=e,this.__callbackIndex++},e.$__TawkSocket=t}(window),function(e){var t,i,n,a,o,r,s={},l=this,c=(new Date).getTime(),d=l.navigator,p={viewHandler:null};e.startTime=c.toString(),e.loaded=!1,e.connected=!1,e.ready=!1,"undefined"!=typeof Tawk_LoadStart&&($_Tawk_LoadStart=Tawk_LoadStart);try{p.ResetStyle="html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{background-color:#ff9;color:#000;text-decoration:none}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}html,body{height:100%;width:100%}body{background:transparent;height:100%;width:100%;font:13px Helvetica,Arial,sans-serif;position:relative}.clear{clear:both}.clearfix:after{content:'';display:block;height:0;clear:both;visibility:hidden}",p.MaximizedStyle=".rtl-direction{direction:rtl !important}#tawkchat-maximized-wrapper{width:100%;height:100%;position:relative}#borderWrapper{position:absolute;top:0;bottom:0;z-index:-10;background-color:#e1e1e1;width:100%;height:100%}.noCookies #borderWrapper{background-color:transparent}#innerWrapper{left:2px;position:absolute;right:2px;top:2px;bottom:20px;*height:expression(this.parentNode.offsetHeight - 4+'px');*width:expression(this.parentNode.offsetWidth - 4+'px');-webkit-box-shadow:rgba(0,0,0,0.0980392) 0 0 1px 2px;-moz-box-shadow:rgba(0,0,0,0.0980392) 0 0 1px 2px;box-shadow:rgba(0,0,0,0.0980392) 0 0 1px 2px}.embedded #innerWrapper{left:0 !important;right:0 !important;top:0 !important;bottom:0 !important}#headerBoxWrapper{height:45px}#expandableLink{height:5px;width:100%;font-size:0;cursor:s-resize;visibility:hidden;position:absolute;top:56px;z-index:30}#expandableIcon{width:30px;height:4px;margin:0 auto;background:#a1a1a1}#expandableLink.expanded{cursor:n-resize}#headerBox{height:45px;position:relative;z-index:30}.noCookies #headerBox{-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box;border-radius:8px 8px 0 0 !important;-moz-border-radius:8px 8px 0 0 !important;-webkit-border-radius:8px 8px 0 0 !important}.noCookies.embed #headerBox{border-radius:0 !important;-moz-border-radius:0 !important;-webkit-border-radius:0 !important}#agentBar{position:absolute;bottom:32px;top:70px;width:100%;background-color:#eee;display:none;overflow:auto;z-index:10003}.noCookies #headerBoxControlsContainer{float:right;margin-left:0;width:28px}#headerBoxControlsContainer{height:45px;float:left;width:83px;margin-left:-83px}.embedded #headerBoxControlsContainer{display:none;width:30px;margin-left:-30px}.embedded #headerAccountState{margin-right:28px;margin-left:0}.embedded.rtl-direction #headerAccountState{margin-right:0;margin-left:28px}.rtl-direction #headerBoxControlsContainer{margin-left:-100%}#popupLink{float:right;display:inline;margin:15px 6px 0 0;background:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-repeat:no-repeat;background-position:-213px 0;width:20px;height:20px;cursor:pointer}.noCookies #minimizeChat{width:15px;margin:20px 0;cursor:pointer}.noCookies.white #minimizeChat{background-position:-95px 0}.noCookies.black #minimizeChat{background-position:-32px 0}#minimizeLink{display:inline;background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-188px 0;width:20px;height:20px;background-repeat:no-repeat;float:right;margin:15px 6px 0 0;cursor:pointer}#headerAccountStateContainer{float:left;width:100%;height:45px}#headerAccountState{vertical-align:baseline;font-size:17px;padding:0 15px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-right:80px;margin-left:0;line-height:45px}.rtl-direction #headerAccountState{margin-right:0;margin-left:80px}#chatContainerWrapper{position:absolute;bottom:109px;top:3px;width:100%;background-color:#fcfcfc}#chatContainerWrapper.chat-ended{bottom:118px;*height:expression(this.parentNode.offsetHeight - 200+'px')}#chatContainer{overflow:auto;position:absolute;font-size:14px;font-family:Arial;color:#6c6c6c;min-width:270px;left:3px;right:3px;height:auto;overflow-x:hidden;top:0;bottom:0}#maxFileNotificationContainer,#maxSizeNotificationContainer{color:#8a6d3b;background-color:#fcf8e3;border:#faebcc 1px solid;margin:5px 10px;padding:5px 10px;border-radius:6px;font-size:13px}.closeButtonContainer{margin:10px auto auto auto;text-align:right}.closeNotification{cursor:pointer;text-transform:uppercase}#maxFileSizeList,#maxFileNumberList{margin:10px}#maxFileSizeList li,#maxFileNumberList li{word-wrap:break-word}#maxFileSizeList a,#maxFileNumberList a{color:#00E}#chatContainer .hidden{display:none}.actionRetry{cursor:pointer;float:right}#actionsContainer{z-index:99998;height:107px;background-color:#fff;border-top:2px solid #e1e1e1;position:absolute;bottom:0;width:100%}#status-message{font-weight:bold;font-style:normal}#resizeBox{width:52px;height:52px;position:absolute;top:0;background-color:#000;z-index:5}body.right #resizeBox{left:0;float:left;-webkit-border-top-left-radius:3px;-moz-border-radius-topleft:3px;border-top-left-radius:3px}body.left #resizeBox{right:0;float:right;-webkit-border-top-right-radius:3px;-moz-border-radius-topright:3px;border-top-right-radius:3px}#resizeInnerBox{background-color:#fefefe;width:47px;height:47px}body.right #resizeInnerBox{-webkit-border-top-left-radius:3px;-moz-border-radius-topleft:3px;border-top-left-radius:3px;margin:5px 0 0 5px}body.left #resizeInnerBox{-webkit-border-top-right-radius:3px;-moz-border-radius-topright:3px;border-top-right-radius:3px;margin:5px 5px 0 0}#pluginsBar{height:23px;background-color:#c2c2c2;min-width:278px}#ratingContainer{position:absolute;width:38px;margin:0;right:30px;top:10px}.rtl-direction #ratingContainer{right:auto;left:30px;-ms-transform:rotateY(180deg);-webkit-transform:rotateY(180deg);-moz-transform:rotateY(180deg);-o-transform:rotateY(180deg);transform:rotateY(180deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2)}#ratingContainer a{float:left;margin:0 5px 0 0;width:14px;height:13px;cursor:pointer;background-repeat:no-repeat}.rtl-direction #ratingContainer a{margin:0 0 0 5px}#ratingContainer a:active,#ratingContainer a:focus{outline:0}.disabledSound{background-position:-21px 0;background-repeat:no-repeat}#textareaWrapper{display:block;background-color:#fff;position:relative}#textareaContainer{height:52px;padding:10px;padding-right:30px}.rtl-direction #textareaContainer{padding:10px;padding-left:30px}#chatTextarea{padding:0;margin:0;height:100%;width:100%;overflow:hidden;resize:none;border:0;vertical-align:top;font-size:14px !important;background-color:#fff;color:#000}#chatTextarea:active,#chatTextarea:focus{outline:0}#textareaContainer textarea::-webkit-input-placeholder{color:#b3b3b3;font-style:italic;font-family:'armata'}#textareaContainer textarea::-moz-placeholder{color:#b3b3b3;font-style:italic;font-family:'armata'}#textareaContainer textarea:-ms-input-placeholder{color:#b3b3b3;font-style:italic;font-family:'armata'}#greetingsContainer{margin:7px 45px 0 45px;padding:5px;text-align:center;white-space:pre-wrap;word-wrap:break-word;color:black;font-size:15px !important}#formContainer #greetingsContainer{margin:0 !important}.embedded{width:100%;height:100%}.embedded #headerBox{-webkit-border-top-left-radius:0 !important;-moz-border-radius-topleft:0 !important;border-top-left-radius:0 !important;-webkit-border-top-right-radius:0 !important;-moz-border-radius-topright:0 !important;border-top-right-radius:0 !important}#agentBar.expanded{height:auto;overflow-y:auto;display:block;max-height:153px}#agentList{padding:0 5px}#agentList .agentWrapper{border-radius:0;margin:10px 0}#profileDetail .agentContainer{margin-left:50px}.agentContainer{height:50px}.rtl-direction #profileDetail .agentContainer{margin-right:50px;margin-left:0}#agentBar .agentContainer{height:50px;width:100%;float:left}.agentContainerNoImage{height:45px}.agentWrapper{width:100%;min-width:280px;clear:both;position:relative;-webkit-border-top-left-radius:10px;-webkit-border-top-right-radius:10px;-moz-border-radius-topleft:10px;-moz-border-radius-topright:10px;border-top-left-radius:10px;border-top-right-radius:10px}#headerBox .agentInformationContainer{padding:10px 0}#agentBar .agentInformationContainer{padding:10px 0;margin-left:50px;margin-right:0}.rtl-direction #agentBar .agentInformationContainer{margin-right:50px;margin-left:0}.agentInformationContainerNoImage{padding-top:13px;padding-bottom:13px;font-size:16px}.agentInformationContainer{font-size:14px}.position-label{font-size:12px}.agentNameCentered{margin-top:8px;font-weight:bold}.noImageAgentProfileDetail{padding-left:5px}.rtl-direction .noImageAgentProfileDetail{padding:0 5px 0 0}.agentInformationContainer p{height:16px;white-space:nowrap;overflow:hidden;box-sizing:border-box;text-overflow:ellipsis}.agentInformationContainer .agentName{font-weight:bold}#headerBox .alias-image{-moz-animation:profileShow .5 ease-in;-webkit-animation:profileShow .5s ease-in;-o-animation:profileShow .5 ease-in;-ms-animation:profileShow .5 ease-in;animation:profileShow .5s ease-in}@-ms-keyframes profileShow{0%{-ms-transform:scale(0)}6.25%{-ms-transform:scale(0.1)}12.5%{-ms-transform:scale(0.2)}18.75%{-ms-transform:scale(0.3)}25%{-ms-transform:scale(0.4)}31.25%{-ms-transform:scale(0.5)}37.5%{-ms-transform:scale(0.6)}43.75%{-ms-transform:scale(0.7)}50%{-ms-transform:scale(0.8)}56.25%{-ms-transform:scale(0.9)}62.5%{-ms-transform:scale(1)}68.75%{-ms-transform:scale(1.1)}75%{-ms-transform:scale(1.2)}81.25%{-ms-transform:scale(1.3)}87.5%{-ms-transform:scale(1.2)}93.75%{-ms-transform:scale(1.1)}100%{-ms-transform:scale(1)}}@-webkit-keyframes profileShow{0%{-webkit-transform:scale(0)}6.25%{-webkit-transform:scale(0.1)}12.5%{-webkit-transform:scale(0.2)}18.75%{-webkit-transform:scale(0.3)}25%{-webkit-transform:scale(0.4)}31.25%{-webkit-transform:scale(0.5)}37.5%{-webkit-transform:scale(0.6)}43.75%{-webkit-transform:scale(0.7)}50%{-webkit-transform:scale(0.8)}56.25%{-webkit-transform:scale(0.9)}62.5%{-webkit-transform:scale(1)}68.75%{-webkit-transform:scale(1.1)}75%{-webkit-transform:scale(1.2)}81.25%{-webkit-transform:scale(1.3)}87.5%{-webkit-transform:scale(1.2)}93.75%{-webkit-transform:scale(1.1)}100%{-webkit-transform:scale(1)}}@-moz-keyframes profileShow{0%{-moz-transform:scale(0)}6.25%{-moz-transform:scale(0.1)}12.5%{-moz-transform:scale(0.2)}18.75%{-moz-transform:scale(0.3)}25%{-moz-transform:scale(0.4)}31.25%{-moz-transform:scale(0.5)}37.5%{-moz-transform:scale(0.6)}43.75%{-moz-transform:scale(0.7)}50%{-moz-transform:scale(0.8)}56.25%{-moz-transform:scale(0.9)}62.5%{-moz-transform:scale(1)}68.75%{-moz-transform:scale(1.1)}75%{-moz-transform:scale(1.2)}81.25%{-moz-transform:scale(1.3)}87.5%{-moz-transform:scale(1.2)}93.75%{-moz-transform:scale(1.1)}100%{-moz-transform:scale(1)}}@-o-keyframes profileShow{0%{-o-transform:scale(0)}6.25%{-o-transform:scale(0.1)}12.5%{-o-transform:scale(0.2)}18.75%{-o-transform:scale(0.3)}25%{-o-transform:scale(0.4)}31.25%{-o-transform:scale(0.5)}37.5%{-o-transform:scale(0.6)}43.75%{-o-transform:scale(0.7)}50%{-o-transform:scale(0.8)}56.25%{-o-transform:scale(0.9)}62.5%{-o-transform:scale(1)}68.75%{-o-transform:scale(1.1)}75%{-o-transform:scale(1.2)}81.25%{-o-transform:scale(1.3)}87.5%{-o-transform:scale(1.2)}93.75%{-o-transform:scale(1.1)}100%{-o-transform:scale(1)}}@keyframes profileShow{0%{transform:scale(0)}6.25%{transform:scale(0.1)}12.5%{transform:scale(0.2)}18.75%{transform:scale(0.3)}25%{transform:scale(0.4)}31.25%{transform:scale(0.5)}37.5%{transform:scale(0.6)}43.75%{transform:scale(0.7)}50%{transform:scale(0.8)}56.25%{transform:scale(0.9)}62.5%{transform:scale(1)}68.75%{transform:scale(1.1)}75%{transform:scale(1.2)}81.25%{transform:scale(1.3)}87.5%{transform:scale(1.2)}93.75%{transform:scale(1.1)}100%{transform:scale(1)}}#agentBar .alias-image,#headerBox .alias-image{width:40px;height:40px;margin:0;background-repeat:no-repeat;border-radius:20px;margin:5px 0;background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-624px 0;float:left;margin-left:-100%}.rtl-direction #agentBar .alias-image,.rtl-direction #headerBox .alias-image{float:right}.agentChatContainer .messageBody{margin:-12px 0 0 0;max-width:100%}.rtl-direction .agentChatContainer .messageBody{float:right;margin:-12px 00px 0 0}.agentChatContainer .message{background:#eee;color:#333;margin-right:40px;margin-left:0;padding:5px 10px;border-radius:0 15px 15px 15px}.rtl-direction .agentChatContainer .message{margin:0 0 0 40px;border-radius:15px 0 15px 15px}.ie9.rtl-direction .agentChatContainer .message{border-radius:0 15px 15px 15px !important}.agentChatContainer .messageStatusContainer{margin-left:-40px;position:absolute;top:5px;left:100%}.rtl-direction .agentChatContainer .messageStatusContainer{margin:0 -40px 0 0;left:auto;right:100%}.messageContainer.agentChatContainer{margin:10px 0 10px 12px}.rtl-direction .messageContainer.agentChatContainer{margin:10px 8px 10px 0}.messageContainer.visitorChatContainer{margin:10px 12px 10px 0}.rtl-direction .messageContainer.visitorChatContainer{margin:10px 0 10px 12px}.visitorChatContainer .messageBody{margin:2px 0 0 0;float:right;max-width:100%}.rtl-direction .visitorChatContainer .messageBody{float:left}.visitorChatContainer .messageWrapper .message{color:#333;text-align:left;border-radius:15px 0 15px 15px;background:#e5e5e5;margin-left:40px}.rtl-direction .visitorChatContainer .messageWrapper .message{text-align:right;margin:0 30px 0 0;border-radius:0 15px 15px 15px}.ie9.rtl-direction .visitorChatContainer .messageWrapper .message{border-radius:15px 0 15px 15px !important}.visitorChatContainer .messageStatusContainer.errorInMessage{width:100%;position:relative;right:auto}.visitorChatContainer .messageStatusContainer.errorInMessage a{float:right;font-size:11px;text-decoration:none;color:#ec6368;width:100%;background:0;text-align:right;top:0;margin:0;line-height:10px}.rtl-direction .visitorChatContainer .messageStatusContainer.errorInMessage a{float:left;text-align:left}.visitorChatContainer .messageStatusContainer{position:absolute;right:100%;top:5px;margin-right:-40px}.rtl-direction .visitorChatContainer .messageStatusContainer.errorInMessage{left:auto;margin:0}.rtl-direction .visitorChatContainer .messageStatusContainer{right:auto;left:100%;margin:0 0 0 -40px}.messageHead{position:absolute;z-index:10001}.messageHeadLine{position:relative;top:10px;z-index:1}.messageContainer .messageHead .messageTitle{text-align:center;width:100%}.messageBody{line-height:1.5em;margin:5px 0 0 42px;float:left;position:relative}.notification{margin-left:0;width:100%}.ownerNameContainer,.notificationContainer{float:left}.rtl-direction .notificationContainer{direction:rtl !important;float:right}.notificationContainer .message{margin-right:40px;font-size:14px !important;font-style:italic}.rtl-direction .notificationContainer .message{margin:0 0 0 40px}.message{white-space:pre-wrap;word-wrap:break-word}.messageContainer .messageHead.agent .messageTime,.notificationTime{color:#b3b3b3}.notificationTime{width:40px;float:left;margin-left:-40px;text-align:right;font-size:12px !important}.rtl-direction .notificationTime{float:right;margin:0 -40px 0 0;text-align:left}.messageStatusContainer{position:relative;z-index:2;width:40px;float:left}.messageTime{padding:0 2px 0 8px;font-size:11px !important;color:#777;display:none}.rtl-direction .messageTime{padding:0 8px 0 2px}.messageTime.visitor{padding:0 8px 0 2px}.rtl-direction .messageTime.visitor{padding:0 2px 0 8px}.show-time .messageTime{display:block}.messageWrapper{background:0;position:relative;width:100%;float:left}.messageStatus{width:16px;height:16px}.messageStatus:active,.messageStatus:focus{outline:0}.messageStatusContainer.pending .messageStatus{background-image:url('https://static-v.tawk.to/a-v3-38/images/ajax-loader.gif');background-position:0 0;background-repeat:no-repeat;float:right;margin-top:5px;width:13px;height:13px;margin-right:5px}.messageWrapper.pending{font-style:italic}.messageWrapper.error{font-style:italic;color:red;cursor:pointer;float:right;width:auto}.rtl-direction .messageWrapper.error{max-width:100%;float:left}.messageWrapper.error .message{background-color:#ec6368 !important;color:#fff !important}.messageWrapper .message{font-size:14px !important;padding:5px 10px}.longFormContainer::-webkit-scrollbar-thumb,#chatContainer::-webkit-scrollbar-thumb{-webkit-border-radius:10px;border-radius:10px;background-color:#d4d4d4}.longFormContainer::-webkit-scrollbar,#chatContainer::-webkit-scrollbar{width:10px}.messageTitle span{text-transform:uppercase;font-weight:bold;padding:0 10px;color:#ccc;background-color:#fff;z-index:1;position:relative}#formContainer{position:absolute;z-index:20;display:none;left:0;right:0;bottom:20px;top:70px;overflow:hidden;background-color:rgba(252, 252, 252, 0.05);*width:expression(this.parentNode.offsetWidth+'px');*height:expression(this.parentNode.offsetHeight - 102+'px');z-index:99999}.noCookies #formContainer{top:45px}.formMessageField{padding:10px 20px;line-height:1.2em;color:#616161;font-size:15px;text-align:center;word-wrap:break-word}.form{margin:0 20px;font-size:13px;color:#a1a1a1;height:100%}.form fieldset{padding:0}.longFormContainer{position:absolute;left:5px;right:5px;bottom:50px;top:0;overflow-y:auto;padding-bottom:10px}.longFormBottomContainer{position:absolute;bottom:0;left:0;right:0}.form .textareaFieldset{padding:0 33px 0 0;margin:0 0 7px 0;position:relative;-webkit-border-radius:3px;-moz-border-radius:3px;-ms-border-radius:3px;-o-border-radius:3px;border-radius:3px;background-color:transparent;border:transparent}.rtl-direction .form .textareaFieldset{padding:0 0 0 33px}.form textarea{resize:none;display:block;height:40px;width:100%;overflow:auto;padding:0 15px;color:#707070;font-size:13px;font-weight:bold;border:0;background-color:transparent;font-family:'armata';margin:13px 0}.form textarea:active,.form textarea:focus,.inputContainer select:active,.inputContainer select:focus{outline:0}.inputContainer{padding:0 15px;border:transparent;-webkit-border-radius:3px;-moz-border-radius:3px;-ms-border-radius:3px;-o-border-radius:3px;border-radius:3px;background-color:#fff;margin:0 0 7px 0;position:relative}.inputContainer input,.inputContainer select{width:100%;margin:0;border:0;display:block;line-height:1.2em;padding:10px 0;color:#707070;font-family:'armata';font-size:13px;font-weight:bold}.inputContainer input{padding:11px 0;background-color:transparent}.inputContainer.other-fix{padding:0}.inputContainer select{background-color:#fff;outline:0}#departmentFieldFieldset.safari-fix .inputContainer select{-webkit-appearance:none}#departmentFieldFieldset.safari-fix .inputContainer{position:relative}#departmentFieldFieldset.safari-fix .inputContainer:after{position:absolute;right:24px;top:12px;cursor:pointer;width:10px;height:10px;font-size:10px;padding:0;background:#fff;color:#000;content:'▼';pointer-events:none;cursor:pointer}.inputContainer.error,.form .textareaFieldset.error{border-color:#ef5656;color:#ef5656}.inputContainer.error input,.form .textareaFieldset.error textarea,.inputContainer.error select,.error .form-field-label{color:#ef5656}.inputContainer.error input::-webkit-input-placeholder,.form .textareaFieldset.error textarea::-webkit-input-placeholder{color:#ef5656}.inputContainer.valid,.form .textareaFieldset.valid{border-color:#92ed9d}.inputContainer.valid{padding-right:30px}.inputContainer.selection.valid{padding:0}.inputContainer input:active,.inputContainer input:focus{margin:0;border:0;outline:0}.inputContainer input:active+.form-field-label,.inputContainer input:focus+.form-field-label,.textareaFieldset textarea:active+.form-field-label,.textareaFieldset textarea:focus+.form-field-label{display:block}.inputContainer input:active::-webkit-input-placeholder,.inputContainer input:focus::-webkit-input-placeholder,.textareaFieldset textarea:active::-webkit-input-placeholder,.textareaFieldset textarea:focus::-webkit-input-placeholder{color:transparent !important}.inputContainer input:focus::-moz-placeholder,.inputContainer input:active::-moz-placeholder,.textareaFieldset textarea:focus::-moz-placeholder,.textareaFieldset textarea:active::-moz-placeholder{color:transparent !important;opacity:0 !important}.formErrorContainer{display:none;margin:0 0 7px 15px;color:#ef5656}.rtl-direction .formErrorContainer{margin:0 15px 7px 0}#preChatForm .formErrorContainer,#offlineForm .formErrorContainer{margin:-6px 15px 7px 0}.rtl-direction #preChatForm .formErrorContainer,.rtl-direction #offlineForm .formErrorContainer{margin:-6px 0 7px 15px}#formSavingStatus.errorMessage{color:#ef5656;border:0;visibility:visible}#formSavingStatus{font-size:13px;visibility:hidden;margin:0 auto;max-width:260px}#formSavingStatus img{margin:0 0 0 5px}.formButtonContainer{margin:20px 0 0 0}button{display:inline;zoom:1;vertical-align:baseline;outline:0 none;cursor:pointer;text-align:center;text-decoration:none;overflow:visible;margin:0;padding:7px 15px 8px 15px;font:bold 14px/100% 'armata',sans-serif;background-color:#c1c1c1;color:#3d3d3d;border:0;float:left}button::-moz-focus-inner{border:0}button:focus{outline:0}button:active{background-color:#ddd}button:hover{background-color:#a9a9a9}.formButton{width:100%;height:50px}#agentTypingContainer .messageBody{font-size:16px !important;font-weight:bold;min-width:auto;line-height:normal}#offlineOverlay,#inactivityOverlay,#maintenanceOverlay{text-align:center;margin-top:100px;font-size:40px;font-weight:bold;height:auto}#greetingsOverlay{width:100%;height:100%}#greetingsOverlay #greetingsContainer{font-size:14px;color:#777;font-weight:bold}#greetingsWrapper{transform:translate(0%,-50%);-webkit-transform:translate(0%,-50%);-moz-transform:translate(0%,-50%);-ms-transform:translate(0%,-50%);-o-transform:translate(0%,-50%);top:50%;position:absolute;left:0;right:0;*position:static;*margin-top:expression(this.offsetHeight < this.parentNode.offsetHeight ? parseInt((this.parentNode.offsetHeight - this.offsetHeight) / 2)+'px':'0')}#embedArrow{background-position:-318px 0;width:22px;height:26px;background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-repeat:no-repeat;margin:5px auto}.cookieOff #formContainer{display:block;width:100%;height:100%;left:0;right:0;top:0}#formInnerHeight{margin:0 auto;max-width:260px}#tawktoLink{color:#000;font-size:15px;text-decoration:none;line-height:24px}#tawktoLink .thin{font-size:11px;font-weight:100}#bottomContainer{text-align:right;left:157px;position:absolute;bottom:0;height:30px;right:6px;background:#fff;z-index:100001;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:30px}.noCookies #bottomContainer{position:absolute;bottom:0;text-align:right;height:32px;line-height:32px;background-color:#fcfcfc;right:0;left:0;padding:0 6px;margin:auto;font-weight:700}.noCookies #shortMessage{display:inline-block;padding-left:15px;font-size:17px;line-height:45px}.noCookies #tawktoLink{color:#000;font-weight:700}.rtl-direction #bottomContainer{left:6px;right:157px;text-align:left}#headerBoxControlsContainer .icon{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');display:block}#endChat,#minimizeChat,#popoutChat{float:right;width:16px;height:16px;margin:14px 5px 15px 5px;display:inline-block}#endChat{display:none}.embedded #endChat{margin-right:6px;margin-left:6px}.rtl-direction #endChat{margin-right:5px;margin-left:10px}#endChat .icon{width:11px;height:11px;float:right;margin:2.5px}.black #endChat .icon{background-position:0 0}.white #endChat .icon{background-position:-63px 0}#minimizeChat .icon{width:11px;height:7px;margin:4.5px 2.5px}.black #minimizeChat .icon{background-position:-32px 0}.white #minimizeChat .icon{background-position:-95px 0}#popoutChat .icon{width:10px;height:10px;margin:3px}.black #popoutChat .icon{background-position:-48px 0}.white #popoutChat .icon{background-position:-111px 0}#openMenu{position:absolute;left:10px;bottom:0;color:#bdbdbd;font-size:13px;font-weight:700;text-decoration:none;line-height:28px;z-index:100001;cursor:pointer;*bottom:7px;text-transform:lowercase}.rtl-direction #openMenu{right:10px;left:auto}#options{height:32px;margin-left:110px;text-overflow:ellipsis}.rtl-direction #options{margin:0 110px 0 0}#closeMenu{position:absolute;left:10px;bottom:8px;display:none;cursor:pointer}.rtl-direction #closeMenu{right:10px;left:auto}#closeMenu span{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:0 0;width:11px;height:11px;float:right;margin:2px 5px}.rtl-direction #closeMenu span{float:left}.profileImageContainer .agentProfileImage{width:28px;height:28px;background-repeat:no-repeat;border-radius:14px;background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-566px 0;position:absolute;left:0;right:0}.profileImageContainer .visitorProfileImage{width:28px;height:28px;background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-202px 0;float:left;margin-left:-100%}#tawkToContent{display:none;position:absolute;top:45px;bottom:0;width:100%;background:#fcfcfc;z-index:100001}#tawkToContent .contentContainer{position:absolute;top:0;bottom:43px;width:auto;left:10%;right:10%;*bottom:100px}#tawkToContent .buttonContainer{position:absolute;height:50px;bottom:0;width:100%}#tawkToContent .buttonContainer button{width:50%;height:50px}#tawkHeader{font-size:22px;font-weight:bold;text-align:center;padding:20px 0 12px 0;color:#343434;border-bottom:2px solid #ddd;width:150px;margin:0 auto}#tawkContent{font-size:15px;text-align:center;color:#6c6c6c;margin:12px 30px 0 30px}#tawkImage{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-235px 0;width:78px;height:83px;margin:0 auto}#tawkToContent .wrapper{position:absolute;width:100%;margin:5px 0}#optionsContainer{position:absolute;left:0;width:155px;bottom:0;z-index:1000001;padding:3px;text-align:left}.rtl-direction #optionsContainer{left:auto;right:0}#optionsContainer .item{padding:0 3px;color:#696969;cursor:pointer;font-size:12px;font-weight:bold;line-height:30px;display:inline-block;vertical-align:middle;position:relative;height:30px}.rtl-direction #optionsContainer .item{float:right}#optionsContainer .tooltip{position:absolute;top:0;left:0;background:#333;color:#fff;padding:2px;transform:translate(-50%,-100%);min-width:100px;border-radius:3px;display:none;line-height:20px;position:absolute;left:50%;text-align:center}#soundOption .tooltip{left:0;transform:translate(0%,-100%)}#optionsContainer .item:hover .tooltip{display:block}#offlineForm #messageField{height:85px}#formContainer.success #offlineForm #overlayOfflineForm{display:block}#formContainer #offlineForm #overlayOfflineForm{position:absolute;top:0;bottom:0;left:0;right:0;display:none;z-index:1;background-color:rgba(0, 0, 0, 0.82);color:#607D8B;text-align:center;padding:30px 15px;font-size:15px}#formContainer #offlineForm #overlayOfflineForm #resendButton{margin-top:15px;padding:7px 12px;display:inline-block;font-weight:700;background-color:rgba(0, 0, 0, 0.82);cursor:pointer}.rtl-direction .longFormBottomContainer #formCancel{float:right}.rtl-direction .longFormBottomContainer #formSubmit{float:left}#submitWrapper{position:absolute;bottom:50px;height:0;width:auto;right:0;background:#000;border-radius:4px 4px 0 0;color:#fff;-webkit-transition:height .25s ease;-moz-transition:height .25s ease;-ms-transition:height .25s ease;-o-transition:height .25s ease;transition:height .25s ease;*height:30px;*display:none}#submitWrapper.visible{height:30px;*display:block}#submitWrapper p{line-height:30px;padding:0 10px;float:left}.rtl-direction #submitWrapper p{float:right}#submitWrapper div{background-image:url('https://static-v.tawk.to/a-v3-38/images/ajax-loader-3.gif');width:16px;height:16px;float:right;margin:7px}#printIcon{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-418px 0;width:18px;height:17px;margin-top:4px}#emailIcon{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-418px 0;width:20px;height:14px;margin-top:9px}#soundOnIcon{background-repeat:no-repeat;background-position:0 0;width:20px;height:20px;margin-top:6px;background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png')}.activeSound #soundOnIcon{background-position:-370px 0}.disabledSound #soundOnIcon{background-position:-345px 0;height:18px;margin-top:7px}#videoCallIcon{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-820px 0;width:24px;height:12px;margin-top:8.5px}#voiceCallIcon{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');width:13px;height:21px;background-position:-849px 0;margin-top:4px}#screenShareIcon{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');width:22px;height:20px;background-position:-867px 0;margin-top:4px}.optionTitle{margin-left:35px}.rtl-direction .optionTitle{margin:0 35px 0 0}#agentProfileContainer{height:50px !important;cursor:pointer;position:relative;margin-right:80px;margin-left:0;padding-left:5px}.rtl-direction #agentProfileContainer,.rtl-direction #agentListBack{margin-left:80px;margin-right:0;padding:0 5px 0 0}#stickyIcon{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-459px 0;width:15px;height:16px;margin:4px}#waitTimeContainer{margin:20px 7px}#stickyContainer{position:absolute;margin-left:-14px;margin-top:-12px;background-color:#fcfcfc;width:23px;height:24px;padding:2px;top:50%}.rtl-direction #stickyContainer{margin-left:0;margin-right:-14px}#waitTimeContainer .messageWrapper{border:1px solid;border-radius:5px;text-align:center;margin:0 auto;float:none}#waitTimeContainer .message{margin:0;padding:12px 10px 12px 14px;font-size:15px !important;color:#7b7a7a;font-weight:bold}#waitTimeContainer .messageBody{width:100%;position:relative;margin:0;line-height:100%;float:none}#profileDetail{height:50px;position:static;width:100%;float:left}#profileDetailNoImage{height:45px;position:static;margin-left:0}#agentWrapper{height:0;display:none;float:left;width:100%;height:45px}#agentListBack{display:none;cursor:pointer;height:70px}#listBack{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-479px 0;width:7px;height:11px;margin-top:29px;float:left;margin-left:20px;margin-right:20px}.black #listBack{background-position:-491px 0}#agentListBack p{font-size:16px;font-weight:bold;margin-top:25px;float:left;height:20px;line-height:20px}.rtl-direction #listBack,.rtl-direction #agentListBack p{float:right}.rtl-direction #listBack{transform:rotate(180deg);-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2)}.message-success{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-503px 0;width:16px;height:15px;padding:0 8px}.messageStatusContainer.pending .message-success,.messageStatusContainer.pending .messageTime{display:none}.errorInMessage .messageStatus{display:block;float:right;margin-right:5px}#chatPanel{position:absolute;top:45px;bottom:0;width:100%;z-index:0}#chatEnded{position:absolute;left:0;bottom:32px;height:87px;width:100%;background:#fff;display:none;z-index:10}#chatEnded .title{text-align:center;font-size:14px;margin:10px 0}#chatEnded .buttonContainer{width:100%;height:50px}#newChat{width:50%;height:50px;padding:0;float:left;margin-left:-1px}.rtl-direction #newChat{float:right;margin:0 -1px 0 0}.validInputIcon{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-545px 0;width:16px;height:15px;display:none;position:absolute;right:10px;top:50%;margin-top:-7.5px}.rtl-direction .validInputIcon{right:auto;left:10px}#prechatButtonContainer{top:auto}.additionalPadding{padding-right:75px !important}.rtl-direction .additionalPadding{padding-right:10px !important;padding-left:50px !important}#newMessageDivider{margin-top:4px;font-size:.7rem;line-height:.6rem}#newMessageDividerLine{border-top:2px solid #e4c0b6;border-bottom:0;margin:0 0 -1px}#newMessageDividerLabel{background:#fcfcfc;margin:-0.3rem 0;float:right;padding:0 .5rem;color:#e4c0b6}.offlineMessageSuccess{color:#6db626}#newMessageContainer{position:relative;left:-50%;cursor:pointer;display:none}#newMessagesBar{position:absolute;bottom:33px;height:0;width:auto;left:50%;color:#fff;-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-ms-transition:all .5s ease;-o-transition:all .5s ease;transition:all .5s ease;visibility:hidden;cursor:pointer;z-index:0}#newMessagesBar.theme-background-color{background-color:transparent !important}#notificationMessageText{font-weight:700}#newMessageArrowDown{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-778px 0;width:16px;height:6px;margin:-1px auto}#newMessagesNotificationLink{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-757px 0;width:16px;height:16px;float:left;margin:7px 7px auto auto}.rtl-direction #newMessagesNotificationLink{float:right;-ms-transform:rotateY(180deg);-webkit-transform:rotateY(180deg);transform:rotateY(180deg);margin:7px auto auto 7px}#newMessagesBar.visible{height:27px;z-index:99997;bottom:118px;visibility:visible}#newMessagesBar.visible #newMessageContainer{display:block}#newMessagesBar p{line-height:27px;padding:0 10px;text-align:center;background-color:#81bd1d;border-radius:5px}.uploaded-image{max-width:100%;max-height:220px;display:block}.download-file{color:#3276b1;text-decoration:none;margin-top:3px;display:block}.download-image{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-669px 0;width:16px;height:18px;padding:1px 8px;vertical-align:middle}.progress{height:14px;position:relative;background:#eee;box-shadow:0 1px 0 transparent,0 0 0 1px #e3e3e3 inset;width:200px;margin:5px 0;display:inline-block;vertical-align:middle}.progress-bar{display:block;height:100%;background-color:#71a06a;box-shadow:inset 0 2px 9px rgba(255,255,255,0.3),inset 0 -2px 6px rgba(0,0,0,0.4);position:relative;overflow:hidden;box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}.upload-data{margin:7px 12px 0 20px;min-width:250px}.upload-data span{font-style:italic;margin-right:3px}#uploadFileIcon{background:url('https://static-v.tawk.to/a-v3-38/images/icons.png') no-repeat top left;background-position:-709px 0;vertical-align:middle;width:20px;height:21px;margin-top:5px}.image-loader{width:30px;height:30px;background:url('https://static-v.tawk.to/a-v3-38/images/image-load.gif');background-repeat:no-repeat;background-position:center}#nameIcon{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-734px 0;width:18px;height:19px;margin-top:3px}.upload-error{margin:5px}.upload-error span{font-size:16px;color:red;font-weight:bold;vertical-align:middle}.drag-over #textareaWrapper:before{text-align:center;margin:0;font-size:25px;height:auto;line-height:68px;color:#ccc;background:#fff;position:absolute;top:0;bottom:0;right:0;left:0;border:3px dashed #ccc;content:'';white-space:pre-line}#drop-text{text-align:center;font-size:25px;height:auto;color:#ccc;position:absolute;top:2px;bottom:2px;right:2px;left:2px;white-space:pre-line;display:none}.drag-over #drop-text{display:block}#drop-text span{display:block;vertical-align:middle;line-height:normal;top:50%;margin-top:-15px;position:relative}.drag-over .drop-text{display:block}.drag-over #ratingContainer{display:none !important}.drag-over #chatTextarea{opacity:0}#upload-form{position:absolute;top:-100000px}.rtl-direction .form-field-label.small{left:auto;right:4px}.form-field-label{color:#707070;font-family:'armata';font-size:13px;font-weight:bold}.selection-label{vertical-align:middle;cursor:pointer}.selection-container{margin:3px}.selections-container{margin:3px 3px 7px 3px}.selections-container.error{border:1px solid #ef5656;border-radius:3px}.agentInfoNoImage{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.messageContainer,#agentTypingContainer{position:relative;margin:10px 12px}.messageContainer{clear:both}.profileImageContainer{height:28px;float:left;width:28px;margin-left:-100%}.ownerNameContainer{float:left;width:100%}.messageOwnerName{color:#a7a7a7;font-weight:bold;text-decoration:none;font-size:12px !important;margin:0;padding:0;line-height:14px;display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-left:30px}.rtl-direction .messageOwnerName{margin-left:0;margin-right:30px}.messageOwnerName.visitor{text-align:right;margin-right:0;margin-left:0}.rtl-direction .messageOwnerName.visitor{text-align:left}#chatTableWrapper{display:table;height:100%;width:100%;table-layout:fixed}#chatRowWrapper{display:table-row;vertical-align:bottom}#chatCellWrapper{overflow:auto;position:relative;display:table-cell;vertical-align:bottom}.single-agent .profileImageContainer,.single-agent .agentChatContainer .ownerNameContainer{display:none}.single-agent .agentChatContainer .ownerNameContainer.trigger{display:block}.ownerNameContainer.trigger .messageOwnerName{margin-left:0;margin-right:0}.multi-agent .ownerNameContainer.trigger .messageOwnerName{margin-left:30px;margin-right:0}.multi-agent .agentChatContainer .message{margin-left:30px}.rtl-direction .multi-agent .agentChatContainer .message{margin-right:30px;margin-left:40px}.rtl-direction .multi-agent .ownerNameContainer.trigger .messageOwnerName{margin-right:30px;margin-left:0}.single-agent .visitorChatContainer .messageBody,.single-agent .messageOwnerName.visitor{margin-right:0;margin-left:0}.single-agent .visitorChatContainer .messageBody,.single-agent .agentChatContainer .messageBody.trigger{margin-top:2px}.single-agent .agentChatContainer .messageBody,.single-agent .agentChatContainer .ownerNameContainer{margin-left:0;margin-right:0;margin-top:0}#agentTypingContainer .agentChatContainer{margin-bottom:5px}.has-profile-image #headerBoxWrapper,.has-profile-image #headerBox,.has-profile-image #agentWrapper,.has-profile-image #headerBoxControlsContainer,.has-profile-image #agentListBack{height:50px}.has-profile-image #endChat,.has-profile-image #popoutChat,.has-profile-image #minimizeChat{margin-top:17px;margin-bottom:17px}.has-profile-image #agentBar,.has-profile-image #chatPanel,.has-profile-image #tawkToContent{top:50px}.has-profile-image #listBack{margin-top:21px}.has-profile-image #agentListLabel{margin-top:17px}.selection-container input{margin:0 3px 0 5px}@keyframes typing{0%{opacity:0}100%{opacity:1}}@-ms-keyframes typing{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes typing{0%{opacity:0}100%{opacity:1}}@-moz-keyframes typing{0%{opacity:0}100%{opacity:1}}@-o-keyframes typing{0%{opacity:0}100%{opacity:1}}.agentTypingIndicator span{-moz-animation:typing 1.2s infinite;-webkit-animation:typing 1.2s infinite;-o-animation:typing 1.2s infinite;-ms-animation:typing 1.2s infinite;animation:typing 1.2s infinite;animation-fill-mode:both;margin:0 1px;font-size:20px;line-height:0}.agentTypingIndicator span:nth-child(2){animation-delay:400ms;-webkit-animation-delay:400ms;-moz-animation-delay:400ms;-ms-animation-delay:400ms;-o-animation-delay:400ms}.agentTypingIndicator span:nth-child(3){animation-delay:800ms;-webkit-animation-delay:800ms;-moz-animation-delay:800ms;-ms-animation-delay:800ms;-o-animation-delay:800ms}.rtl-direction .message{min-width:45px !important}.message a{color:inherit}#formContainer .inputContainer.selection:before{content:\"\";position:absolute;right:14px;top:13px;width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #707070;z-index:0}#formContainer .inputContainer{background-color:transparent;overflow:hidden;position:relative;height:33px}#formContainer .inputContainer select{position:absolute;height:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:90%;background:transparent;font-family:'armata',Helvetica,sans-serif;font-size:13px;font-weight:600;line-height:1;-webkit-appearance:none;-moz-appearance:none;text-indent:.01px;text-overflow:'';-ms-appearance:none}#formContainer .inputContainer select::-ms-expand{display:none}#endChatOption{display:none}#tabs-selection{border-bottom:1px solid #ddd;list-style:none}.open-tab{opacity:.4;float:left;margin-bottom:-1px;position:relative;display:block;cursor:pointer;width:11%;text-align:center}.open-tab.active{opacity:1}#tab-content{position:absolute;top:32px;bottom:0;overflow:auto;left:0;right:0;padding:10px}.header-title{text-align:center;margin:5px 0;font-weight:bold;font-size:14px}#icoming-call-buttons{width:100%;text-align:center;height:30px}#decline-call{background:#f92222;color:#fff;display:inline-block;float:none;margin:0 5px}#accept-call{background:#2e9c05;color:white;float:none;display:inline-block;margin:0 5px}#tooLongMsgNotification{position:absolute;bottom:35px;z-index:100000;width:100%;text-align:center;display:none;color:red;font-size:12px}#tooLongMsgNotification.visible{display:block}",
p.MinifiedStyle="@font-face{font-family:'icomoon';src:url('https://static-v.tawk.to/a-v3-38/fonts/icomoon.eot?-7rca1q');src:url('https://static-v.tawk.to/a-v3-38/fonts/icomoon.eot?#iefix-7rca1q') format('embedded-opentype'),url('https://static-v.tawk.to/a-v3-38/fonts/icomoon.woff?-7rca1q') format('woff');font-weight:normal;font-style:normal}.rtl-direction{direction:rtl}.rectangle #tawkchat-minified-wrapper{height:100%;width:100%;*width:expression(this.parentNode.offsetWidth+'px')}.round #tawkchat-minified-wrapper{z-index:999997;bottom:6px}.round #tawkchat-status-text-container{margin-left:1px;border-radius:50%;height:60px;width:60px;-webkit-box-shadow:0 4px 5px -1px rgba(0,0,0,0.5);-moz-box-shadow:0 4px 5px -1px rgba(0,0,0,0.5);box-shadow:0 4px 5px -1px rgba(0,0,0,0.5)}.round #tawkchat-status-icon.online:before,.round #tawkchat-status-icon.away:before{content:\"\\e96c\"}.round #tawkchat-status-icon.offline:before{font-size:38px;line-height:55px;content:\"\\e904\"}.round #tawkchat-status-icon:before{font-size:28px;font-weight:normal;font-family:'icomoon';display:inline-block;vertical-align:top;width:100%;text-align:center;line-height:60px}.round #tawkchat-status-text-container a#maximizeChat,.round #tawkchat-status-text-container a#maximizeChat #tawkchat-status-icon{height:100%;width:100%;color:inherit;text-decoration:none;outline:0}.round.center #tawkchat-minified-wrapper{position:absolute}#tawkchat-minified-border{margin:0;border:0 none;padding:0;background-color:#000;filter:alpha(opacity=40);opacity:.4;position:absolute;z-index:999998;border-radius:4px 4px 0 0;-moz-border-radius:4px 4px 0 0;-webkit-border-radius:4px 4px 0 0;width:100%;height:100%;right:0;bottom:0}#tawkchat-minified-container{margin:0;border:0 none;padding:0;cursor:pointer;z-index:999999;position:absolute;top:2px;bottom:0;width:auto;height:auto;left:2px;right:2px;border-bottom:0;-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box;-webkit-box-shadow:rgba(0,0,0,0.0980392) 0 0 1px 2px;-moz-box-shadow:rgba(0,0,0,0.0980392) 0 0 1px 2px;box-shadow:rgba(0,0,0,0.0980392) 0 0 1px 2px}#tawkchat-status-middle{border:0 none;margin:0 auto;font-size:17px;vertical-align:middle;position:absolute;top:50%;left:10px;right:10px;transform:translate(0%,-50%);-webkit-transform:translate(0%,-50%);-moz-transform:translate(0%,-50%);-ms-transform:translate(0%,-50%);-o-transform:translate(0%,-50%);*width:expression(this.parentNode.clientWidth - 20+'px');*top:0;*position:static;*margin-top:10px}#tawkchat-status-text-container{float:left;width:100%;*width:expression(this.parentNode.offsetWidth - 26+'px');*margin-top:expression(this.offsetHeight < this.parentNode.offsetHeight ? parseInt((this.parentNode.offsetHeight - this.offsetHeight) / 2)+'px':'0')}#tawkchat-status-message{border:0 none;margin:0 26px 0 0;padding:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:left;font-size:17px;*width:expression(this.parentNode.clientWidth+'px');*margin:0}.rtl-direction #tawkchat-status-message{margin:0 0 0 26px;text-align:right}#tawkchat-chat-bubble{border:0 none;padding:0;margin:0;width:190px;height:65px;position:absolute;top:0;display:none;right:32px}.left #tawkchat-chat-bubble{right:2px}#tawkchat-chat-bubble-text-container{border:0 none;padding:0;margin:0 0 0 -58px;width:111px;height:65px;position:absolute;z-index:10;font-family:'armata';font-style:italic;font-size:14px;top:5px;left:50%;right:auto;text-align:center;overflow:hidden;text-overflow:ellipsis;display:table}.rtl-direction #tawkchat-chat-bubble-text-container{right:50%;left:auto;margin:0 -58px 0 0}#tawkchat-chat-bubble-text{margin:0;display:table-cell;vertical-align:middle;*margin-top:expression(this.offsetHeight < this.parentNode.offsetHeight ? parseInt((this.parentNode.offsetHeight - this.offsetHeight) / 2)+'px':'0')}#tawkchat-chat-bubble-graphics-container{border:0 none;padding:0;margin:0;width:146px;height:85px}#tawkchat-chat-bubble-canvas{width:146px;height:85px;border:0 none;padding:0;margin:0}#tawkchat-minified-agent-container{float:left;width:100%;display:none}#tawkchat-minified-agent-information-wrapper{border:0 none;margin:0 88px 0 0;padding:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:left;font-size:17px;*width:100%}.hasImage #tawkchat-minified-agent-information-wrapper{margin-left:60px}#tawkchat-minified-agent-name{border:0 none;padding:0;margin:0;font-weight:bold}.agentNameCentered{margin-top:17px}.agentContainerNoImage{margin-right:26px;margin-left:0}.rtl-direction .agentContainerNoImage{margin-left:19px;margin-right:0}.agentContainer{margin:6px 20px 5px 45px}.rtl-direction .agentContainer{margin-right:45px;margin-left:20px}#tawkchat-minified-agent-position{border:0 none;padding:0;margin:0;font-style:italic}.bottom #tawkchat-chat-indicator{border:0 none;margin:0;position:absolute;top:0;left:26px;right:auto;z-index:1000000;display:none;background:#f77c76;padding:5px 10px;border-radius:15px}.round.left #tawkchat-chat-indicator{left:auto;right:0}.round.right #tawkchat-chat-indicator{right:auto;left:0}.round.bottom #tawkchat-chat-indicator,.round.center #tawkchat-chat-indicator,.round.top #tawkchat-chat-indicator{padding:2px;text-align:center;border-radius:50%;width:18px;height:18px}.rectangle.bottom #tawkchat-chat-indicator:after{content:'';position:absolute;right:48.5px;width:0;height:0;bottom:-8px;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #f77c76}.rectangle.left #tawkchat-chat-indicator{left:auto;right:26px}.top #tawkchat-chat-indicator{border:0 none;margin:0;position:absolute;top:8px;left:26px;right:auto;z-index:1000000;display:none;background:#f77c76;padding:5px 10px;border-radius:15px}.rectangle.top #tawkchat-chat-indicator:before{content:'';position:absolute;right:48.5px;width:0;height:0;top:-8px;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:8px solid #f77c76}#tawkchat-chat-indicator.rtl-direction{left:auto;right:26px}#tawkchat-chat-indicator-text{border:0 none;padding:0;overflow:hidden;vertical-align:baseline;font-weight:bold;font-size:13px;font-family:'armata';text-align:center;color:white;z-index:1000001;display:block;margin:2px auto}.noCookies #tawkchat-minified-link-container{float:right}.noCookies #tawkchat-minified-link-container .icon{background-position:-16px 0}#tawkchat-minified-link-container{float:left;width:20px;margin-left:-20px;margin-top:3px;*margin-top:10px;*margin-right:5px}.rtl-direction #tawkchat-minified-link-container{margin-left:-100%}#tawkchat-minified-link-container .icon{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');display:block}#maximizeChat,#popoutChat{width:16px;height:16px;margin:0;z-index:100001}#maximizeChat .icon{width:11px;height:7px;margin:4.5px 2.5px}.black #maximizeChat .icon{background-position:-16px 0}.white #maximizeChat .icon{background-position:-79px 0}#popoutChat .icon{width:10px;height:10px;margin:3px}.black #popoutChat .icon{background-position:-48px 0}.white #popoutChat .icon{background-position:-111px 0}.alias-image{width:40px;height:40px;margin:0;background-repeat:no-repeat;border-radius:20px;margin:5px 0;background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:-624px 0;float:left;margin-left:-100%}.rtl-direction .alias-image{float:right}.small-image .alias-image{background-position:-589px 0;width:20px;height:20px;border-radius:10px}#profileDetail{position:static;width:100%;float:left}.agentInformationContainer p{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.position-label{font-size:12px}.agentInfoNoImage{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.image-bubble-close{background-image:url('https://static-v.tawk.to/a-v3-38/images/icons.png');background-position:0 0;width:11px;height:11px;float:right;margin:2.5px;cursor:pointer;display:block;visibility:hidden}#bubble-image{cursor:pointer}.image-canvas-close{border:0 none;padding:0;margin:0;width:10px;height:13px;position:absolute;right:6px;top:3px;font-size:12px;cursor:pointer;font-family:'armata';z-index:20}.rtl-direction .image-canvas-close{left:6px !important;right:auto !important}.no-border #tawkchat-minified-container{border:none !important;top:0 !important;left:0 !important;right:0 !important}.top .white #maximizeChat .icon{background-position:-95px 0}.top .black #maximizeChat .icon{background-position:-32px 0}.top #tawkchat-minified-container{top:0;border-bottom:1px solid #e3e0e7;border-top:0;border-radius:0 0 8px 8px;-moz-border-radius:0 0 8px 8px;-webkit-border-radius:0 0 8px 8px}.top #tawkchat-chat-indicator{bottom:0;top:auto}.rectangle.top #tawkchat-chat-indicator:after{bottom:auto;border-bottom:8px solid #f77c76;border-top:0;top:-8px}.top #tawkchat-chat-bubble-text-container{margin-top:10px !important}.top #tawkchat-chat-bubble-close{bottom:0 !important;right:0 !important;position:absolute !important}.default.top #tawkchat-chat-bubble-close{bottom:3px !important;right:6px !important;top:auto !important}";var h={"chat-notification-container":'<div id="__MESSAGE_ID__" class="messageBody notification clearfix"><div class="notificationContainer"><div class="message">__MESSAGE__</div></div><div class="notificationTime">__TIME__</div><div class="clear"></div></div>',"chat-resend-link":'<a id="resendMessage-__MESSAGE_ID__" href="javascript:void(0);" class="messageStatus" title="Resend">__NOT_DELIVERED__</a>',"tawk-survey-wrapper":'<div class="surveyContainer"><div class="surveyQuestion">__QUESTION__</div><div class="survey-options-wrapper">__OPTIONS__</div></div>',offlineForm:'<div id="overlayOfflineForm">__OFFLINE_MESSAGE_SUCCESSFULY_SENT__</br><div id="resendButton" class="theme-background-color theme-text-color">__SEND_AGAIN__</div></div><div class="longFormContainer"><div id="formInnerHeight"><div id="offlineFormMessageContainer" class="formMessageField">__TITLE__</div>__FIELDS__<div id="messageFieldError" class="formErrorContainer"></div><div class="clear"></div></div></div><div id="submitWrapper"><p>Submitting</p><div></div></div><div class="longFormBottomContainer">__CLOSE_BUTTON_CONTAINER__<button id="formSubmit" class="approveButton formButton theme-background-color theme-text-color">__SUBMIT_BUTTON__</button></div>',inputTextFieldType:'<fieldset><div class="inputContainer"><input type="__INPUT_TYPE__" id="__ID__Field" title="__LABEL__" value="__VALUE__" class="textInput" maxlength="__MAXLENGTH__"placeholder="__REQUIRED__ __LABEL__" /><span id="__ID__FieldValid" class="validInputIcon"></span></div></fieldset><div id="__ID__FieldError" class="formErrorContainer"></div>',textAreaFieldType:'<fieldset class="textareaFieldset"><textarea id="__ID__Field" title="__LABEL__" maxlength="__MAXLENGTH__" placeholder="__REQUIRED__ __LABEL__"></textarea><span id="__ID__FieldValid" class="validInputIcon"></span></fieldset><div id="__ID__FieldError" class="formErrorContainer"></div>',endChatForm:'<div id="formInnerHeight"><div id="endChatFormMessageContainer" class="formMessageField">__TITLE__</div></div><div id="submitWrapper"><div></div></div><div id="formSavingStatus"><span id="savingStatus">__STATUS__</span></div><div class="longFormBottomContainer"><button id="formCancel" class="declineButton formButton">__CANCEL_BUTTON__</button><button id="formSubmit" class="approveButton formButton theme-background-color theme-text-color">__END_CHAT_BUTTON__</button></div>',"tawkchat-minified-iframe-element-rectangle":'<div id="tawkchat-minified-wrapper"><div id="tawkchat-minified-container" class="theme-background-color border-corner"><div id="tawkchat-status-middle"><div id="tawkchat-status-text-container" class="theme-text-color"><p id="tawkchat-status-message"><span id="short-message"></span></p></div><div id="tawkchat-minified-agent-container" class="theme-text-color"><p id="tawkchat-minified-agent-information-wrapper"></p></div><div id="tawkchat-minified-link-container"><a href="javascript:void(0);" id="maximizeChat" title="__MAXIMIZE__"><div class="icon"></div></a></div></div></div></div>',"tawkchat-minified-iframe-element-round":'<div id="tawkchat-minified-box"><div id="tawkchat-minified-wrapper"><div id="tawkchat-status-text-container" class="theme-background-color theme-text-color"><a href="javascript:void(0);" id="maximizeChat" title="__MAXIMIZE__"><div id="tawkchat-status-icon" class="online"></div></a></div></div></div>',"tawkchat-chat-bubble-canvas":'<div id="tawkchat-chat-bubble-graphics-container"><canvas id="tawkchat-chat-bubble-canvas"></canvas></div><div id="tawkchat-chat-bubble-close" class="image-canvas-close"></div><div id="tawkchat-chat-bubble-text-container"><p id="tawkchat-chat-bubble-text" class="bubble-text-color"></p></div>',"tawkchat-chat-indicator":'<div id="tawkchat-chat-indicator"><p id="tawkchat-chat-indicator-text"></p></div>',"tawkchat-chat-bubble-gallery":'<span id="tawkchat-chat-bubble-close" class="image-bubble-close"></span><img src="__IMAGE_SRC__" id="bubble-image" />',"tawkchat-agent-details-default":'<p id="tawkchat-minified-agent-name"></p><p id="tawkchat-minified-agent-position"></p>',"tawkchat-agent-details":'<span id="tawkchat-minified-agent-name"></span><span id="tawkchat-minified-agent-position"></span>',"tawkchat-maximized-wrapper":'<div id="innerWrapper" class="border-corner"><div id="headerBoxWrapper"><div id="headerBox" class="theme-background-color theme-text-color border-corner"><div id="headerAccountStateContainer"><p id="headerAccountState"><span id="shortMessage"></span></p></div><div id="agentWrapper"><div id="agentProfileContainer"></div><div id="agentListBack"><div id="listBack"></div><p id="agentListLabel">__AGENT_LIST__</p></div></div><div id="headerBoxControlsContainer"><a id="minimizeChat" href="javascript:void(0);" title="__MINIMIZE__"><span class="icon"></span></a><a id="endChat" href="javascript:void(0);" title="__END__"><span class="icon"></span></a></div></div></div><div id="agentBar"><div id="agentList" class="__IE6__"></div></div><div id="chatPanel"><div id="chatContainerWrapper"><div id="chatContainer" class="__IE6__">__GREETINGS__<div id="chatTableWrapper"><div id="chatRowWrapper"><div id="chatCellWrapper"><div id="chatWrapper" class="single-agent"><div id="agentTypingContainer" class="__IE6__"></div></div></div></div></div><div id="maxFileNotificationContainer" class="hidden"><div id="maxFileNotificationMessage"></div><div id="maxFileNumberList"></div><div class="closeButtonContainer"><span id="closeNumberNotification" class="closeNotification"></span></div></div><div id="maxSizeNotificationContainer" class="hidden"><div id="maxSizeNotificationMessage"></div><div id="maxFileSizeList"></div><div class="closeButtonContainer"><span id="closeSizeNotification" class="closeNotification"></span></div></div></div></div><div id="tooLongMsgNotification">__TOO_LONG_MESSAGE__</div><div id="actionsContainer" class="__IE6__"><fieldset id="textareaWrapper"><div id="drop-text"><span></span></div><div id="ratingContainer"></div><div id="textareaContainer" class="additionalPadding"></div><a href="javascript:void(0);" id="viewEmoji"><span class="icon"></span></a></fieldset><div id="optionsContainer" style="display: block;"><div class="item" id="soundOption" class="activeSound"><div id="soundOnIcon" class="icon"></div><div id="soundTitle" class="tooltip">Disable Sound</div></div><div id="videoCall" class="item" style="display: none;"><div id="videoCallIcon" class="icon"></div><div class="tooltip"></div></div><div id="voiceCall"  class="item" style="display: none;"><div id="voiceCallIcon" class="icon"></div><div class="tooltip"></div></div><div id="screenShare" class="item" style="display: none;"><div id="screenShareIcon" class="icon"></div><div class="tooltip"></div></div></div></div><form enctype="multipart/form-data" id="upload-form" method="post"><input type="file" class="hidden file-input" name="file[]" multiple="multiple" id="fileInput" /><label class="upload-file sprite-background" title="Upload File" for="test"></label></form></div><div id="formContainer"></div><div id="newMessagesBar"><div id="newMessageContainer"><p id="newMessagesNotification"><a id="newMessagesNotificationLink" title=""></a><span id="notificationMessageText"></span></p><div id="newMessageArrowDown"></div></div></div><div id="tawkToContent"><div class="longFormContainer"><div class="wrapper"><div id="tawkImage"></div><p id="tawkHeader">TAWK.TO</p><p id="tawkContent"></p></div></div><div class="buttonContainer"><button id="cancelTawkRedirect"></button><button id="tawkRedirect" class="theme-background-color theme-text-color"></button></div></div></div>',greetingsOverlay:'<div id="greetingsOverlay"><div id="greetingsWrapper"><div id="greetingsContainer"></div><div id="embedArrow"></div></div></div>'};Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),n=i.length;return function(a){if("object"!=typeof a&&("function"!=typeof a||null===a))throw new TypeError("Object.keys called on non-object");var o,r=[];for(o in a)e.call(a,o)&&r.push(o);if(t)for(o=0;n>o;o++)e.call(a,i[o])&&r.push(i[o]);return r}}()),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=2<=arguments.length?arguments[1]:void 0,a=0;i>a;a++)a in t&&e.call(n,t[a],a,t)}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var m={undefined:1,"boolean":1,number:1,string:1},u={exportProperty:function(e,t,i){e[t]=i}};u.dependencyDetection=function(){var e=[];return{begin:function(t){e.push(t&&{callback:t,distinctDependencies:[]})},end:function(){e.pop()},registerDependency:function(t){if(!u.isSubscribable(t))throw Error("Only subscribable things can act as dependencies");if(0<e.length){var i=e[e.length-1];!i||0<=u.utils.arrayIndexOf(i.distinctDependencies,t)||(i.distinctDependencies.push(t),i.callback(t))}},ignore:function(t,i,n){try{return e.push(null),t.apply(i,n||[])}finally{e.pop()}}}}(),u.observable=function(e){function t(){return 0<arguments.length?(t.equalityComparer&&t.equalityComparer(i,arguments[0])||(t.valueWillMutate(),i=arguments[0],t.valueHasMutated()),this):(u.dependencyDetection.registerDependency(t),i)}var i=e;return u.subscribable.call(t),t.peek=function(){return i},t.valueHasMutated=function(){t.notifySubscribers(i)},t.valueWillMutate=function(){t.notifySubscribers(i,"beforeChange")},u.utils.extend(t,u.observable.fn),u.exportProperty(t,"peek",t.peek),u.exportProperty(t,"valueHasMutated",t.valueHasMutated),u.exportProperty(t,"valueWillMutate",t.valueWillMutate),t},u.subscribable=function(){this._subscriptions={},u.utils.extend(this,u.subscribable.fn),u.exportProperty(this,"subscribe",this.subscribe),u.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)},u.subscribable.fn={subscribe:function(e,t,i){i=i||"change",e=t?e.bind(t):e;var n=new u.subscription(this,e,function(){u.utils.arrayRemoveItem(this._subscriptions[i],n)}.bind(this));return this._subscriptions[i]||(this._subscriptions[i]=[]),this._subscriptions[i].push(n),n},notifySubscribers:function(e,t){if(t=t||"change",this.hasSubscriptionsForEvent(t)){var i,n=this._subscriptions[t];i=0;for(var a=this._subscriptions[t].length;a>i;++i)n=this._subscriptions[t].slice(0),(n=n[i])&&!0!==n.isDisposed&&n.callback(e)}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(){var e=0;return u.utils.objectForEach(this._subscriptions,function(t,i){e+=i.length}),e},unsubscribe:function(e,t){u.utils.arrayRemoveItem(this._subscriptions[t||"change"],e)}},u.isSubscribable=function(e){return null!==e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},u.subscription=function(e,t,i){this.target=e,this.callback=t,this.disposeCallback=i,u.exportProperty(this,"dispose",this.dispose)},u.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},u.observable.fn={equalityComparer:function(e,t){return null===e||typeof e in m?e===t:!1}};var g=u.observable.protoProperty="__tw_proto__";if(u.observable.fn[g]=u.observable,u.hasPrototype=function(e,t){return null===e||void 0===e||void 0===e[g]?!1:e[g]===t?!0:u.hasPrototype(e[g],t)},u.isObservable=function(e){return u.hasPrototype(e,u.observable)},u.utils={arrayIndexOf:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},extend:function(e,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},arrayRemoveItem:function(e,t){var i=u.utils.arrayIndexOf(e,t);i>=0&&e.splice(i,1)},objectForEach:function(e,t){for(var i in e)e.hasOwnProperty(i)&&t(i,e[i])}},function(e){function t(e,t){var i=e.split("@"),n="";1<i.length&&(n=i[0]+"@",e=i[1]),e=e.replace(u,".");for(var i=e.split("."),a=i.length,o=[];a--;)o[a]=t(i[a]);return i=o.join("."),n+i}function i(e){for(var t,i,n=[],a=0,o=e.length;o>a;)t=e.charCodeAt(a++),t>=55296&&56319>=t&&o>a?(i=e.charCodeAt(a++),56320==(64512&i)?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),a--)):n.push(t);return n}function n(e){var t,n,m,u,b,w,x,C,k,E,T,_,S=[];for(e=i(e),E=e.length,t=p,n=0,b=d,w=0;E>w;++w)k=e[w],128>k&&S.push(v(k));for((m=u=S.length)&&S.push(h);E>m;){for(x=a,w=0;E>w;++w)k=e[w],k>=t&&x>k&&(x=k);if(T=m+1,x-t>y((a-n)/T))throw new RangeError(g.overflow);for(n+=(x-t)*T,t=x,w=0;E>w;++w){if(k=e[w],t>k&&++n>a)throw new RangeError(g.overflow);if(k==t){for(C=n,x=o;k=b>=x?r:x>=b+s?s:x-b,!(k>C);x+=o)_=C-k,C=o-k,S.push(v(k+_%C+22+75*(26>k+_%C)-0)),C=y(_/C);for(S.push(v(C+22+75*(26>C)-0)),b=T,x=0,n=m==u?y(n/c):n>>1,n+=y(n/b);n>f*s>>1;x+=o)n=y(n/f);b=y(x+(f+1)*n/(n+l)),n=0,++m}}++n,++t}return S.join("")}var a=2147483647,o=36,r=1,s=26,l=38,c=700,d=72,p=128,h="-",m=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=o-r,y=Math.floor,v=String.fromCharCode;e.punycode={version:"1.4.1",ucs2:{decode:i},encode:n,toASCII:function(e){return t(e,function(e){return m.test(e)?"xn--"+n(e):e})}}}(p),l.$_Tawk=l.$_Tawk||{},l.Tawk_API=l.Tawk_API||{},"object"==typeof l.$_Tawk_API)for(var f in l.$_Tawk_API)l.$_Tawk_API.hasOwnProperty(f)&&(l.Tawk_API[f]=l.$_Tawk_API[f]);e.begin=function(e){p.main.begin(e)},e.init=function(e){p.main.init(e)},s={onLoad:function(){},onStatusChange:function(){},onBeforeLoad:function(){},onChatMaximized:function(){},onChatMinimized:function(){},onChatHidden:function(){},onChatStarted:function(){},onChatEnded:function(){},onPrechatSubmit:function(){},onOfflineSubmit:function(){},onChatMessageVisitor:function(){},onChatMessageAgent:function(){},onChatMessageSystem:function(){},onAgentJoinChat:function(){},onAgentLeaveChat:function(){},onChatSatisfaction:function(){},onVisitorNameChanged:function(){}},e.maximize=Tawk_API.maximize=function(){e.ready&&p.sessionHandler.notifyWindowState("max")},e.minimize=Tawk_API.minimize=function(){e.ready&&p.sessionHandler.notifyWindowState("min")},e.toggle=Tawk_API.toggle=function(){e.ready&&p.viewHandler.toggleWidget()},e.popup=Tawk_API.popup=function(){e.ready&&p.viewHandler.popoutWidget()},e.getWindowType=Tawk_API.getWindowType=function(){return e.ready?B.isEmbedded?"embed":B.isPopup?"popup":"inline":void 0},e.showWidget=Tawk_API.showWidget=function(){e.ready&&p.viewHandler.showWidget()},e.hideWidget=Tawk_API.hideWidget=function(){e.ready&&p.viewHandler.hideWidget()},e.toggleVisibility=Tawk_API.toggleVisibility=function(){e.ready&&p.viewHandler.toggleVisibility()},e.getStatus=Tawk_API.getStatus=function(){return e.ready?A.pageStatus():void 0},e.isChatMaximized=Tawk_API.isChatMaximized=function(){return e.ready?"max"===A.chatWindowState():void 0},e.isChatMinimized=Tawk_API.isChatMinimized=function(){return e.ready?"min"===A.chatWindowState():void 0},e.isChatHidden=Tawk_API.isChatHidden=function(){return e.ready?p.viewHandler.isWidgetHidden():void 0},e.isChatOngoing=Tawk_API.isChatOngoing=function(){return e.ready?p.chatHandler.isChatOngoing():void 0},e.isVisitorEngaged=Tawk_API.isVisitorEngaged=function(){return e.ready?p.chatHandler.isVisitorEngaged():void 0},e.endChat=Tawk_API.endChat=function(){e.ready&&p.chatHandler.triggerEndChat()},e.setForeignKey=Tawk_API.setForeignKey=function(e,t){p.sessionHandler.setForeignKey(e,t)},e.setConversion=Tawk_API.setConversion=function(e,t){p.sessionHandler.setConversionId(e,t)},e.addEvent=Tawk_API.addEvent=function(e,t,i){p.sessionHandler.addEvent(e,t,i)},e.setAttributes=Tawk_API.setAttributes=function(e,t){p.sessionHandler.setAttributes(e,!0,t)},e.addTags=Tawk_API.addTags=function(e,t){p.sessionHandler.addTags(e,t)},e.removeTags=Tawk_API.removeTags=function(e,t){p.sessionHandler.removeTags(e,t)};var y,v,b,w,x,C="",k=0,E=!1,T=!1,_=!1,S=null,I=null,R=!0,B={widgetId:"default",isPopup:!1,isEmbedded:!1,soundOn:u.observable(!0),showAgentBar:!0,showWaitTime:!0,showPreChatForm:!1,showOfflineForm:!0,hideWidget:!1,hideWidgetOnLoad:!1,hideWidgetOnOffline:!1,greetings:{},prechatOptions:{},headerBgColor:null,headerTxtColor:null,mobileWidget:u.observable("round"),desktopWidget:u.observable("full"),chatBubble:u.observable(),chatPosition:u.observable("br"),maximizedDimensions:u.observable({width:0,height:0}),minimizedDimensions:u.observable({width:0,height:0,position:"br"}),onClickAction:"max",widgetVersion:0,locale:"en",schedule:null,scheduleTimezone:null,isTopPositioned:function(){return"tr"===this.chatPosition()||"tl"===this.chatPosition()},isBottomPositioned:function(){return"br"===this.chatPosition()||"bl"===this.chatPosition()},isCenterPositioned:function(){return"cr"===this.chatPosition()||"cl"===this.chatPosition()},isRightPositioned:function(){return"cr"===this.chatPosition()||"tr"===this.chatPosition()||"br"===this.chatPosition()},isLeftPositioned:function(){return"cl"===this.chatPosition()||"tl"===this.chatPosition()||"bl"===this.chatPosition()},isDesktopRectangle:function(){return"min"!==this.desktopWidget()},agentTextBgColor:null,agentTextColor:null,visitorTextBgColor:null,visitorTextColor:null,topCorner:null,bottomCorner:null,maxStyle:u.observable(),minStyle:u.observable(),mobMaxStyle:u.observable(),mobMinStyle:u.observable(),isRTL:u.observable(!1),webRTCSettings:u.observable(),brandingRedirect:u.observable()},N={uuid:null,uuidVer:0,visitorId:"",name:u.observable(),displayName:u.observable(),email:u.observable(),transcriptEmail:"",uuids:[]},H={pageId:null,tawkId:"",pageName:u.observable(),isStable:!0},M={chatSynced:!1,chatBuffer:[],chatVersion:0,chatDepartment:"any",agents:{},agentProfiles:{},profiles:{},rating:u.observable(0),chatHistory:[],chatOrder:0,chatEndVersion:1},A={transferKey:"",sessionKey:"",transferedSession:!1,currentVersion:569,criticalVersion:0,serverVersion:0,agentImgUrl:"https://s3.amazonaws.com/tawk-to-pi",visitorAppServer:"https://va.tawk.to",visitorSocketServer:"",chatWindowState:u.observable("min"),pageStatus:u.observable(),pageStatusVersion:0,prechatFormSubmitted:!1,waitTime:6e4,chatBubbleClosed:u.observable(!1),restarted:!1},P={chat_sound:"https://static-v.tawk.to/a-v3-38/audio/chat_sound.mp3"},z={chat_sound:"https://static-v.tawk.to/a-v3-38/audio/chat_sound.ogg"},O={chat_sound:"https://static-v.tawk.to/a-v3-38/audio/chat_sound.wav"},D={chat_sound:"https://static-v.tawk.to/a-v3-38/audio/chat_sound.aac"};!function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.TawkClass=function(){},TawkClass.extend=function(i){function n(){!e&&this.init&&this.init.apply(this,arguments)}var a=this.prototype;e=!0;var o=new this;e=!1;for(var r in i)o[r]="function"==typeof i[r]&&"function"==typeof a[r]&&t.test(i[r])?function(e,t){return function(){var i=this._super;this._super=a[e];var n=t.apply(this,arguments);return this._super=i,n}}(r,i[r]):i[r];return n.prototype=o,n.prototype.constructor=n,n.extend=arguments.callee,n}}();var W=function(){this.br="<br/>",this.regAlphaNumeric=/^[a-z0-9\-]{1,50}$/i,this.regNameMach=/^V[0-9]{16}$/,this.regTrim=/^\s+|\s+$/g,this.regDate=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,this.regEmail=/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/i,this.regSurvey=/\[option\](.*?)(<br\/>|$)/g,this.regSurveyQuestion=/^(.*?)\[option\]/g,this.regOption=/\[option\]/g,this.regBr=/<br\/>/,this.regMatchUrl=RegExp('(?:^(?:(?:[a-z]+:)?//)?(?:\\S+(?::\\S*)?@)?(?:localhost|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i"),this.regMatchIp=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?\/([a-zA-Z0-9!$&'()*+.=-_~:@\/\?#]+)+)\b/gi,this.regEmailMatch=/^((mailto:){0,1}[a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]+)$/,this.regLineBreaks=/(\r\n|\n|\r)/gm,this.decodedAmp="&",this.decodedQuote='"',this.decodedApos="'",this.decodedLess="<",this.decodedGreat=">",this.encodedQuote="&quot;",this.encodedApos="&#39;",this.encodedLess="&lt;",this.encodedGreat="&gt;",this.encodedAmp="&amp;",this.rtlLangTab=["ar","he","fa"],this.decodedAmpRegex=RegExp(this.decodedAmp,"g"),this.decodedQuoteRegex=RegExp(this.decodedQuote,"g"),this.decodedAposRegex=RegExp(this.decodedApos,"g"),this.decodedLessRegex=RegExp(this.decodedLess,"g"),this.decodedGreatRegex=RegExp(this.decodedGreat,"g"),this.encodedQuoteRegex=RegExp(this.encodedQuote,"g"),this.encodedAposRegex=RegExp(this.encodedApos,"g"),this.encodedLessRegex=RegExp(this.encodedLess,"g"),this.encodedGreatRegex=RegExp(this.encodedGreat,"g"),this.encodedAmpRegex=RegExp(this.encodedAmp,"g"),this.connectionUrl="https://video.tawk.to"};W.prototype.createElement=function(e,t,i,n,a){var o;e=e.createElement(t),i=i||{};for(o in i)e[o]=i[o];return a&&"iframe"!==t&&(e.innerHTML=a),n&&(e.style.cssText=n),e},W.prototype.getDocument=function(e){return e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document?e.document:null},W.prototype.parseQueryString=function(e){var t,i,n,a={};for(n=(e?e.replace(/(.*)\?/,""):l.location.search.substring(1)).split("&"),e=0,t=n.length;t>e;e+=1)i=n[e].split("="),a[i[0]]=i[1];return a},W.prototype.createQueryString=function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return i.join("&")},W.prototype.getReloadedScript=function(){var e,t,i=document.getElementsByTagName("script"),n=null;for(e=0,t=i.length;t>e;e++)i[e].id&&-1!==i[e].id.indexOf("TawkScript")&&(n=i[e]);return n},W.prototype.parseApi=function(){var e=Tawk_API;"function"==typeof e.onBeforeLoad&&(s.onBeforeLoad=function(){"function"==typeof e.onBeforeLoad&&(e.onBeforeLoad(),delete e.onBeforeLoad)}),"function"==typeof e.onLoad&&(s.onLoad=function(){"function"==typeof e.onLoad&&(e.onLoad(),delete e.onLoad)}),"function"==typeof e.onStatusChange&&(s.onStatusChange=function(t){
try{e.onStatusChange(t)}catch(i){}}),"function"==typeof e.onChatMaximized&&(s.onChatMaximized=function(){try{e.onChatMaximized()}catch(t){}}),"function"==typeof e.onChatMinimized&&(s.onChatMinimized=function(){try{e.onChatMinimized()}catch(t){}}),"function"==typeof e.onChatHidden&&(s.onChatHidden=function(){try{e.onChatHidden()}catch(t){}}),"function"==typeof e.onChatStarted&&(s.onChatStarted=function(){try{e.onChatStarted()}catch(t){}}),"function"==typeof e.onChatEnded&&(s.onChatEnded=function(){try{e.onChatEnded()}catch(t){}}),"function"==typeof e.onPrechatSubmit&&(s.onPrechatSubmit=function(t){try{e.onPrechatSubmit(t)}catch(i){}}),"function"==typeof e.onOfflineSubmit&&(s.onOfflineSubmit=function(t){try{e.onOfflineSubmit(t)}catch(i){}}),"function"==typeof e.onChatMessageVisitor&&(s.onChatMessageVisitor=function(t){try{e.onChatMessageVisitor(t)}catch(i){}}),"function"==typeof e.onChatMessageAgent&&(s.onChatMessageAgent=function(t){try{e.onChatMessageAgent(t)}catch(i){}}),"function"==typeof e.onChatMessageSystem&&(s.onChatMessageSystem=function(t){try{e.onChatMessageSystem(t)}catch(i){}}),"function"==typeof e.onAgentJoinChat&&(s.onAgentJoinChat=function(t){try{e.onAgentJoinChat(t)}catch(i){}}),"function"==typeof e.onAgentLeaveChat&&(s.onAgentLeaveChat=function(t){try{e.onAgentLeaveChat(t)}catch(i){}}),"function"==typeof e.onChatSatisfaction&&(s.onChatSatisfaction=function(t){try{e.onChatSatisfaction(t)}catch(i){}}),"function"==typeof e.onVisitorNameChanged&&(s.onVisitorNameChanged=function(t){try{e.onVisitorNameChanged(t)}catch(i){}}),s.disableSound=!!e.disableSound,s.embedded=e.embedded||null,s.profileName=e.profileName||null,s.visitor=e.visitor||null,s.disableMobileBackHistory=!!e.disableMobileBackHistory},W.prototype.trim=function(e){return this.isString(e)?String.prototype.trim?e.trim().toString():e.replace(this.regTrim,""):null},W.prototype.isString=function(e){return void 0===e||"string"!=typeof e?!1:!0},W.prototype.isEmail=function(e){return this.regEmail.test(e)},W.prototype.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},W.prototype.parseVisitorName=function(e){return this.isGeneratedName(e)?p.languageParser.translate("chat","defaultName"):e},W.prototype.generateRandomString=function(e){var t,i=[];for(e=e||6,t=0;e>t;t++)i.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random())));return i.join("")},W.prototype.computedStyle=function(e,t){var i;if(!e||!t)return null;if(e.currentStyle)i=e.currentStyle[t];else try{i=getComputedStyle(e,null).getPropertyValue(t)}catch(n){i="none"}return"width"===t&&"auto"===i&&(i=e.clientWidth),""+i},W.prototype.parseChatTime=function(e){var t=this.getDateFromUTC(e);return e=t.getHours(),t=t.getMinutes(),10>e&&(e="0"+e),10>t&&(t="0"+t),e+":"+t},W.prototype.getDateFromUTC=function(e){return e instanceof Date?e:(e=this.regDate.exec(e),new Date(Date.UTC(e[1],e[2]-1,e[3],e[4],e[5],e[6],e[7])))},W.prototype.rawEncode=function(e){return e.replace(this.decodedAmpRegex,this.encodedAmp).replace(this.decodedQuoteRegex,this.encodedQuote).replace(this.decodedAposRegex,this.encodedApos).replace(this.decodedLessRegex,this.encodedLess).replace(this.decodedGreatRegex,this.encodedGreat)},W.prototype.rawDecode=function(e){return e.replace(this.encodedQuoteRegex,this.decodedQuote).replace(this.encodedAposRegex,this.decodedApos).replace(this.encodedLessRegex,this.decodedLess).replace(this.encodedGreatRegex,this.decodedGreat).replace(this.encodedAmpRegex,this.decodedAmp)},W.prototype.getMilliseconds=function(e){return e instanceof Date||(e=this.regDate.exec(e),e=new Date(Date.UTC(e[1],e[2]-1,e[3],e[4],e[5],e[6],e[7]))),e.getTime()},W.prototype.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},W.prototype.getDepartmentStatus=function(e){var t,i,n=A.departments,a="",o=!0,r="";if("any"===e)return{status:"",isOnline:!0,name:""};for(t=0,i=n.length;i>t;t++)if(n[t].did===e){o="online"===n[t].st,a=n[t].st,r=n[t].n;break}return{status:a,isOnline:o,name:r}},W.prototype.getElementsByClassName=function(e,t){var i,n,a,o;if(e.getElementsByClassName)return e.getElementsByClassName(t);for(a=e.getElementsByTagName("*"),o=[],i=0,n=a.length;n>i;i++)-1!==a[i].className.indexOf(t)&&o.push(a[i]);return o},W.prototype.insertBeaconIframe=function(){E||this.insertStaticIframe("https://va.tawk.to/update/"+H.pageId+"/"+$_Tawk_WidgetId+"?v="+(A.serverVersion||(new Date).getTime())+"&$_tawk_beacon=true")},W.prototype.insertStaticIframe=function(e){var t=document.createElement("iframe");t.style.display="none",t.src=e,document.body&&document.body.appendChild(t)},W.prototype.insertScript=function(e,t,i){var n=document.getElementsByTagName("script")[0],a=document.createElement("script");a.async=!0,a.src=e,a.charset="UTF-8",a.setAttribute("crossorigin","*"),t&&(a.id=t),i?n.parentNode.insertBefore(a,n):n.parentNode.appendChild(a)},W.prototype.isPlaceholderSupported=function(){return"placeholder"in document.createElement("input")},W.prototype.togglePlaceholderText=function(e,t,i){p.eventHandler.listen(e,"focus",function(e){this.value===t&&(this.value="")},i+"inputfocus"),p.eventHandler.listen(e,"blur",function(){""===this.value&&(this.value=t)},i+"inputblur")},W.prototype.redraw=function(e){var t=e.style.display;e.style.display="none",e.style.display=t},W.prototype.isTouchDevice=function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},W.prototype.shadeColor=function(e,t){var i,n,a="#";for(e=String(e).replace(/[^0-9a-f]/gi,""),6>e.length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),t=t||0,n=0;6>n;n+=2)i=parseInt(e[n]+""+e[n+1],16),i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16),a+=("00"+i).substring(i.length);return a},W.prototype.getContrast=function(e){return e=e.replace("#",""),6>e.length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),8388607.5<parseInt(e,16)?"white":"black"},W.prototype.getElementsByTagName=function(e,t){for(var i=[],n=e.getElementsByTagName(t),a=0;a<n.length;a++)i.push(n[a]);return i},W.prototype.chatElementInView=function(e){var t=p.viewHandler.chatContainer.getElementById("chatContainer");return e.offsetTop>=t.scrollTop&&e.offsetTop<=t.scrollTop+t.offsetHeight?!0:!1},W.prototype.formatFileSize=function(e){var t="Bytes KB MB GB TB PB EB ZB YB".split(" ");if(e=parseInt(e,10),!e)return"0Bytes";for(var i=1;i<t.length;i++)if(e<Math.pow(1024,i))return Math.round(100*(e/Math.pow(1024,i-1)))/100+t[i-1];return e},W.prototype.isFileInputSupported=function(){if(d.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var e=document.createElement("input");return e.type="file",!e.disabled},W.prototype.escapeTemplateReplacement=function(e,t){for(var i=0;i<t.length;i++){var n=t[i],a=n.textReplace;"string"==typeof a&&(a=a.replace(/\$/g,"$$$")),e=e.replace(n.placeholder,a)}return e},W.prototype.getGenericStyle=function(e){return["outline                     : "+(e.outline?e.outline:"none")+" !important; ","visibility                  : "+(e.visibility?e.visibility:"visible")+" !important; ","resize                      : "+(e.resize?e.resize:"none")+" !important; ","box-shadow                  : "+(e.boxshadow?e.boxshadow:"none")+" !important; ","overflow                    : "+(e.overflow?e.overflow:"visible")+" !important; ","background                  : "+(e.background?e.background:"none")+" !important; ","opacity                     : "+(e.opacity?e.opacity:"1")+" !important; ","filter                      : alpha(opacity="+(e.opacity?100*e.opacity:"100")+") !important; ","-ms-filter                  : progid:DXImageTransform.Microsoft.Alpha(Opacity"+(e.opacity?e.opacity:"1")+") !important; ","-moz-opacity                : "+(e.opacity?e.opacity:"1")+" !important; ","-khtml-opacity              : "+(e.opacity?e.opacity:"1")+" !important; ","top                         : "+(e.top?e.top:"auto")+" !important; ","right                       : "+(e.right?e.right:"auto")+" !important; ","bottom                      : "+(e.bottom?e.bottom:"auto")+" !important; ","left                        : "+(e.left?e.left:"auto")+" !important; ","position                    : "+(e.position?e.position:"absolute")+" !important; ","border                      : "+(e.border?e.border:"0")+" !important; ","min-height                  : "+(e.minheight?e.minheight:"auto")+" !important; ","min-width                   : "+(e.minwidth?e.minwidth:"auto")+" !important; ","max-height                  : "+(e.maxheight?e.maxheight:"none")+" !important; ","max-width                   : "+(e.maxwidth?e.maxwidth:"none")+" !important; ","padding                     : "+(e.padding?e.padding:"0")+" !important; ","margin                      : "+(e.margin?e.margin:"0")+" !important; ","-moz-transition-property    : "+(e.transition?e.transition:"none")+" !important; ","-webkit-transition-property : "+(e.transition?e.transition:"none")+" !important; ","-o-transition-property      : "+(e.transition?e.transition:"none")+" !important; ","transition-property         : "+(e.transition?e.transition:"none")+" !important; ","transform                   : "+(e.transform?e.transform:"none")+" !important; ","-webkit-transform           : "+(e.transform?e.transform:"none")+" !important; ","-ms-transform               : "+(e.transform?e.transform:"none")+" !important; ","width                       : "+(e.width?e.width:"auto")+" !important; ","height                      : "+(e.height?e.height:"auto")+" !important; ","display                     : "+(e.display?e.display:"block")+" !important; ","z-index                     : "+(e.zindex?e.zindex:"none")+" !important; ","background-color            : "+(e.backgroundcolor?e.backgroundcolor:"transparent")+" !important; ","cursor                      : "+(e.cursor?e.cursor:"auto")+" !important; ","float                       : "+(e["float"]?e["float"]:"none")+" !important; "].join("")},W.prototype.isGeneratedName=function(e){return this.regNameMach.test(e)},W.prototype.getRotateStyling=function(e,t){var i="rotate("+e+"deg) translateZ(0px)";return{transform:i,"-moz-transform":i,"-webkit-transform":i,"-o-transform":i,"-ms-transform":i,"transform-origin":t,"-moz-transform-origin":t,"-webkit-transform-origin":t,"-o-transform-origin":t,"-ms-transform-origin":t}},W.prototype.blurElements=function(e){for(var t=0;t<e.length;t++)e[t].blur()},W.prototype.transformGreetings=function(e){for(var t,i,n=/\[([^)]+)\]/,a=/\(([^)]+)\)/,o=/\[[^\]\(\)]+\]\((\bhttp:\/\/\b|\bhttps:\/\/\b|\bmailto:\b){1}[^\]\(\)]+\)/i,r="_blank",s=e;null!==(t=o.exec(s))&&(i=n.exec(t[0]),t=a.exec(t[0]),t[0].indexOf("(mailto:")||(r="_top"),s=s.replace(i[0]+t[0],'<a target="'+r+'" href="'+t[1]+'" class="link">'+i[1]+"</a>"),s!==e););return s},W.prototype.transformLabel=function(e){var t;return(t=e.match(/_[^_]+_/gi))&&0<t.length&&t.forEach(function(t){var i;i=t.indexOf("_");var n=t.lastIndexOf("_");i=t.substring(0,i)+"<i>"+t.substring(i+1,n)+"</i>"+t.substring(n+1,t.length),e=e.replace(t,i)}),(t=e.match(/\*[^*]+\*/gi))&&0<t.length&&t.forEach(function(t){var i;i=t.indexOf("*");var n=t.lastIndexOf("*");i=t.substring(0,i)+"<b>"+t.substring(i+1,n)+"</b>"+t.substring(n+1,t.length),e=e.replace(t,i)}),e},W.prototype.getRandomName=function(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(52*Math.random())+this.generateRandomString()+"-"+(new Date).getTime()},W.prototype.insertRandomTagsBeforeAndAfter=function(e,t,i){var n,a=Math.floor(3*Math.random()+1);for(n=0;a>n;n++){var o=document.createElement(i);o.id=L.getRandomName(),t.insertBefore(o,e)}for(a=Math.floor(3*Math.random()+1),n=0;a>n;n++)e=document.createElement(i),e.id=L.getRandomName(),t.appendChild(e)},W.prototype.getWebRTCToken=function(e,t,i){var n=this;return e={name:N.name(),video:e,audio:!e,screen:t},i=i||function(){},l.mozRTCPeerConnection&&d.mozGetUserMedia||l.webkitRTCPeerConnection&&d.webkitGetUserMedia?(this.webrtcWin=l.open("",""),void p.socketManager.sendToConnector("getWebRTCToken",e,function(e,t){return e?(n.webrtcWin.close(),i(!0,e)):(n.webrtcWin.location.href=n.connectionUrl+"/v1/call?token="+t.token,void i())})):(alert("Your browser does not support WebRTC. Please try in the latest Chrome, Firefox or Opera browsers."),i(!0))},W.prototype.rejectCall=function(e){var t={name:N.name()};e=e||function(){},p.socketManager.sendToConnector("declineCall",t,function(t,i){e()})},W.prototype.disconnectWebRTC=function(){this.webrtcWin&&this.webrtcWin.close()},W.prototype.isDescendent=function(e,t){for(var i=t.parentNode;null!==i;){if(i===e)return!0;i=i.parentNode||null}return!1},Inheritance_Manager={extend:function(e,t){function i(){}i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.prototype.parent=t.prototype,e.baseConstructor=t,e.superClass=t.prototype}};var L=new W;"undefined"!=typeof module&&module.exports&&(module.exports.Utils=W);var F=[{string:d.userAgent,subString:"Edge",identity:"explorer",versionSearch:"Edge"},{string:d.userAgent,subString:"Trident/7.0",identity:"explorer",versionSearch:"rv"},{string:d.userAgent,subString:"(Opera|OPR)",identity:"opera",versionSearch:"Version"},{string:d.userAgent,subString:"Chrome",identity:"chrome",versionSearch:"Chrome"},{string:d.userAgent,subString:"Mobile Safari",identity:"android",versionSearch:"Version"},{string:d.userAgent,subString:"Firefox",identity:"firefox",versionSearch:"Firefox"},{string:d.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"},{string:d.userAgent,subString:"IEMobile",identity:"explorer",versionSearch:"IEMobile"},{string:d.userAgent,subString:"Safari",identity:"safari",versionSearch:"Version"},{string:d.userAgent,subString:"Gecko",identity:"mozilla",versionSearch:"rv"}],U=[{string:d.userAgent,subString:"Windows Phone",identity:"windows_phone"},{string:d.platform,subString:"Win",identity:"windows"},{string:d.platform,subString:"Mac",identity:"mac"},{string:d.userAgent,subString:"iPhone",identity:"iphone"},{string:d.userAgent,subString:"Android",identity:"android"},{string:d.platform,subString:"Linux",identity:"linux"},{string:d.userAgent,subString:"iPad",identity:"ipad"}],V={google:"q",yahoo:"p",baidu:"wd",yandex:"text",bing:"q",soso:"w",ask:"q",aol:"q",sogou:"query",mywebsearch:"searchfor",youdao:"q",lycos:"q",infospace:"q",blekko:"q",info:"q",dogpile:"q",duckduckgo:"q",webcrawler:"q"},q={src:"about:blank",border:"0",cellspacing:"0",frameBorder:"0",scrolling:"no",horizontalscrolling:"no",verticalscrolling:"no",allowTransparency:"true",title:"chat widget"},G={nokia:[/(NokiaBrowser)\/(\d+)\.(\d+).(\d+)\.(\d+)/,/^(Nokia)/,/(NokiaBrowser)\/(\d+)\.(\d+).(\d+)/,/(NokiaBrowser)\/(\d+)\.(\d+)/,/(BrowserNG)\/(\d+)\.(\d+).(\d+)/,/(Series60)\/5\.0/,/(Series60)\/(\d+)\.(\d+)/,/(S40OviBrowser)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/,/(Nokia)[EN]?(\d+)/],blackberry:[/(BB10);/,/(PlayBook).+RIM Tablet OS (\d+)\.(\d+)\.(\d+)/,/(Black[bB]erry).+Version\/(\d+)\.(\d+)\.(\d+)/,/(Black[bB]erry)\s?(\d+)/],chrome:[/(CrMo)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/,/(CriOS)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/,/(Android).*(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+) (Mobile)?/],ie:[/(IEMobile)[ \/](\d+)\.(\d+)/],firefox:[/Mobile.*(Firefox)\/(\d+)\.(\d+)/,/Tablet.*(Firefox)\/(\d+)\.(\d+)/],operamini:[/(Opera Mini)(?:\/att)?\/(\d+)\.(\d+)/],opera:[/(Opera Tablet).*Version\/(\d+)\.(\d+)(?:\.(\d+))?/,/(?:Mobile Safari).*(OPR)\/(\d+)\.(\d+)\.(\d+)'/,/(Opera)\/.+Opera Mobi.+Version\/(\d+)\.(\d+)/,/(Opera)\/(\d+)\.(\d+).+Opera Mobi/,/Opera Mobi.+(Opera)\/(\d+)\.(\d+)/,/Opera Mobi/,/(Opera)\/9.80.*Version\/(\d+)\.(\d+)(?:\.(\d+))?/],safari:[/(iPod|iPhone|iPad);.*CPU.*OS (\d+)(?:_\d+)?_(\d+).*Mobile/],uc:[/(UCBrowser)[ \/](\d+)\.(\d+)\.(\d+)/,/(UC Browser)[ \/](\d+)\.(\d+)\.(\d+)/,/(UC Browser|UCBrowser|UCWEB)(\d+)\.(\d+)\.(\d+)/],"android2.3":[/(Android) 2\.3(?:[.\-]([a-z0-9]+))?/],android2:[/(Android) 2\.(\d+)(?:[.\-]([a-z0-9]+))?/],android:[/Android[\- ][\d]+\.[\d]+; [A-Za-z]{2}\-[A-Za-z]{0,2}; WOWMobile (.+) Build/,/Android[\- ][\d]+\.[\d]+\-update1; [A-Za-z]{2}\-[A-Za-z]{0,2}; (.+) Build/,/Android[\- ][\d]+\.[\d]+\.[\d]+; [A-Za-z]{2}\-[A-Za-z]{0,2}; (.+) Build/,/Android[\- ][\d]+\.[\d]+\.[\d]+;[A-Za-z]{2}\-[A-Za-z]{0,2};(.+) Build/,/Android[\- ][\d]+\.[\d]+; [A-Za-z]{2}\-[A-Za-z]{0,2}; (.+) Build/,/Android[\- ][\d]+\.[\d]+\.[\d]+; (.+) Build/,/Android[\- ][\d]+\.[\d]+; (.+) Build/]},j=function(){this.versionSearchString=this.browserObj=null,this.init()};j.prototype.init=function(){var e=this.getBrowserVersion();I=this.getMobileBrowser(),k=e.version,C=e.vendor,y=this.hasHtmlAudio(""),v=this.hasHtmlAudio(""),b=this.hasHtmlAudio(""),w=this.hasHtmlAudio(""),x=void 0,x=y||v||b||w,R=L.isPlaceholderSupported(),"explorer"===C&&(E=!0,6===k?T=!0:k>=8&&9>k&&(_=!0))},j.prototype.getBrowserVersion=function(){return this.browserObj?this.browserObj:this.browserObj={vendor:this.searchString(F)||"other",version:this.searchVersion(d.userAgent)||this.searchVersion(d.appVersion)||"other",os:this.searchString(U)||"other",plugins:this.getPlugins()}},j.prototype.getPlugins=function(){var e,t,i=[];for(e=0,t=d.plugins.length;t>e;e++)d.plugins[e].name&&i.push(d.plugins[e].name);return i},j.prototype.searchString=function(e){var t,i,n;for(t=0;t<e.length;t++)if(i=e[t].string,n=RegExp(e[t].subString),this.versionSearchString=e[t].versionSearch||e[t].identity,n.test(i))return e[t].identity},j.prototype.searchVersion=function(e){var t=e.indexOf(this.versionSearchString);return-1!==t?parseFloat(e.substring(t+this.versionSearchString.length+1)):void 0},j.prototype.getMobileBrowser=function(){for(var e=!1,t=d.userAgent,i=Object.keys(G),n=0;!e&&n<i.length;){for(var a=i[n],o=0;o<G[a].length;o++)if(t.match(G[a][o])){e=a;break}n++}return e},j.prototype.getReferredSearchEngine=function(){var e,t,i="";if(document.referrer&&(t=this.getHostname(document.referrer)))for(e in t=t.toLowerCase(),V)if(0<=t.indexOf(e)){queryString=this.getQuerystring(document.referrer,V[e]),"blekko"===e&&""===queryString&&(queryString=this.getQuerystring(document.referrer.replace("/ws/","/?q="),"q")),i=e;break}return i},j.prototype.getQuerystring=function(e,t){var i;return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),i=RegExp("[\\?&]"+t+"=([^&#]*)").exec(e),null===i||!L.isArray(i)||2>i.length?null:i[1]?unescape(i[1].replace(/\+/g," ")):null},j.prototype.getHostname=function(e){return e=e.match(/^(?:f|ht)tp(?:s)?:\/\/([^\/]+)/im),null===e||!L.isArray(e)||2>e.length?null:e[1]?e[1].toString():null},j.prototype.hasHtmlAudio=function(e){var t=document.createElement("audio");try{if(!t.canPlayType||"no"===t.canPlayType("audio/"+e)||""===t.canPlayType("audio/"+e))return!1}catch(i){return!1}return!0},p.browserData=new j;var $=function(){this.unloading=!1};$.prototype.logPerformance=function(e){this.postForm("log-performance/v3",$_TAWK_JSON.stringify(e))},$.prototype.logIncident=function(e,t){var i=a.getBrowserData();i.visitorId=N.visitorId||"",i.message=e,i.data=t,this.log("warning",i)},$.prototype.log=function(e,t){var i;t&&e&&(t.uiVersion="v3",t.buildVersion="569",t.buildCommit="47b0c33944617cd310d5c5fa20bbdcebcb496363",i={type:e,data:t},this.postForm("log",$_TAWK_JSON.stringify(i)))},$.prototype.postForm=function(e,t){var i,n,a;if(n=document.createElement("iframe"),!document.body)return!1;n.src="about:blank",n.style.cssText=";display:none !important;",n.title="chat widget logging",document.body.appendChild(n);try{i=L.getDocument(n)}catch(o){return!1}E&&(i.open(),i.writeln('<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head><body><iframe name="form-receiver" id="form-receiver"></iframe></body></html>'),i.close()),n=i.createElement("form"),n.method="POST",n.action="https://va.tawk.to/"+e,n.enctype="application/x-www-form-urlencoded",n.acceptCharset="UTF-8",a=i.createElement("input"),a.type="text",a.name="logData",a.value=t,n.appendChild(a),E&&(n.target="form-receiver"),i.body.appendChild(n),n.submit(),n.parentNode.removeChild(n)},l.onbeforeunload=function(){this.unloading=!0},l.onunload=function(){this.unloading=!0};var X=function(){this.originalErrorHandlerFn=l.onerror,this.beaconSent=!1};X.prototype.getBrowserData=function(){var e=p.browserData.getBrowserVersion();return{site:l.location.href,browser:e.vendor||"",version:e.version||"",os:e.os||"",plugins:e.plugins||""}},X.prototype.handleError=function(e,t,i,n,a){var o;return t&&i||"Script error."!==e&&"Script error"!==e?"string"!=typeof t||-1===t.indexOf("tawk.to")&&-1===t.indexOf("tawk.js")?!1:(o=this.getBrowserData(),o.visitorId=N.visitorId||"",o.message=e||"",o.file=t||"",o.line=i||"",o.column=n||"",o.stack=a?JSON.stringify(a):"",o.stack=o.stack.replace(L.regLineBreaks,""),p.loggingHandler.log("error",o),this.beaconSent?!0:(L.insertBeaconIframe(),this.beaconSent=!0)):this.beaconSent?!1:(this.beaconSent=!0,L.insertBeaconIframe(),!1)},a=new X,l.onerror=function(){var e;return a?(e=a.handleError.apply(this,arguments),"function"==typeof a.originalErrorHandlerFn?a.originalErrorHandlerFn.apply(this,arguments):e):!1};var Y=function(){this.events={}};Y.prototype.attachEvent=function(e,t,i){var n=this,a=function(t){i.call(e,n.getEvent(t))};return e.attachEvent("on"+t,a),a},Y.prototype.listen=function(e,t,i,n){var a;if(n){if(this.events[n]&&(a=this.events[n],this.events[n]=null,this.removeEventHandler(a.element,a.eventName,a.eventListener)),e.addEventListener)e.addEventListener(t,i,!1);else{if(!document.attachEvent)return null;i=this.attachEvent(e,t,i)}return this.events[n]={element:e,eventName:t,eventListener:i},i}},Y.prototype.cancelEvent=function(e){document.attachEvent&&(e=this.getEvent(e)),e.preventDefault?e.preventDefault():e.returnValue=!1},Y.prototype.removeEventHandler=function(e,t,i){document.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent("on"+t,i)},Y.prototype.getEvent=function(e){var t=e||l.event;if(!t)for(e=this.getEvent.caller;e&&(!(t=e.arguments[0])||Event!=t.constructor);)e=e.caller;return t},Y.prototype.clearEvents=function(){var e=this;Object.keys(this.events).forEach(function(t){t=e.events[t],e.removeEventHandler(t.element,t.eventName,t.eventListener)}),this.events={}},Y.prototype.getTargetElement=function(e){return document.attachEvent&&(e=this.getEvent(e)),e=e.target||e.srcElement,3===e.nodeType&&(e=e.parentNode),e};var K={keypressTimer:0,previousValue:0,initElement:function(e,t){var i=this;this.previousValue="",p.eventHandler.listen(e,"focus",function(n){i.startWatching(n,e,t)},e.id+"focus"),p.eventHandler.listen(e,"blur",function(e){i.stopWatching()},e.id+"blur"),p.eventHandler.listen(e,"keyup",function(n){i.detectChange(n,e,t)},e.id+"keyup")},startWatching:function(e,t,i){var n=this;this.stopWatching(),this.keypressTimer=setInterval(function(){n.detectChange(e,t,i)},100)},stopWatching:function(){0!=this.keypressTimer&&(clearInterval(this.keypressTimer),this.keypressTimer=0)},detectChange:function(e,t,i){return t=t.value||"",this.previousValue===t?!1:(i(e,t),void(this.previousValue=t))}},J=function(){this.hasCORS=("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof XDomainRequest)&&function(){var e;if("undefined"!=typeof XDomainRequest)return"https"===location.protocol;try{e=new XMLHttpRequest}catch(t){return!1}return void 0!==e.withCredentials}()};J.prototype.jsonpLoad=function(e){var t=document.getElementsByTagName("script")[0],i=document.createElement("script"),n=!1;return i.src=e,i.async=!0,i.charset="UTF-8",i.onload=i.onreadystatechange=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,i.onload=i.onreadystatechange=null,i&&i.parentNode&&i.parentNode.removeChild(i))},t.parentNode.insertBefore(i,t),{type:"jsonp",req:i}},J.prototype.jsonp=function(e,t,i){var n;return t=t||{},t="?"+L.createQueryString(t),n="$_Tawk_json"+ ++this.counter,i&&(l[n]=function(e){i(e);try{delete l[n]}catch(t){}l[n]=null}),this.jsonpLoad(e+t+(i?"callback="+n:""))},J.prototype.xhrRequest=function(e,t,i){var n=this.getRequestObject();return n?(t=t||{},n.onerror=i,n.open("POST",e,!0),n.withCredentials=!0,n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){n.passed||4!==n.readyState||(n.passed=!0,200===n.status&&i(null,n.responseText))},n.send(L.createQueryString(t)),{type:"xhr",req:n}):this.jsonp(e,t)},J.prototype.getRequestObject=function(){return"undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:"undefined"!=typeof XDomainRequest?new XDomainRequest:void 0},J.prototype.abort=function(e){e&&("xhr"===e.type?e.req.abort():(e=e.req)&&e.parentNode&&e.parentNode.removeChild(e))};var Z=new J,ee=function(){this.isCookieEnabled=this.checkCookieEnabled(),this.alphaNumericReg=/[^0-9a-zA-Z]/g,this.hasSessionStorage=this.isCookieEnabled&&!!l.sessionStorage,this.clearOldCookies("TawkCookie")};ee.prototype.setHTTPCookie=function(e,t,i,n){var a="";i||(i=new Date,i.setTime(i.getTime()+31536e7),a="; expires="+i.toGMTString()),document.cookie=e+"="+t+a+"; path=/"+(n?";domain="+n:"")},ee.prototype.getHTTPCookie=function(e){var t,i,n=[],a=e+"=",o=document.cookie.split(";");for(e=0,t=o.length;t>e;e++){for(i=o[e];" "===i.charAt(0);)i=i.substring(1,i.length);0===i.indexOf(a)&&n.push(i.substring(a.length,i.length))}return n},ee.prototype.setSessionStorage=function(e,t){if(this.hasSessionStorage&&sessionStorage.setItem)try{sessionStorage.setItem(e,t)}catch(i){}},ee.prototype.getSessionStorage=function(e){return this.hasSessionStorage&&sessionStorage.getItem?sessionStorage.getItem(e):null},ee.prototype.setWindowName=function(e){l.name&&0!==l.name.indexOf("TawkWindowName-")||(l.name="TawkWindowName-"+e)},ee.prototype.getWindowName=function(){var e,t,i;if(!l.name)return null;if(0!==l.name.indexOf("TawkWindowName-")){if(i=l.name.substring(0,5),t=i.length,6>t)for(e=0,t=6-t;t>e;e++)i+="0";return i.replace(/[^0-9a-zA-Z]/g,"0").replace(" ","0")}return l.name.substring(15,21)},ee.prototype.handleWindowId=function(){var e=this.getSessionStorage("TawkWindowName");"null"===e&&(e=null),e||this.hasSessionStorage||(e=this.getWindowName()),"null"===e&&(e=null),e||(e=L.generateRandomString(),this.hasSessionStorage?this.setSessionStorage("TawkWindowName",e):this.setWindowName(e)),S=e},ee.prototype.storeUUID=function(){var e=this;A.transferedSession||N.uuids&&0<N.uuids.length&&N.uuids.forEach(function(t){var i=(t.isExact?"e::":"p::")+t.domain+"::"+t.uuid+"::"+N.uuidVer;e.isCookieEnabled&&e.setHTTPCookie("__tawkuuid",i,!1,t.domain)}),this.handleWindowId(),this.storeSessionInformation()},ee.prototype.getSessionInformation=function(){var e;return this.sessionInformation&&(e=this.sessionInformation),e||(e=this.getHTTPCookie("Tawk_"+H.pageId)[0]),this.parseSessionInformation(e)},ee.prototype.storeSessionInformation=function(e){e?e=A.visitorSocketServer+"::"+p.viewHandler.indicator.unansweredMessages:(e=this.getSessionInformation()[1]||0,p.main.previousSessionKey!==A.sessionKey&&(e=0),e=A.visitorSocketServer+"::"+e),this.setHTTPCookie("Tawk_"+H.pageId,e,!1),this.sessionInformation=e},ee.prototype.parseSessionInformation=function(e){var t=[];return e&&(t=e.split("::"),1>=t.length&&(t=e.split("||"))),t},ee.prototype.clearOldCookies=function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},ee.prototype.checkCookieEnabled=function(){var e=d.cookieEnabled?!0:!1;return"undefined"!=typeof d.cookieEnabled||e||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie")?!0:!1),e},ee.prototype.getStoredUUID=function(){var e;return this.isCookieEnabled&&(e=this.getHTTPCookie("__tawkuuid")),e&&0<e.length?e:[]};var te=new ee,ie=function(e){var t;"symbian"===I?this.play=function(){}:("safari"===I?(t=document.createElement("audio"),t.src=e,t.style.cssText="position: absolute; position: absolute; width: 0px; height: 0px; top: -10000px; left: -10000px;",document.body.appendChild(t)):t=new Audio(e),t.addEventListener("timeupdate",function(){.2<=t.currentTime&&t.pause()},!1),t.load(),this.soundEl=t,this.play=function(){try{t.currentTime=0,t.autoplay=!0,t.load(),t.play()}catch(e){}})},ne=function(e,t,i){this.sourcePath=e,this.buffer=null,this.name=t,this.audioPlayer=i,this.source=null,this.volume=1,this.play=function(){if(this.buffer){var e=this.audioPlayer.audioContext.createGain();e.gain.value=this.volume,this.source=this.audioPlayer.audioContext.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(e),e.connect(this.audioPlayer.audioContext.destination),this.source.start(0)}},this.loadBuffer=function(){var e=new XMLHttpRequest,t=this;e.open("GET",t.sourcePath,!0),e.responseType="arraybuffer",e.onload=function(){t.audioPlayer.audioContext.decodeAudioData(e.response,function(e){e&&(t.buffer=e,t.audioPlayer.isReadyForInit||(t.audioPlayer.eventUsedForInit=t.name,t.audioPlayer.isReadyForInit=!0))},function(e){throw Error(e)})},e.onerror=function(e){throw Error("BufferLoader: XHR error for "+t.sourcePath)},e.send()},this.loadBuffer()},ae=function(){this.sounds={},this.audioContext=null,this.isReadyForInit=!1,this.eventUsedForInit=null};ae.prototype.initAudioPlayer=function(){var e,t={};if(x){this.audioContext||/Firefox/.test(d.userAgent)||"undefined"==typeof AudioBuffer||void 0===l.AudioContext&&void 0===l.webkitAudioContext||(l.AudioContext=l.AudioContext||l.webkitAudioContext,this.audioContext=new AudioContext),v?t=z:y&&!/Edge/.test(d.userAgent)?t=P:w?t=D:b&&(t=O);for(e in t)this.sounds[e]=this.audioContext?new ne(t[e],e,this):new ie(t[e])}};var oe={init:function(){this.iframeContainerName=L.getRandomName(),p.languageParser.language=e.language,this.message='<div id="formContainer" style="display: block;"><div id="greetingsOverlay"><div id="greetingsWrapper"><div id="greetingsContainer">'+p.languageParser.translate("overlay","cookiesOff")+"</div></div></div></div>",I?this.showMobileFix():(this.showDesktopFix(),this.iframeContainer.restyle("display","block"))},showDesktopFix:function(){var e,t;e=L.getContrast(B.headerTxtColor);var i=this;if(this.iframeContainer=new se(i.iframeContainerName,L.getGenericStyle({display:"none",right:"10px",bottom:"0px",zindex:"2000000000",position:"fixed"})),B.isEmbedded){var n,a="100%",o="100%";if(n=document.getElementById(s.embedded),!n)return;n.appendChild(this.iframeContainer.buildView()),B.maximizedDimensions().width||B.maximizedDimensions().height?(a=B.maximizedDimensions().width+"px",o=B.maximizedDimensions().height+"px"):(t=parseInt(L.computedStyle(n,"width").replace("px",""),10),n=parseInt(L.computedStyle(n,"height").replace("px",""),10),(!t||280>t)&&(a="280px"),(!n||330>n)&&(o="330px")),this.iframeContainer.restyle("width",a),this.iframeContainer.restyle("height",o)}else document.body.appendChild(this.iframeContainer.buildView());B.isEmbedded||B.isPopup?(t='<div id="tawkchat-maximized-wrapper"><div id="borderWrapper"></div><div id="headerBoxWrapper"><div class="theme-background-color theme-text-color" id="headerBox"><div id="shortMessage">'+p.languageParser.translate("chat","live_chat")+"</div></div></div>"+this.message+'<div id="bottomContainer"></div>',B.isPopup?(e=document.getElementsByTagName("head")[0],a=document.createDocumentFragment(),o=L.createElement(document,"style",{type:"text/css"}),n=document.createTextNode(p.ResetStyle+""+p.MaximizedStyle+B.maxStyle()),o.styleSheet?o.styleSheet.cssText=n.nodeValue:o.appendChild(n),a.appendChild(o),e.appendChild(a),this.maximizedContainer=new se(L.getRandomName(),L.getGenericStyle({width:"100%",height:"100%"})),document.getElementById(this.iframeContainerName).appendChild(this.maximizedContainer.buildView()),this.maximizedContainer.elementReferrer.innerHTML=t,this.iframeContainer.restyle("width","100%"),this.iframeContainer.restyle("height","100%")):(this.maximizedContainer=new le(L.getRandomName(),L.getGenericStyle({zindex:"999999",height:"100%",width:"100%",position:"static"}),q,"iframe"),document.getElementById(this.iframeContainerName).appendChild(this.maximizedContainer.buildView()),this.maximizedContainer.buildIframe(p.MaximizedStyle+B.maxStyle()),
this.maximizedContainer.documentRef.body.classList.add("noCookies"),this.maximizedContainer.documentRef.body.classList.add(e),this.maximizedContainer.documentRef.body.classList.add("embed"),this.maximizedContainer.documentRef.body.innerHTML=t,this.iframeContainer.restyle("position","static"),s.onLoad())):(this.maximizedContainer=new le(L.getRandomName(),L.getGenericStyle({zindex:"999999",display:"none",height:"400px",width:"320px",position:"static"}),q,"iframe"),this.minimizedContainer=new le(L.getRandomName(),L.getGenericStyle({zindex:"1000001",bottom:"0px",display:"none",height:"40px",width:"320px",maxheight:"40px",maxwidth:"320px",right:"0px",minheight:"40px",minwidth:"320px",position:"fixed"}),q,"iframe"),this.minimizedContainer.template=h["tawkchat-minified-iframe-element-rectangle"],t='<div id="tawkchat-maximized-wrapper"><div id="borderWrapper"></div><div id="headerBoxWrapper"><div class="theme-background-color theme-text-color" id="headerBox"><div id="shortMessage">'+p.languageParser.translate("chat","live_chat")+'</div><div id="headerBoxControlsContainer"><div id="minimizeChat" class="icon"></div></div></div></div>'+this.message+'<div id="bottomContainer"></div>',document.getElementById(this.iframeContainerName).appendChild(this.minimizedContainer.buildView()),document.getElementById(this.iframeContainerName).appendChild(this.maximizedContainer.buildView()),this.minimizedContainer.buildIframe(p.MinifiedStyle+B.minStyle()),this.maximizedContainer.buildIframe(p.MaximizedStyle+B.maxStyle()),this.maximizedContainer.documentRef.body.classList.add("noCookies"),this.maximizedContainer.documentRef.body.classList.add(e),this.minimizedContainer.documentRef.body.classList.add("noCookies"),this.minimizedContainer.documentRef.body.classList.add(e),this.maximizedContainer.documentRef.body.innerHTML=t,this.maximizedContainer.getElementById("formContainer").style.display="block",this.minimizedContainer.restyle("display","block"),this.minimizedContainer.attachUserEventListener("click",function(e){i.minimizedContainer.restyle("display","none"),i.maximizedContainer.restyle("display","block"),p.eventHandler.cancelEvent(e)},"tawkchat-minified-wrapper","minifiedclick"),this.maximizedContainer.attachUserEventListener("click",function(e){i.minimizedContainer.restyle("display","block"),i.maximizedContainer.restyle("display","none"),p.eventHandler.cancelEvent(e)},"minimizeChat","minlinkclick"),(e=this.minimizedContainer.getElementById("short-message"))&&(e.innerHTML=p.languageParser.translate("chat","live_chat")))},showMobileFix:function(){if(B.isPopup){var e=document.getElementsByTagName("head")[0],t=document.createDocumentFragment(),i=L.createElement(document,"style",{type:"text/css"}),n=document.createTextNode(p.ResetStyle+""+p.MaximizedMobileStyle);i.styleSheet?i.styleSheet.cssText=n.nodeValue:i.appendChild(n),t.appendChild(i),e.appendChild(t),this.iframeContainer=new se(self.iframeContainerName,L.getGenericStyle({display:"block",right:"0px",bottom:"0px",zindex:"2000000000",position:"fixed"})),this.iframeContainer.restyle("width","100%"),this.iframeContainer.restyle("height","100%"),document.getElementById(this.iframeContainerName).innerHTML='<div id="mainContainer" style="display: block">'+this.message+"</div>"}else p.main.initRenderer(I),p.formHandler=new me,p.viewHandler.begin(),p.viewHandler.show(),(e=p.viewHandler.chatContainer.getElementById("chatPanel"))&&(e.innerHTML='<div id="greetingsWrapper">'+p.languageParser.translate("overlay","cookiesOff")+"</div>")}},re=function(){var e=this;this.uploads={},p.eventEmitter.on("",function(e){p.viewHandler.updateFileProgress(e)}),p.eventEmitter.on("",function(t){e.uploads[t.handle]&&(delete e.uploads[t.handle],p.viewHandler.fileUploaded(t.handle),p.chatHandler.sendFileMessage(t))}),p.eventEmitter.on("",function(t){var i=e.uploads[t.handle];i&&p.viewHandler.handleUploadError(null,i,t.handle)})};Aa=function(){this.chatWindowStates={min:!0,max:!0},this.selfOrigin=this.socket=null,this.forceDisconnected=this.banned=this.ready=this.disconnect=!1,this.clearRegisterRetryTimeout=null},Aa.prototype=new EventEmitter,Aa.prototype.init=function(){var t,i=!1,n=this,r=(new Date).getTime();this.forceDisconnected=this.disconnect=e.connected=!1,this.removeAllListeners(),this.socket&&(this.socket.removeAllListeners(),this.socket.disconnect()),null===S&&te.handleWindowId(),null!==S&&"null"!==S||p.loggingHandler.logIncident("windowId is null",{windowId:S,type:typeof S}),("symbian"===I||"android"===I||"safari"===I&&7>k||E&&9>=k&&"https"!==location.protocol)&&(i=!0),t={k:A.sessionKey,u:N.uuid,uv:N.uuidVer,a:H.pageId,cver:M.chatVersion,pop:B.isPopup,w:S,jv:A.currentVersion,asver:A.pageStatusVersion,ust:$_Tawk_Unstable,p:B.isPopup?H.pageName():document.title,r:document.referrer},t.p&&255<t.p.length&&(t.p=t.p.substring(0,255)),this.socket=new $__TawkSocket("wss://"+A.visitorSocketServer+"/",{engineIo:$__TawkEngine,path:"/s",query:t,forceJSONP:i}),this.socket.on("disconnect",function(){n.disconnectHandler()}),this.socket.on("error",function(e){var t,i="socket on error";if(e instanceof Error){if(t={toString:e.toString(),stack:e.stack,lineNumber:e.lineNumber,fileName:e.fileName},p.loggingHandler.unloading&&-1===t.toString.indexOf("post"))return;"TransportError"===e.type&&(t.description=e.description),-1!==t.toString.indexOf("post")&&(i="socket post error")}else t=e;p.loggingHandler.logIncident(i,t),n.socket.disconnect(),n.disconnectHandler()}),this.socket.on("connect",function(){n.disconnect=!1}),this.socket.on("ready",function(t,i,s){if(!p)return n.disconnectSocket();n.selfOrigin=t,e.connected=!0,n.ready||(e.loaded=!0,"undefined"!=typeof $_Tawk_LoadStart&&p.loggingHandler.logPerformance({socket:(new Date).getTime()-r,widget:(new Date).getTime()-$_Tawk_LoadStart,script:(new Date).getTime()-c,download:c-$_Tawk_LoadStart})),n.ready=!0;try{p.eventEmitter.emit("syncConversation",i)}catch(l){a.handleError("Unable to emit syncConversation",l.fileName,l.lineNumber,l.stack)}try{p.eventEmitter.emit("pageStatusUpdated",s)}catch(d){a.handleError("Unable to emit pageStatusUpdated",d.fileName,d.lineNumber,d.stack)}try{p.eventEmitter.emit("socketReady")}catch(h){a.handleError("Unable to emit socketReady",h.fileName,h.lineNumber,h.stack)}clearTimeout(n.clearRegisterRetryTimeout),n.clearRegisterRetryTimeout=setTimeout(function(){n.disconnect||o.resetRetryCount(),n.clearRegisterRetryTimeout=null},5e3)}),this.socket.on("remoteDisconnect",function(e){if(e=e||{},"BANNED"===e.msg){n.banned=!0;try{n.socket.disconnect()}catch(t){a.handleError("Unable to emit disconnect socket on ban",t.fileName,t.lineNumber,t.stack)}p.main.hideWidget()}else n.socket.disconnect(),n.disconnectHandler()}),this.addEventListeners()},Aa.prototype.addEventListeners=function(){function e(e,t){try{p.eventEmitter.emit(e,t)}catch(i){a.handleError("Unable to emit socket event : "+e+" with data : "+$_TAWK_JSON.stringify(t),i.fileName,i.lineNumber,i.stack)}}var t=this;this.socket.on("visitorChatWindowState",function(i){t.selfOrigin!==i.origin&&e("windowStateUpdated",i)}),this.socket.on("visitorDataUpdate",function(i){t.selfOrigin!==i.origin&&e("visitorDataUpdate",i)}),this.socket.on("visitorMessage",function(i){t.selfOrigin!==i.origin&&e("incomingMessage",i)}),this.socket.on("visitorConversationPresenceUpdate",function(t){e("incomingMessage",t)}),this.socket.on("pageStatus",function(t){e("pageStatusUpdated",t)}),this.socket.on("newCriticalUpdate",function(e){e=e||0,e!=A.criticalVersion&&p.main.criticalRefresh(e,!0)}),this.socket.on("newUnstableCriticalUpdate",function(e){e=e||0,$_Tawk_Unstable&&e!=A.criticalVersion&&p.main.criticalRefresh(e,!0)}),this.socket.on("visitorPopupFocus",function(t){t=t||{},e("visitorPopupFocus",!!t.hasFocus)}),this.socket.on("chatBubbleClosed",function(i){i.origin!==t.selfOrigin&&e("chatBubbleClosed",i)}),this.socket.on("agentIsTyping",function(t){e("agentIsTyping",t)}),this.socket.on("agentStopedTyping",function(t){e("agentStopedTyping",t)}),this.socket.on("pageDisable",function(){e("removeWidget")}),this.socket.on("widgetScheduleUpdate",function(t){e("scheduleUpdate",t)}),this.socket.on("uploadProgress",function(t){e("fileUploadProgress",t)}),this.socket.on("uploadFinished",function(t){e("fileUploadFinished",t)}),this.socket.on("uploadError",function(t){e("fileUploadError",t)}),this.on("notifyWindowState",function(e){t.chatWindowStates[e]&&t.socket.send("chatWindowState",e)}),this.on("notifyChatBubbleClosed",function(){t.socket.send("chatBubbleClose")}),this.on("notifyMessagePreview",function(e){t.socket.send("messagePreview",e,(new Date).getTime())}),this.on("sendChatMessage",function(e,i){t.socket.send("chatMessage",e,i)}),this.on("notifyNameChange",function(e,i){t.socket.send("saveNameChangeForm",e,i)}),this.on("notifyEndChatTranscript",function(e,i){t.socket.send("sendTranscript",e,i)}),this.on("notifyOfflineMessage",function(e,i){t.socket.send("service","visitor-chat","/v1/visitor/offline-form",e,i)}),this.on("notifyPrechat",function(e,i){t.socket.send("savePrechatForm",e,i)}),this.on("setRating",function(e){t.socket.send("visitorRating",e)}),this.on("notifyWidgetResized",function(){t.socket.send("chatWindowResize")}),this.on("popupOnFocus",function(e){t.socket.send("visitorPopupFocus",e)}),this.on("notifySocketStatusUpdate",function(e){t.socket.send("socketStatusUpdate",e)}),this.on("saveForeignKey",function(e,i){t.socket.send("saveForeignKey",e,i)}),this.on("saveConversion",function(e,i){t.socket.send("saveConversion",e,i)}),this.on("submitMultipleOptions",function(e,i){t.socket.send("saveMultipleOptions",e,i)}),this.on("endVisitorChat",function(e,i){t.socket.send("endChat",i)}),this.on("fileUploadMessage",function(e,i){t.socket.send("fileUploadMessage",e,i)}),this.on("addEvent",function(e,i){t.socket.send("addEvent",e,i)}),this.on("setAttributes",function(e,i){t.socket.send("setAttributes",e,i)}),this.on("addTags",function(e,i){t.socket.send("addTags",e,i)}),this.on("removeTags",function(e,i){t.socket.send("removeTags",e,i)}),this.on("getWebRTCToken",function(e,t){this.socket.send("service","visitor-chat","/v1/webrtc/visitor/token",e,t)}),this.on("declineCall",function(e,t){this.socket.send("service","visitor-chat","/v1/webrtc/visitor/reject",e,t)})},Aa.prototype.disconnectSocket=function(){this.forceDisconnected=!0,this.socket&&(this.socket.disconnect(),this.disconnectHandler())},Aa.prototype.disconnectHandler=function(){e.connected=!1,this.socket.removeAllListeners(),this.removeAllListeners(),p.scheduler.clearTimer(),this.banned||this.forceDisconnected||this.disconnect||(this.disconnect=!0,o.retryRegister())};var se=function(e,t,i,n,a){var o=this;this.elementId=e||"",this.style=t||"",this.tagName=n||"div",this.childViews=[],this.template=e&&h[e]?h[e]:"",this.elementReferrer=null,this.documentRef=a||document,this.attributes={},this.isVisible=!1,this.classNames=[],"iframe"===n&&(this.isIframe=!0),this.elementId&&(this.attributes.id=this.elementId),i&&Object.keys(i).forEach(function(e){o.attributes[e]=i[e]})};se.prototype.addChildViews=function(e){var t=this;e.forEach(function(e){t.childViews.push(e)})},se.prototype.buildView=function(e){return this.documentRef=e||this.documentRef,this.elementReferrer=L.createElement(this.documentRef,this.tagName,this.attributes,this.style,this.template),this.elementReferrer.className+=this.classNames.join(" "),this.isIframe||this.buildChildViews(),this.elementReferrer},se.prototype.buildChildViews=function(e){var t=this;this.childViews.length&&(this.documentRef=e||this.documentRef,this.childViews.forEach(function(e){t.elementReferrer.appendChild(e.buildView(t.documentRef))}))},se.prototype.restyle=function(e,t){-1===t.indexOf("!important")&&(t+=" !important"),this.elementReferrer?this.elementReferrer.style.cssText+=";"+e+":"+t:this.style+=";"+e+":"+t},se.prototype.attachUserEventListener=function(e,t,i,n){var a;(a=i?this.getElementById(i):this.elementReferrer)&&(i=e.split(" "),1<i.length?i.forEach(function(e){p.eventHandler.listen(a,e,t,e+n)}):p.eventHandler.listen(a,e,t,n))},se.prototype.toggle=function(){this.isVisible?(this.restyle("display","none !important"),this.isVisible=!1):(this.restyle("display","block !important"),this.isVisible=!0)},se.prototype.getElementById=function(e){return this.elementReferrer?this.documentRef.getElementById(e):null},se.prototype.insertHtml=function(e){this.elementReferrer.innerHTML=e},se.prototype.clear=function(){this.elementReferrer&&(this.elementReferrer.outerHTML="",this.elementReferrer=null)},se.prototype.addClass=function(e){this.classNames.push(e),this.elementReferrer&&(this.elementReferrer.className=this.classNames.join(" "))},se.prototype.removeClass=function(e){for(;-1!==this.classNames.indexOf(e);)this.classNames.splice(this.classNames.indexOf(e),1);this.elementReferrer&&(this.elementReferrer.className=this.classNames.join(" "))},se.prototype.hide=function(){this.restyle("display","none !important"),this.isVisible=!1},se.prototype.show=function(){this.restyle("display","block !important"),this.isVisible=!0},se.prototype.insertCssFile=function(e,t){var i=this.documentRef.getElementsByTagName("head")[0],n=this.documentRef.createDocumentFragment(),a=L.createElement(this.documentRef,"style",{type:"text/css"}),o=this.documentRef.createTextNode(t?e:p.ResetStyle+""+e);n.appendChild(a),i.appendChild(n),a.styleSheet?a.styleSheet.cssText=o.nodeValue:a.appendChild(o)},se.prototype.massRestyle=function(e){for(var t in e)this.restyle(t,e[t])};var le=function(){se.apply(this,arguments)};le.prototype=new se,le.prototype.constructor=le,le.prototype.parent=se.prototype,le.prototype.buildIframe=function(e,t){this.documentRef=L.getDocument(this.elementReferrer),this.documentRef.open(),this.documentRef.writeln('<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" /></head><body></body></html>'),this.documentRef.close(),this.insertCssFile(e),this.insertContent(),this.buildChildViews()},le.prototype.insertContent=function(){this.documentRef.body.innerHTML=this.template},le.prototype.buildChildViews=function(){var e=this;this.childViews.forEach(function(t){e.documentRef.body.appendChild(t.buildView(e.documentRef))})};var ce=function(e){this.template=(this.elementId=(this.formData=e)?e.id:null)&&h[this.elementId]?h[this.elementId]:"",this.elementReferrer=null,this.documentRef=document,this.attributes={className:"form"},this.elementId&&(this.attributes.id=this.elementId)};ce.prototype.buildForm=function(){this.formData.additionalFields=[],this.insertTranslatedTexts()},ce.prototype.buildView=function(e){return this.documentRef=e||this.documentRef,this.elementReferrer=L.createElement(this.documentRef,"div",this.attributes,null,this.template)},ce.prototype.addPlaceholderText=function(e,t,i,n,a){a=RegExp("__"+e.toUpperCase()+"_PLACEHOLDER__","gm"),e.toUpperCase(),e=RegExp("__"+e.toUpperCase()+"__","gm");var o=p.languageParser.translate("form",i+"Placeholder");return R||t||(t=o),o&&o!==i+"Placeholder"||(o=t,t=""),n?L.escapeTemplateReplacement(n,[{placeholder:a,textReplace:o},{placeholder:e,textReplace:t}]):void(this.template=L.escapeTemplateReplacement(this.template,[{placeholder:a,textReplace:o},{placeholder:e,textReplace:t}]))},ce.prototype.addPlaceholderHandler=function(){var e,t=this;R||(e=this.formData.fields)&&e.forEach(function(e){var i,n,a;"input"!==e.type||e.isEnabled&&!e.isEnabled()||(a=e.getValue?e.getValue():"","input"===e.type&&L.isArray(a)?a.forEach(function(a,o){i=t.documentRef.getElementById(e.fieldName+o),n=a,L.togglePlaceholderText(i,n,e.fieldName+o),"textarea"!==i.tagName.toLowerCase()||L.trim(i.value)||(i.value=n)}):e.hiddenIE8||(i=t.documentRef.getElementById(e.fieldName+"Field"),n=p.languageParser.translate("form",e.languageKey+"Placeholder"),L.togglePlaceholderText(i,n,e.fieldName+"Field"),"textarea"!==i.tagName.toLowerCase()||L.trim(i.value)||(i.value=n)))})},ce.prototype.insertTranslatedTexts=function(){var e=this,t="";(this.formData.fields||[]).forEach(function(t){var i;i=t.getValue?t.getValue():"",e.addPlaceholderText(t.fieldName,i,t.languageKey,null,t.labelText)}),this.template=L.escapeTemplateReplacement(this.template,[{placeholder:"__TITLE__",textReplace:this.formData.getTitle?this.formData.getTitle():p.languageParser.translate("form",this.formData.title)},{placeholder:"__OVERLAY__",textReplace:p.languageParser.translate("overlay",this.formData.overlayMessage)},{placeholder:"__CANCEL_BUTTON__",textReplace:p.languageParser.translate("form","CancelButton")},{placeholder:"__SAVE_BUTTON__",textReplace:p.languageParser.translate("form","SaveButton")},{placeholder:"__SEND_BUTTON__",textReplace:p.languageParser.translate("form","SendButton")},{placeholder:"__SUBMIT_BUTTON__",textReplace:p.languageParser.translate("form","SubmitButton")},{placeholder:"__START_CHAT_BUTTON__",textReplace:p.languageParser.translate("form","StartChatButton")},{placeholder:"__END_CHAT_BUTTON__",textReplace:p.languageParser.translate("rollover","end")},{placeholder:"__SUBMITTING_INDICATOR__",textReplace:p.languageParser.translate("form","SubmittingProcess")},{placeholder:"__ENDING_INDICATOR__",textReplace:p.languageParser.translate("form","EndingProcess")},{placeholder:"__SENDING_INDICATOR__",textReplace:p.languageParser.translate("form","SendingProcess")},{placeholder:"__SAVING_INDICATOR__",textReplace:p.languageParser.translate("form","SavingProcess")},{placeholder:"__OFFLINE_MESSAGE_SUCCESSFULY_SENT__",textReplace:p.languageParser.translate("form","OfflineMessageSent")},{placeholder:"__SEND_AGAIN__",textReplace:p.languageParser.translate("form","sendAgain")},{placeholder:/__STATUS__/gm,textReplace:p.languageParser.translate("form","saving")},{placeholder:/__IE6__/gm,textReplace:T?"-ie6":""},{placeholder:/__SAFARI__/gm,textReplace:"safari"===C?"safari-fix":""}]),this.template="safari"===C||"chrome"===C||"firefox"===C||"mozilla"===C||E&&k>=8?this.template.replace("__NON_MODERN__",""):this.template.replace("__NON_MODERN__","other-fix"),I&&(t=L.escapeTemplateReplacement(h["close-form-button"],[{placeholder:"__CLOSE_BUTTON__",textReplace:p.languageParser.translate("form","CloseButton")}])),this.template=L.escapeTemplateReplacement(this.template,[{placeholder:"__CLOSE_BUTTON_CONTAINER__",textReplace:t}])};var de=function(e,t){ce.apply(this,[e]),this.formName=t};de.prototype=new ce,de.prototype.constructor=de,de.prototype.parent=ce.prototype,de.prototype.buildForm=function(){var e,t=[];if(e="preChatForm"==this.formName?"prechat":"offline",this.formData.additionalFields=[],this.insertTranslatedTexts(),null===this.formData.dynamicFields){for(var i=0,n=B[e+"Options"].fields.length;n>i;i++){var a={},o=B[e+"Options"].fields[i];o.id=e+i,a.label=o.label,a.instantValidation=!1,a.isRequired=o.isRequired,a.fieldName=e+i,a.fieldType=o.type,a.validation="isValidString","name"===o.type?(a.valueMaxLength=40,a.getValue=p.visitorHandler.getNameValue,a.languageKey="Name"):"email"===o.type?(a.valueMaxLength=150,a.getValue=p.visitorHandler.getEmailValue,a.validation="isValidEmail",a.languageKey="Email"):"message"===o.type||"textArea"===o.type?a.valueMaxLength=500:"inputText"===o.type?a.valueMaxLength=150:"department"===o.type?a.getValue=p.sessionHandler.getDeparmentOptions:"choice"===o.type||"option"===o.type?(a.type="options",a.selections=o.selections):"phone"===o.type&&(a.valueMaxLength=20,a.validation="isValidPhone",a.languageKey="Phone"),a.isRequired&&!a.languageKey&&(a.languageKey="Required"),t.push(a)}this.formData.dynamicFields=t}this.generateDynamicFields()},de.prototype.generateDynamicFields=function(){for(var e="",t=RegExp("__LABEL__","gm"),i=RegExp("__ID__","gm"),n=RegExp("__MAXLENGTH__","gm"),a=0,o=this.formData.dynamicFields.length;o>a;a++){var r,s="",l=this.formData.dynamicFields[a];"name"===l.fieldType||"email"===l.fieldType||"phone"===l.fieldType||"inputText"===l.fieldType?(r=h.inputTextFieldType,r="email"===l.fieldType?r.replace("__INPUT_TYPE__","email"):r.replace("__INPUT_TYPE__","text")):"message"===l.fieldType||"textArea"===l.fieldType?r=h.textAreaFieldType:"department"===l.fieldType?r=h.departmentSelection:("choice"===l.fieldType||"option"===l.fieldType)&&(r=h.selectionsType,s="choice"===l.fieldType?this.generateCheckboxOptions(l.fieldName,l.selections):this.generateRadioOptions(l.fieldName,l.selections)),r&&(r=r.replace(t,l.label),r=r.replace(i,l.fieldName),r=r.replace(n,l.valueMaxLength),r=l.isRequired?r.replace(/__REQUIRED__/gm,"*"):r.replace(/__REQUIRED__/gm,""),l.getValue&&("department"===l.fieldType?(s=this.generateDropDownOptions(l.getValue(),l.isRequired))||(r=""):s=l.getValue()),r=r.replace("__VALUE__",s),e+=r)}this.template=this.template.replace("__FIELDS__",e)},de.prototype.generateDropDownOptions=function(e,t){var i="";if(0===e.length)return!1;t||(i+='<option value="0"></option>');for(var n=0,a=e.length;a>n;n++)i+='<option value="'+e[n].value+'"'+(e[n].selected?'selected="selected"':"")+">"+e[n].text+"</option>";return i},de.prototype.generateRadioOptions=function(e,t){for(var i="",n=h.radioSelectionType,a=0,o=t.length;o>a;a++)i+=n.replace(/__ID__/gm,e+"radio"+a).replace(/__FIELD_ID__/gm,e).replace(/__VALUE__/gm,t[a]);return i},de.prototype.generateCheckboxOptions=function(e,t){for(var i="",n=h.checkboxSelectionType,a=0,o=t.length;o>a;a++)i+=n.replace(/__ID__/gm,e+"check"+a).replace(/__FIELD_ID__/gm,e).replace(/__VALUE__/gm,t[a]);return i},de.prototype.updateName=function(e){for(var t,i=0,n=this.formData.dynamicFields.length;n>i;i++){var a=this.formData.dynamicFields[i];if("name"===a.fieldType){t=p.viewHandler.chatContainer.getElementById(a.fieldName+"Field");break}}t&&(t.value=e)},de.prototype.updateEmail=function(e){for(var t,i=0,n=this.formData.dynamicFields.length;n>i;i++){var a=this.formData.dynamicFields[i];if("email"===a.fieldType){t=p.viewHandler.chatContainer.getElementById(a.fieldName+"Field");break}}t&&(t.value=e)},de.prototype.addPlaceholderHandler=function(){var e,t;if(!R)for(var i=0,n=this.formData.dynamicFields.length;n>i;i++)t=this.formData.dynamicFields[i],"department"!==t.fieldType&&"choice"!==t.fieldType&&"option"!==t.fieldType&&(this.formData.dynamicFields[i].placeholderText=(t.isRequired?"* ":"")+t.label,e=this.documentRef.getElementById(t.fieldName+"Field"),L.togglePlaceholderText(e,this.formData.dynamicFields[i].placeholderText,t.fieldName+"Field"),L.trim(e.value)||(e.value=this.formData.dynamicFields[i].placeholderText))};var pe=function(e){var t=this;this.container=e,this.unansweredMessages=0,this.popUpHasFocus=!1,p.eventEmitter.on("visitorPopupFocus",function(e){t.isPopupFocused=e,t.hide()})};pe.prototype.initIndicator=function(){var e=te.getSessionInformation()[1];(e=e?parseInt(e,10):0)&&(this.unansweredMessages=e-1,this.show())},pe.prototype.show=function(){var e,t,i;"max"===A.chatWindowState()&&!B.isPopup||this.isPopupFocused&&!p.viewHandler.popoutWin.closed||(99>this.unansweredMessages&&this.unansweredMessages++,te.storeSessionInformation(!0),B.isPopup&&this.unansweredMessages?this.updatePopoutTitle():this.container&&this.container.elementReferrer&&(e=this.container.getElementById("tawkchat-chat-indicator"),t=this.container.getElementById("tawkchat-chat-indicator-text"),i=p.viewHandler.iframeContainer.getElementById("tawkchat-minified-iframe-element"),t&&(I||!B.isDesktopRectangle()?t.innerHTML=this.unansweredMessages:t.innerHTML=p.languageParser.translate("chat","newMessage",{num:this.unansweredMessages})),e&&"block"!==e.style.display&&(e.style.display="block",e.style.visibility="hidden",p.viewHandler.handleIndicatorToggle(!0),p.viewHandler.showWidget(),this.container.show(),i&&(p.viewHandler.chatContainer.hide(),i.style.display="block"))))},pe.prototype.updatePopoutTitle=function(){var e="",e=A.pageStatus(),t="";I||((e=r.getShortMessage(e))||(e=""),0<this.unansweredMessages&&(t="("+this.unansweredMessages+")"),document.title=t+L.rawDecode(e)+(H.pageName()?" - "+L.rawDecode(H.pageName()):""))},pe.prototype.hide=function(){var e,t;this.unansweredMessages=0,te.storeSessionInformation(!0),B.isPopup?this.updatePopoutTitle():this.container&&this.container.elementReferrer&&(e=this.container.getElementById("tawkchat-chat-indicator"),t=this.container.getElementById("tawkchat-chat-indicator-text"),e&&"block"===e.style.display&&(e.style.display="none",p.viewHandler.handleIndicatorToggle(),I||this.container.hide()),t&&(t.innerHTML=""))};var he=TawkClass.extend({init:function(){this.chatContainer=null,this.removeAgentNotification=!1,this.lastRadioButton=null,this.clickEvent="click",this.isPopupFocused=!1,this.indicator=null,this.newMessageNotSeen=!1,this.notSeenMessages=[],this.lastMessageTime=this.lastFocusedElement=null,this.unseenMessageNumber=0,this.retryUploadList=this.removeDividerTimeout=null,this.tawktoLinkName=L.getRandomName(),this.bottomContainerName=L.getRandomName(),this.incomingCallTimeout=null},show:function(){},appendAgent:function(){},removeAgent:function(){},clearAgentFooter:function(){},clearAgentHeader:function(){},handleAcknowledgment:function(e){var t,i,n,a,o,r,s,l,c=this.chatContainer;if(c&&e.messageId&&(a=c.getElementById(e.messageId))){n=a.parentNode,i=0;for(var d=a.childNodes.length;d>i;i++){var m=a.childNodes[i];-1!==m.className.indexOf("messageBody")&&(t=L.getElementsByClassName(m,"messageWrapper"),l=L.getElementsByClassName(m,"messageStatusContainer"))}t&&t.length&&l&&l.length&&(l=l[0],t=t[0],e.error?l&&(n=h["chat-resend-link"].replace("__MESSAGE_ID__",e.messageId).replace("__NOT_DELIVERED__",p.languageParser.translate("chat","message_not_delivered")),t.className="messageWrapper error",l.className="messageStatusContainer errorInMessage",l.innerHTML=n,o=L.rawDecode(t.childNodes[0].textContent||t.childNodes[0].innerText),this.scrollToBottom(),s=p.eventHandler.listen(l,p.viewHandler.clickEvent,function(i){p.eventHandler.cancelEvent(i),p.chatHandler.sendMessageToServer(o,e.messageId),(r=c.getElementById("errorFor"+e.messageId))&&(t.className="messageWrapper pending"),l.className="messageStatusContainer pending",l.childNodes[0].innerHTML='<span class="messageStatus"></span>',p.eventHandler.removeEventHandler(t,"click",s)},"resend"+e.messageId+"click")):(i=p.chatHandler.messages[e.order],p.viewHandler.addWaitTime(),n.removeChild(a),p.chatHandler.prepareMessage(i,!0,!1,!0)))}},handleEndChat:function(){},clearAgents:function(){},handleRestartChat:function(){},appendMessage:function(e,t){var i,n,o,r=e.reDisplay?e.reDisplay:!1;i=!1;var s=null,l=e.message,c=e.time,d=e.senderType,h=this.chatContainer.documentRef,m=this.ifScrollbarDown(),u=h.getElementById("chatWrapper"),g="messageId-"+(new Date).getTime().toString()+Object.keys(p.chatHandler.messages).length,f=T?"messageContainer-ie6":"messageContainer clearfix",c=L.parseChatTime(c);"undefined"!=typeof Q&&(l=Q.unifyUnicode(l),0===l.replace(Q.regUnicode,"").trim().length&&(f+=" emojionly"),l=Q.toImage(l)),1>=M.chatOrder&&this.hideEmbeddedGreetings(),!A.prechatFormSubmitted&&B.showPreChatForm&&(A.prechatFormSubmitted=!0,"preChatForm"===p.formHandler.currentForm&&p.formHandler.closeForm()),"a"===d?(i=this.parseSurvey(l,g),l=i.message,i=i.isSurvey,p.chatHandler.handleAgentStoppedTyping(e.data.rsc)):p.chatHandler.visitorHasMessaged||"s"===d||(p.chatHandler.visitorHasMessaged=!0),e.data&&e.data.file&&(l=this.parseUploadedFile(e.data.file)),"c"===e.type&&(o=L.escapeTemplateReplacement(t["chat-message-row"],[{placeholder:"__MESSAGE_STATUS_ROW__",textReplace:t["chat-message-status-row"]},{placeholder:/__MESSAGE_ID__/gm,textReplace:g},{placeholder:"__MESSAGE__",textReplace:l},{placeholder:"__PENDING__",textReplace:e.isPending?"pending":""}]),f="v"===d?f+" visitorChatContainer ":f+" agentChatContainer "),s=new se(g,null,{className:f},null,h),this.lastMessageTime=e.isPending?this.lastMessageTime:c,"c"===e.type?(p.chatHandler.lastMessageOwner="s"===d?"server":e.isPending?p.chatHandler.lastMessageOwner:e.ownerId,"a"===d||"s"===d?("a"===d&&(p.chatHandler.agentHasMessaged=!0,this.removeWaitTime()),n=L.escapeTemplateReplacement(t["chat-message-owner-agent"],[{placeholder:"__NAME__",textReplace:e.name}])):n=L.isGeneratedName(N.name())&&t["chat-message-owner-visitor"]?L.escapeTemplateReplacement(t["chat-message-owner-visitor"],[{placeholder:"__NAME__",textReplace:e.name}]):"",n=L.escapeTemplateReplacement(t["chat-message-container"],[{placeholder:"__OWNER_TPL__",textReplace:n},{placeholder:"__CONTENT__",textReplace:o}]),"s"===d&&(n=n.replace("ownerNameContainer","ownerNameContainer trigger"),n=n.replace("messageBody","messageBody trigger"))):"n"===e.type&&(p.chatHandler.lastMessageOwner="notif",n=t["chat-notification-container"],n=L.escapeTemplateReplacement(t["chat-notification-container"],[{placeholder:"__MESSAGE_ID__",textReplace:g},{placeholder:"__MESSAGE__",textReplace:l},{placeholder:"__TIME__",textReplace:c}])),s.template=n,s.buildView();try{u.insertBefore(s.elementReferrer,h.getElementById("agentTypingContainer")),p.eventHandler.listen(s.elementReferrer,"mouseover",function(){s.elementReferrer.className=f+" show-time"},g+"mouseover"),p.eventHandler.listen(s.elementReferrer,"mouseout",function(){s.elementReferrer.className=f},g+"mouseout")}catch(y){a.handleError("Chat wrapper is null to append message : "+$_TAWK_JSON.stringify(e),y.fileName,y.lineNumber,y.stack)}return e.dontPlaySound||"v"===d||e.isPending||this.popoutWin&&!this.popoutWin.closed,m&&this.scrollToBottom(),!r&&"v"!==d&&!m&&(this.setDivider(g,t["chat-divider"],s),this.unseenMessageNumber&&(o=this.chatContainer.documentRef.getElementById("newMessagesBar")))&&(this.chatContainer.getElementById("notificationMessageText").innerHTML=p.languageParser.translate("chat","newMessage",{num:this.unseenMessageNumber})),m&&this.scrollToBottom(),i&&this.addSurveyHandlers(g),g},updateViewByStatus:function(e){if(p.formHandler.closeForm(),B.isPopup){var t=r.getShortMessage(e);document.title=t?s.profileName+" - "+L.rawDecode(t):s.profileName}"online"===e||"away"===e?(B.showPreChatForm&&!A.prechatFormSubmitted&&p.formHandler.openForm("preChatForm"),this.showWidget(),i&&i.toggleBubble()):"offline"===e&&(B.hideWidgetOnOffline?this.hideWidget():(p.formHandler.openForm("offlineForm"),this.showWidget()),i&&i.toggleBubble())}});he.prototype.resetView=function(){},he.prototype.styleAgentBar=function(){},he.prototype.expandAgentList=function(){},he.prototype.hideWidget=function(){},he.prototype.showWidget=function(){},he.prototype.toggleWidget=function(){I&&p.viewHandler.maximize()},he.prototype.popoutWidget=function(){I&&p.viewHandler.popup()},he.prototype.handleIndicatorToggle=function(){},he.prototype.begin=function(){},he.prototype.getViewportDimensions=function(e){var i,n={};return e?(e=l,i=document):(e=t.container.elementReferrer,i=t.container.documentRef),"undefined"!=typeof e.innerWidth?(n.height=e.innerHeight,n.width=e.innerWidth,n):"undefined"!=typeof i.documentElement&&"undefined"!=typeof i.documentElement.clientWidth&&0!==i.documentElement.clientWidth?(n.height=i.documentElement.clientHeight,n.width=i.documentElement.clientWidth,n):(n.height=i.getElementsByTagName("body")[0].clientHeight,n.width=i.getElementsByTagName("body")[0].clientWidth,n)},he.prototype.getActualViewportDimensions=function(){var e=this.getViewportDimensions(!0);return{width:this.isVerticalScrollbar()?e.width-this.getScrollerWidth():e.width,height:this.isHorizontalScrollbar()?e.height-this.getScrollerWidth():e.height}},he.prototype.isVerticalScrollbar=function(){return this.getViewportDimensions(!0).height<document.body.scrollHeight},he.prototype.isHorizontalScrollbar=function(){var e=this.getViewportDimensions(!0).width;return document.documentElement&&e<document.documentElement.scrollWidth||e<document.body.scrollWidth},he.prototype.getScrollerWidth=function(){var e=null,t=null,i=0,e=0,e=document.createElement("div");return e.style.cssText="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 50px; overflow: hidden",t=document.createElement("div"),t.style.cssText="width: 100%; height: 200px",
e.appendChild(t),document.body.appendChild(e),i=t.offsetWidth,e.style.overflow="auto",e=t.offsetWidth,document.body.removeChild(document.body.lastChild),i-e},he.prototype.addSurveyHandlers=function(e){var t,i=this;this.chatContainer&&(t=this.chatContainer.getElementById(e),t=L.getElementsByTagName(t,"input"),t.forEach(function(t,n){t.id&&i.chatContainer.attachUserEventListener("click",function(e){i.lastRadioButton!==t.id&&(i.lastRadioButton=t.id,p.chatHandler.sendMessage(t.value))},t.id,"survey"+e+n+"click")}))},he.prototype.ifScrollbarDown=function(){var e,t,i;return this.chatContainer&&this.chatContainer.elementReferrer?(e=this.chatContainer.getElementById("chatContainer"),i=this.chatContainer.getElementById("chatPanel"),e&&i?p.formHandler.currentForm?(i.style.display="block",t=e.offsetHeight+10,e=30>e.scrollHeight-(e.scrollTop+t),i.style.display="none",e):(t=e.offsetHeight+10,30>e.scrollHeight-(e.scrollTop+t)):void 0):!1},he.prototype.scrollToBottom=function(){if(this.chatContainer&&this.chatContainer.elementReferrer){var e=this.chatContainer.getElementById("chatContainer"),t=this.chatContainer.getElementById("chatPanel");if(e){var i=e.style.display,n=t.style.display;"none"===i&&(e.style.display="block"),"none"===n&&(t.style.display="block"),this.chatContainer.getElementById("chatContainer").scrollTop=1e8,"none"===i&&(e.style.display=i),"none"===n&&(t.style.display=n)}}},he.prototype.isChatScrollbar=function(){var e;return this.chatContainer&&this.chatContainer.elementReferrer&&(e=this.chatContainer.getElementById("chatContainer"))?e.scrollHeight>this.getViewportDimensions(B.isPopup).height-139:void 0},he.prototype.addWaitTime=function(){var e,t,i,n;n=I?h.estimatedWaitTime:h["wait-time-container"];var a=this.chatContainer;p.chatHandler.agentHasMessaged||!B.showWaitTime||a.getElementById("waitTimeContainer")||(e=a.getElementById("chatWrapper"),t=Math.ceil(A.waitTime/6e4),t=p.languageParser.translate("chat","messageQueuedText",{t:t,strongStart:"<b>",strongEnd:"</b>"}),i=T?"<center><span>"+p.languageParser.translate("chat","messageQueuedTitile")+"</span></center>":"<span>"+p.languageParser.translate("chat","messageQueuedTitile")+"</span>",n=L.escapeTemplateReplacement(n,[{placeholder:"__TITLE__",textReplace:i},{placeholder:"__MESSAGE__",textReplace:t}]),t=new se("waitTimeContainer",null,null,null,a.documentRef),t.template=n,t.buildView(),(n=a.getElementById("departmentOfflineNotification"))?e.insertBefore(t.elementReferrer,n.nextSibling):e.insertBefore(t.elementReferrer,e.firstChild),this.waitTimeUpdater(!0),"explorer"===C&&9>k&&(a.documentRef.body.className=a.documentRef.body.className))},he.prototype.removeWaitTime=function(){var e;this.chatContainer&&this.chatContainer.elementReferrer&&(e=this.chatContainer.getElementById("waitTimeContainer"))&&(e.parentNode.removeChild(e),"explorer"===C&&9>k&&(t.container.documentRef.body.className=t.container.documentRef.body.className))},he.prototype.waitTimeUpdater=function(e){var t,i,n=this;if(this.chatContainer&&this.chatContainer.elementReferrer&&(i=this.chatContainer.getElementById("waitTime"))&&!(6e4>=A.waitTime)){if(t=A.waitTime%6e4||6e4,e)return setTimeout(function(){n.waitTimeUpdater()},t);A.waitTime-=t,i.innerHTML=Math.ceil(A.waitTime/6e4),setTimeout(function(){n.waitTimeUpdater()},6e4)}},he.prototype.appendAgentIsTypingElement=function(e){var t,i,n,a,o=this.ifScrollbarDown(),r=M.agentProfiles[e];this.chatContainer&&(n=(t=r&&r.pi?A.agentImgUrl+"/"+r.pi:"default")?"url('"+t+"')":"transparent",a="explorer"===C&&9>k?"filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale');":"","transparent"!==n&&(a+="background-position:0 0;background-size:28px 28px"),I?(i=p.languageParser.translate("chat","mobileAgentIsTyping",r),t=h["mobile-agent-typing"]):(r.strongStart="<b>",r.strongEnd="</b>",i=p.languageParser.translate("chat","agentIsTyping",r),t=h["agent-typing"]),t=L.escapeTemplateReplacement(t,[{placeholder:"__MESSAGE_ID__",textReplace:e},{placeholder:"__MESSAGE__",textReplace:i},{placeholder:/__NAME__/gm,textReplace:r.n},{placeholder:"__IMAGE_URL__",textReplace:n},{placeholder:"__IE_IMAGE_SCALE__",textReplace:a}]),this.chatContainer.getElementById("agentTypingContainer").innerHTML+=t,o&&this.scrollToBottom())},he.prototype.removeAgentTypingElement=function(e){this.chatContainer&&(e=this.chatContainer.getElementById("agentTyping-"+e))&&e.parentNode.removeChild(e)},he.prototype.notifiyDepartmentIsNotOnline=function(e,t){var i,n,a=this.chatContainer;a&&(i=a.getElementById("chatWrapper"))&&(n=L.escapeTemplateReplacement(h.departmentOfflineNotification,[{placeholder:"__TITLE__",textReplace:T?"<span>"+p.languageParser.translate("chat","notificationTitle")+"</span>":"<center><span>"+p.languageParser.translate("chat","notificationTitle")+"</span></center>"},{placeholder:"__MESSAGE__",textReplace:p.languageParser.translate("chat","offline"===t?"departmentIsOffline":"departmentIsAway",{departmentName:e,strongStart:"<b>",strongEnd:"</b>"})}]),elem=L.createElement(a.documentRef,"div",{id:"departmentOfflineNotification",className:"messageContainer"},null,n),i.insertBefore(elem,i.firstChild))},he.prototype.setDivider=function(e,t,i){var n,a,o,r,s=this;this.chatContainer.documentRef.getElementById("newMessageDivider")?0<this.unseenMessageNumber&&this.unseenMessageNumber++:(a=this.chatContainer.documentRef.getElementById(e),r=this.chatContainer.documentRef.getElementById("chatWrapper"),o=new se("newMessageDivider"),this.newMessageNotSeen||!p.formHandler.currentForm&&(B.isEmbedded||B.isPopup||"min"!==A.chatWindowState())&&L.chatElementInView(a)||(this.newMessageNotSeen=!0,n=this.chatContainer.documentRef.getElementById("newMessagesBar"),this.unseenMessageNumber=1,n&&(n.className="visible",this.chatContainer.getElementById("newMessagesNotificationLink").title=p.languageParser.translate("chat","newMessages"),p.eventHandler.listen(n,this.clickEvent,function(){s.unseenMessageNumber=0,s.scrollToSeeMessage(e)},"newmessagedivider"))),!p.formHandler.currentForm&&(B.isEmbedded||B.isPopup||"min"!==A.chatWindowState())&&L.chatElementInView(a)||this.notSeenMessages.push(a),o.template=L.escapeTemplateReplacement(t,[{placeholder:/__NEW_MESSAGES__/gm,textReplace:p.languageParser.translate("chat","newMessages").toUpperCase()}]),o.buildView(),r.insertBefore(o.elementReferrer,i.elementReferrer))},he.prototype.removeDivider=function(){var e,t=this;clearTimeout(this.removeDividerTimeout),this.removeDividerTimeout=setTimeout(function(){(e=t.chatContainer.documentRef.getElementById("newMessageDivider"))&&e.parentNode.removeChild(e)},2e3)},he.prototype.scrollToSeeMessage=function(e){var t=this.chatContainer.documentRef.getElementById("chatContainer");(e=this.chatContainer.documentRef.getElementById(e))&&t&&(t.scrollTop=e.offsetTop-t.offsetHeight+40)},he.prototype.checkUnseenMessages=function(){var e;if(!this.newMessageNotSeen||!this.notSeenMessages.length)return!1;for(var t=0;t<this.notSeenMessages.length;t++)L.chatElementInView(this.notSeenMessages[t])&&(this.notSeenMessages.splice(t,1),t--);(!this.notSeenMessages.length||I&&this.ifScrollbarDown())&&(this.newMessageNotSeen=!1,(e=this.chatContainer.documentRef.getElementById("newMessagesBar"))&&setTimeout(function(){e.className=""},250),this.removeDivider())},he.prototype.parseUploadedFile=function(e){var t="https://tawk.link/"+e.name,i=this,n=h["file-upload"];if(-1!==["jpeg","png","gif"].indexOf(e.type)&&2e6>=e.size){var a=new Image;a.onload=function(){var n=L.createElement(i.chatContainer.documentRef,"a",{href:t,target:"_blank"}),o=i.chatContainer.getElementById("placeholder-"+e.name),r=i.ifScrollbarDown();o&&(n.appendChild(a),n.className="clearfix",o.parentNode.insertBefore(n,o),o.parentNode.removeChild(o),r&&i.scrollToBottom())},a.setAttribute("src",t),a.setAttribute("class","uploaded-image"),n=L.escapeTemplateReplacement(n,[{placeholder:"__FILE_DISPLAY__",textReplace:'<div class="image-loader" id="placeholder-'+e.name+'"></div>'}]),showDetails=!1}else n=-1!==["video/mp4","video/ogg","video/webm"].indexOf(e.mimeType)?L.escapeTemplateReplacement(n,[{placeholder:"__FILE_DISPLAY__",textReplace:'<video width="auto" height="auto" controls style="display: block; max-width: 420px; width: 100%;"><source src="'+t+'" type="'+e.mimeType+'"></source></video>'}]):-1!==["audio/mp3","audio/ogg"].indexOf(e.mimeType)?L.escapeTemplateReplacement(n,[{placeholder:"__FILE_DISPLAY__",textReplace:'<audio controls style="display: block; max-width : 220px;"><source src="'+t+'" type="'+e.mimeType+'"></source></audio>'}]):n.replace("__FILE_DISPLAY__","");return n=L.escapeTemplateReplacement(n,[{placeholder:"__FILE_NAME__",textReplace:e.fileName},{placeholder:"__DOWNLOAD_URL__",textReplace:t},{placeholder:"__DOWNLOAD_TEXT__",textReplace:p.languageParser.translate("chat","downloadFile")},{placeholder:"__FILE_SIZE__",textReplace:L.formatFileSize(e.size)},{placeholder:"__FILE_TYPE__",textReplace:e.type}])},he.prototype.startUpload=function(e,t,i){var n,a,o,r=this,s=h.fileUploadProgress,l=this.ifScrollbarDown();if(i=i||function(){},o=this.chatContainer.getElementById("fileInput"),n=t?o.value.replace(/^.*\\/,""):e.name||e.fileName,a=L.getElementsByClassName(r.chatContainer.elementReferrer,"upload-error"),a.length)for(var c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c]);p.fileUploadHandler.getUploadHandler(function(a){var c;a.handle?(c=a.handle,s=L.escapeTemplateReplacement(s,[{placeholder:"__HANDLE__",textReplace:c},{placeholder:"__FILE_NAME__",textReplace:L.rawEncode(n)}]),r.chatContainer.getElementById("chatWrapper").innerHTML+=s,1>=M.chatOrder&&(I?p.viewHandler.hideEmbeddedGreetings():r.hideEmbeddedGreetings()),l&&r.scrollToBottom(),p.fileUploadHandler.uploadFile(c,e,n,t,function(a,s){a.success?i():(r.handleUploadError(e,n,c,t,s),o.value="")})):(r.handleUploadError(e,n,c,t),o.value="")})},he.prototype.handleUploadError=function(e,t,i,n,a){var o=this.ifScrollbarDown(),r=this,s=document.createElement("a"),l=document.createElement("div");if(a=a||"generalUploadError",t="<span>!</span> "+p.languageParser.translate("chat",a,{fileName:L.rawEncode(t)}),l.setAttribute("class","upload-error"),l.innerHTML=t,e||n){if(i){if(t=this.chatContainer.getElementById("upload-"+i),!t)return;if(t.parentNode.removeChild(t),e&&!(n||a&&"generalUploadError"!==a)){s.innerHTML=p.languageParser.translate("chat","retry"),s.setAttribute("href","javascript:void(0);"),s.setAttribute("id","retry-"+i),l.appendChild(s);var c;c=p.eventHandler.listen(s,this.clickEvent,function(){p.eventHandler.removeEventHandler(s,this.clickEvent,c),l.parentNode.removeChild(l),r.startUpload(e)},"retry-"+i)}}this.chatContainer.getElementById("chatContainer").appendChild(l),o&&this.scrollToBottom()}},he.prototype.updateFileProgress=function(e){var t=this.chatContainer.getElementById("upload-"+e.handle);t&&(t.getElementsByClassName("progress-bar")[0].style.width=e.progress+"%")},he.prototype.fileUploaded=function(e){(e=this.chatContainer.getElementById("upload-"+e))&&e.parentNode.removeChild(e)},he.prototype.retryUploadFile=function(e){var t,i,n=this;this.retryUploadList[e]&&this.startUpload(this.retryUploadList[e],null,function(){t=n.chatContainer.getElementById(e),i=t.parentNode,i.removeChild(t),i.parentNode.removeChild(i),delete n.retryUploadList[e],Object.keys(n.retryUploadList).length||n.chatContainer.getElementById("maxFileNotificationContainer").classList.add("hidden"),t=null})},he.prototype.checkUploadFileWarning=function(e,t){var i,n=this.chatContainer.getElementById("maxFileNotificationContainer"),a=this.chatContainer.getElementById("maxSizeNotificationContainer"),o=this.chatContainer.getElementById("maxFileSizeList"),r=this.chatContainer.getElementById("maxFileNumberList"),s=this;if(t.length){i="<ul>",this.retryUploadList={};for(var l=0;l<t.length;l++)this.retryUploadList["retry_upload_"+l]=t[l],i+="<li>"+t[l].name+' <a id="retry_upload_'+l+'" class="actionRetry">'+p.languageParser.translate("notifications","retry")+"</a></li>";for(r.innerHTML=i+"</ul>",i=L.getElementsByClassName(r,"actionRetry"),r=0;r<i.length;r++)i[r].addEventListener(s.clickEvent,function(){this.classList.add("hidden"),s.retryUploadFile(this.id)});n.classList.remove("hidden")}if(e.length){for(i="<ul>",n=0;n<e.length;n++)i+="<li>"+e[n].name+"</li>";o.innerHTML=i+"</ul>",a.classList.remove("hidden")}i&&this.scrollToBottom()},he.prototype.showCallRequest=function(e){var t,i,n,a=this;i=h.incomingCallRequest,t=this.chatContainer.getElementById("incoming-call"),t||(n=this.ifScrollbarDown(),p.chatHandler.webrtcWin&&!p.chatHandler.webrtcWin.closed?p.chatHandler.webrtcWin.focus():(i=i.replace(/__AGENT_NAME__/,L.rawDecode(e.n)).replace(/__INCOMING_CALL__/,p.languageParser.translate("chat","incoming_call_message")),i=i.replace(/__ACCEPT_CALL__/,p.languageParser.translate("chat","accept_call")).replace(/__DECLINE_CALL__/,p.languageParser.translate("chat","decline_call")),clearTimeout(this.incomingCallTimeout),t=new se("incoming-call"),t.template=i,t.buildView(),e=this.chatContainer.getElementById("chatContainer"),i=e.parentNode,e&&i&&(i.insertBefore(t.elementReferrer,e),e.style.top=t.elementReferrer.offsetHeight+"px",t=this.chatContainer.getElementById("accept-call"),e=this.chatContainer.getElementById("decline-call"),n&&this.scrollToBottom(),p.eventHandler.listen(t,this.clickEvent,function(){clearTimeout(a.incomingCallTimeout),L.getWebRTCToken(!1,!1,function(){a.removeCallRequest()})},"acceptVideoCall"),p.eventHandler.listen(e,this.clickEvent,function(){clearTimeout(a.incomingCallTimeout),L.rejectCall(function(){a.removeCallRequest()})},"declineVideoCall"),this.incomingCallTimeout=setTimeout(function(){a.removeCallRequest()},12e4))))},he.prototype.removeCallRequest=function(){var e=this.chatContainer.getElementById("incoming-call"),t=this.chatContainer.getElementById("chatContainer");e&&(e.parentNode.removeChild(e),t.style.top="0px")};var me=function(){var e=this;this.currentForm="",this.formView=null,this.forms={nameForm:{id:"changeNameForm",title:"NameFormMessage",fields:[{fieldName:"name",valueMaxLength:40,languageKey:"Name",getValue:p.visitorHandler.getNameValue,validation:"isValidString",type:"input",isRequired:!0}],publish:"notifyNameChange",afterSave:p.visitorHandler.setNameFromForm,resize:"164px"},offlineForm:{id:"offlineForm",getTitle:function(){return L.transformGreetings(B.offlineOptions.text)},dynamicFields:null,saveFunc:"submitOfflineForm",dontCloseForm:!0,afterSave:e.showOfflineOverlay},preChatForm:{id:"preChatForm",getTitle:function(){return B.prechatOptions.text?L.transformGreetings(B.prechatOptions.text):B.isEmbedded&&"page"===$_Tawk_WidgetId&&pageType&&"profile"===pageType?p.languageParser.translate("form","PreChatFormMessageProfile"):p.languageParser.translate("form","PreChatFormMessage")},dynamicFields:null,saveFunc:"submitPrechatForm",afterSave:e.handlePrechatForm,dontCloseForm:!1},inactivityOverlay:{id:"inactivityOverlay",overlayMessage:"inactive",otherEvent:{eventName:"click",elementName:"inactivityOverlay",executedFunc:p.main.criticalRefresh}},maintenanceOverlay:{id:"maintenanceOverlay",overlayMessage:"maintenance"},endChatForm:{id:"endChatForm",publish:"endVisitorChat",afterSave:e.handleChatEnded,dontCloseForm:!1,resize:"109px",getTitle:function(){return p.languageParser.translate("form","EndChatTitle")}}},p.eventEmitter.on("localeChanged",function(){var t=e.currentForm;t&&(e.closeForm(),e.openForm(t))}),N.displayName.subscribe(function(t){!e.currentForm||"preChatForm"!==e.currentForm&&"offlineForm"!==e.currentForm||e.formView.updateName(t)}),N.email.subscribe(function(t){!e.currentForm||"preChatForm"!==e.currentForm&&"offlineForm"!==e.currentForm||e.formView.updateEmail(t)})};me.prototype.openForm=function(e){var t=this,i=p.viewHandler.chatContainer.getElementById("formContainer"),n=this.forms[e];n&&this.currentForm!==e&&i&&(this.formView=null,this.formView="preChatForm"===e||"offlineForm"===e?new de(n,e):new ce(n),this.formView.buildForm(),this.currentForm=e,this.formView.buildView(p.viewHandler.chatContainer.documentRef),i.innerHTML="",i.appendChild(this.formView.elementReferrer),i.style.display="block",this.attachEventListeners(),this.formView.addPlaceholderHandler(),I||(n.resize?(i.style.height=n.resize,i.style.top="auto"):(i.style.height="auto",i.style.top="45px")),p.eventHandler.listen(l,"resize",function(){t.resize()},"windowresizeform"),this.resize(),L.redraw(i),p.eventEmitter.emit("formOpened"))},me.prototype.showOfflineOverlay=function(e){p.viewHandler.chatContainer.getElementById("formContainer").className+=" success"},me.prototype.resize=function(){var e,t,i,n,a;null!==this.formView&&I&&(n=p.viewHandler.chatContainer.getElementById("formContainer"),i=p.viewHandler.chatContainer.getElementById("formInnerHeight"),a=p.viewHandler.chatContainer.getElementById("topBarContainer"),n&&(e=L.getElementsByClassName(n,"formMessageField"),t=L.getElementsByClassName(n,"longFormContainer"),e&&e.length&&t&&t.length&&(longFormBottomContainerHeight=L.getElementsByClassName(n,"longFormBottomContainer")[0].clientHeight,t[0].style.height=p.viewHandler.iframeContainer.clientHeight-a.clientHeight-longFormBottomContainerHeight+"px"),!i||"android"!==I&&"android2"!==I&&"android2.3"!==I||(i.style.overflow="hidden",p.viewHandler.addOverflowScroll(i))))},me.prototype.closeForm=function(){var e=p.viewHandler.chatContainer.getElementById("formContainer"),t=p.viewHandler.chatContainer.getElementById("submitWrapper");e&&this.formView&&this.currentForm&&(this.formView=null,this.currentForm="",e.innerHTML="",e.style.display="none",e.className.substring("success",""),t&&(t.className=""),p.eventEmitter.emit("formClosed"))},me.prototype.attachEventListeners=function(){var e=this,t=this.formView.formData,i=p.viewHandler.chatContainer.getElementById("formCancel"),n=p.viewHandler.chatContainer.getElementById("formSubmit"),a=p.viewHandler.chatContainer.getElementById("formCloseChat"),o=p.viewHandler.chatContainer.getElementById("resendButton"),r=this.formView.formData.fields||[];if(this.formView.formData.dynamicFields&&(r=this.formView.formData.dynamicFields),i&&p.eventHandler.listen(i,p.viewHandler.clickEvent,function(){e.closeForm()},"formcancelclick"),n&&p.eventHandler.listen(n,p.viewHandler.clickEvent,function(){e.submitForm()},"formsubmitclick"),a&&p.eventHandler.listen(a,p.viewHandler.clickEvent,function(){p.viewHandler.maximizedWidget?(p.viewHandler.maximizedWidget.container.hide(),p.viewHandler.isMaximized=!1,p.viewHandler.show()):p.main.hideWidget()},"formcloseclick"),o&&p.eventHandler.listen(o,p.viewHandler.clickEvent,function(){p.viewHandler.chatContainer.getElementById("submitWrapper").className=p.viewHandler.chatContainer.getElementById("submitWrapper").className.substring("visible",""),p.viewHandler.chatContainer.getElementById("formContainer").className=p.viewHandler.chatContainer.getElementById("formContainer").className.substring("success","")},"resendButtonClick"),I&&p.eventHandler.listen(p.viewHandler.chatContainer.getElementById("formContainer"),p.viewHandler.clickEvent,function(e){var t=e.target,t=t&&t.tagName?t.tagName.toLowerCase():null;(!t||"input"!==t&&"select"!==t&&"textarea"!==t)&&p.eventHandler.cancelEvent(e)},"formclick"),r.forEach(function(t){if(!t.disabled){var i=p.viewHandler.chatContainer.getElementById(t.fieldName+"Field"),n=p.viewHandler.chatContainer.getElementById(t.fieldName+"FieldError"),a=p.languageParser.translate("form",t.languageKey+"Placeholder"),o=p.viewHandler.chatContainer.getElementById(t.fieldName+"FieldValid");if(i){if(t.instantValidation)if(-1===(" "+i.parentNode.className+" ").indexOf("valid")&&-1===(" "+i.parentNode.className+" ").indexOf("error")){var r=i.value;(r=a===r?null:L.trim(r))&&(e[t.validation](r,t.valueMaxLength,t.isRequired)?(n.innerHTML="",n.style.display="none",i.parentNode.className+=" valid",o&&(o.style.display="block")):(n.innerHTML=p.languageParser.translate("form",t.languageKey+"ErrorMessage"),n.style.display="block",i.parentNode.className+=" error"))}else i.parentNode.className=i.parentNode.className.replace(" valid",""),i.parentNode.className=i.parentNode.className.replace(" error","");"textarea"!==i.nodeName.toLowerCase()&&p.eventHandler.listen(i,"keypress",function(t){13===t.keyCode&&e.submitForm()},"formkeypress"+t.fieldName),"options"===t.type&&t.instantValidation&&(i.parentNode.style.paddingRight="15px",p.eventHandler.listen(i,"change",function(r){r=a===i.value?null:L.trim(i.value),r=e[t.validation](r,t.valueMaxLength,t.isRequired),i.parentNode.className=i.parentNode.className.replace(" error",""),r?(n.innerHTML="",n.style.display="none",-1===(" "+i.parentNode.className+" ").indexOf("valid")&&(i.parentNode.className+=" valid",-1<(" "+i.parentNode.className+" ").indexOf("other-fix")&&(i.parentNode.style.paddingRight="0px")),o&&(o.style.display="block")):(n.innerHTML=p.languageParser.translate("form",t.languageKey+"ErrorMessage"),n.style.display="block",i.parentNode.className+=" error",i.parentNode.className=i.parentNode.className.replace(" valid",""),o&&(o.style.display="none"))},"formselectchange"+t.fieldName)),p.eventHandler.listen(i,"keydown",function(r){setTimeout(function(){var r;t.instantValidation?(r=a===i.value?null:L.trim(i.value),r=e[t.validation](r,t.valueMaxLength,t.isRequired),i.parentNode.className=i.parentNode.className.replace(" error",""),r?(n.innerHTML="",n.style.display="none",-1===(" "+i.parentNode.className+" ").indexOf("valid")&&(i.parentNode.className+=" valid"),o&&(o.style.display="block")):(n.innerHTML=p.languageParser.translate("form",t.languageKey+"ErrorMessage"),n.style.display="block",i.parentNode.className+=" error",i.parentNode.className=i.parentNode.className.replace(" valid",""),o&&(o.style.display="none"))):""!==n.innerHTML&&(n.innerHTML="",n.style.display="none",i.parentNode.className=i.parentNode.className.replace(" error",""))},1)},"formkeydown"+t.fieldName)}}}),t.otherEvent){var s=t.otherEvent;(t=p.viewHandler.chatContainer.getElementById(s.elementName))&&p.eventHandler.listen(t,s.eventName,function(e){s.executedFunc()},"formother")}},me.prototype.submitForm=function(){var e,t=this,i=p.viewHandler.chatContainer.getElementById("formSubmit"),n=p.viewHandler.chatContainer.getElementById("formCancel"),o=p.viewHandler.chatContainer.getElementById("formCloseChat"),r=p.viewHandler.chatContainer.getElementById("submitWrapper");if(r.innerHTML='<p id="submitWrapperMessage">'+p.languageParser.translate("form","SubmittingProcess")+'</p><div id="submitWrapperIcon"></div>',r.className="visible",e=this.validateForm(),null===e)r.className="";else{if(i.setAttribute("disabled","disabled"),n&&n.setAttribute("disabled","disabled"),o&&o.setAttribute("disabled","disabled"),this.formView.formData.publish)return p.socketManager.sendToConnector(this.formView.formData.publish,e,function(i,n){e.serverData=n,t.handleAfterSave(i,e)});if(this.formView.formData.saveFunc)try{p.eventEmitter.emit(this.formView.formData.saveFunc,e,function(i,n){e.serverData=n,t.handleAfterSave(i,e)})}catch(s){t.handleAfterSave(!0),a.handleError("Unable to emit form handler save func : "+this.formView.formData.saveFunc+" with data : "+$_TAWK_JSON.stringify(e),s.fileName,s.lineNumber,s.stack)}}},me.prototype.handleAfterSave=function(e,t){var i,n,a,o;if(p&&p.formHandler.formView&&p.formHandler.formView.formData){if(i=p.formHandler.formView.formData.afterSave,n=p.viewHandler.chatContainer.getElementById("formSubmit"),a=p.viewHandler.chatContainer.getElementById("formCancel"),o=p.viewHandler.chatContainer.getElementById("formCloseChat"),p.viewHandler.chatContainer.getElementById("submitWrapper"),n.removeAttribute("disabled"),a&&a.removeAttribute("disabled"),o&&o.removeAttribute("disabled"),e)return this.updateFormStatus(e);i&&i(t),this.formView.formData.dontCloseForm?this.updateFormStatus():this.closeForm()}},me.prototype.updateFormStatus=function(e){var t,i,n;p.viewHandler.chatContainer&&(t=p.viewHandler.chatContainer.getElementById("formSavingStatus"),i=p.viewHandler.chatContainer.getElementById("savingStatus"),n=p.viewHandler.chatContainer.getElementById("submitWrapper"),t&&i?e?(t.className="errorMessage",i.innerHTML=p.languageParser.translate("form","errorSaving"),e=L.getElementsByClassName(p.viewHandler.chatContainer.documentRef,"longFormContainer"),e.length&&(e[0].scrollTop=999999999999)):(t.className="",i.innerHTML=p.languageParser.translate("form","saved")):this.currentForm&&"offlineForm"===this.currentForm?e?(n.className="visible",n.innerHTML="<p>"+p.languageParser.translate("form","OfflineMessageNotSent")+"</p>",setTimeout(function(){n.className=""},3e3)):(n.className="",this.clearForm()):n.className="")},me.prototype.validateForm=function(){var e,t={},i=0,n=this;return this.formView?(e=this.formView.formData.fields||[],this.formView.formData.dynamicFields&&(e=this.formView.formData.dynamicFields),e.forEach(function(e){var a,o,r,s;"additionalQuestion"===e.fieldName&&e.getValue&&L.isArray(e.getValue())?(t.additionalQuestion={},e.getValue().forEach(function(i,n){(o=p.viewHandler.chatContainer.getElementById(e.fieldName+n))&&(t.additionalQuestion[n]=i===o.value?null:L.trim(o.value))})):"choice"===e.fieldType||"option"===e.fieldType?(s=p.viewHandler.chatContainer.documentRef.getElementsByName(e.fieldName+"group"),r=p.viewHandler.chatContainer.getElementById(e.fieldName+"FieldError"),a=p.viewHandler.chatContainer.getElementById(e.fieldName+"Container"),s="choice"===e.fieldType?n.getSelectedCheckbox(s,e.isRequired):n.getSelectedRadio(s,e.isRequired),r.innerHTML="",r.style.display="none",a.className=a.className.replace("error",""),null===s?(i++,s=!1,r.innerHTML=p.languageParser.translate("form",e.languageKey+"ErrorMessage"),r.style.display="block",a.className+=" error"):t[e.fieldName]=s):(o=p.viewHandler.chatContainer.getElementById(e.fieldName+"Field"),r=p.viewHandler.chatContainer.getElementById(e.fieldName+"FieldError"),o&&(a=e.placeholderText===o.value?null:L.trim(o.value),s=n[e.validation](a,e.valueMaxLength,e.isRequired),r.innerHTML="",r.style.display="none",o.parentNode.className=o.parentNode.className.replace("error",""),s?t[e.fieldName]=a:(i++,r.innerHTML=p.languageParser.translate("form",e.languageKey+"ErrorMessage"),r.style.display="block",o.parentNode.className+=" error")))}),i>0?null:t):void 0},me.prototype.isValidString=function(e,t,i){return i||e?!(!e||!L.isString(e)||t&&!(t&&e.length<=t)):!0},me.prototype.isValidEmail=function(e,t,i){return i||e?!!(e&&L.isEmail(e)&&L.isString(e)&&e.length<=t):!0},me.prototype.isValidDepartment=function(e,t,i){var n;if(t=A.departments,!(i||e&&"0"!==e))return!0;for(n in t)if(t[n].did===e)return!0;return!1},me.prototype.getSelectedCheckbox=function(e,t){for(var i=[],n=0,a=e.length;a>n;n++)e[n].checked&&i.push(e[n].value);return!i.length&&t?null:i},me.prototype.getSelectedRadio=function(e,t){for(var i="",n=0,a=e.length;a>n;n++)if(e[n].checked){i=e[n].value;break}return!i&&t?null:i},me.prototype.isValidPhone=function(e,t,i){return i||e?("+"===e.charAt(0)&&(e=e.replace("+","")),!!(e.length&&7<=e.length&&e.match(/[0-9]/im))):!0},me.prototype.handlePrechatForm=function(e){e=L.getDepartmentStatus(e.department),e.isOnline||p.viewHandler.notifiyDepartmentIsNotOnline(e.name,e.status),p.formHandler.formView.formData.dontCloseForm=!1},me.prototype.handleChatEnded=function(e){p.formHandler.formView.formData.dontCloseForm=!1,p.chatHandler.endChat(e.serverData.chatEndVersion)},me.prototype.clearForm=function(){var e=this.formView.formData.fields||[];this.formView.formData.dynamicFields&&(e=this.formView.formData.dynamicFields),e.forEach(function(e,t){var i;if("name"!==e.fieldType&&"email"!==e.fieldType&&"department"!==e.fieldType)if("choice"===e.fieldType||"option"===e.fieldType){i=p.viewHandler.chatContainer.documentRef.getElementsByName(e.fieldName+"group");for(var n=0,a=i.length;a>n;n++)i[n].checked=!1}else(i=p.viewHandler.chatContainer.getElementById(e.fieldName+"Field"))&&(i.value="","choice"===e.fieldType||"option"===e.fieldType||R||(i.value=e.placeholderText))})};var ue=TawkClass.extend({init:function(){var e=this,t=B.minimizedDimensions().width,i=B.minimizedDimensions().height;this.shown=this.inDocument=!1,B.isDesktopRectangle()?(this.frameHeight=i+"px",this.frameWidth=t+"px",this.container=new le(L.getRandomName(),L.getGenericStyle({zindex:"1000001",position:"fixed",bottom:"0px",display:"none",height:this.frameHeight,width:this.frameWidth,maxheight:this.frameHeight,maxwidth:this.frameWidth,minheight:"40px",minwidth:"126px"}),q,"iframe"),this.container.template=h["tawkchat-minified-iframe-element-rectangle"],this.chatIndicator=new le(L.getRandomName(),L.getGenericStyle({zindex:"1000003",margin:"0px",width:this.frameWidth,height:"37px",position:"fixed",display:"none",bottom:i+"px",left:"100%",maxheight:"37px",maxwidth:this.frameWidth,minheight:"37px",minwidth:this.frameWidth}),q,"iframe")):(this.frameHeight="66px",this.frameWidth="62px",this.container=new le(L.getRandomName(),L.getGenericStyle({zindex:"1000001",position:"fixed",bottom:"0px",display:"none",height:this.frameHeight,width:this.frameWidth,maxheight:this.frameHeight,maxwidth:this.frameWidth,minheight:this.frameHeight,minwidth:this.frameWidth}),q,"iframe"),this.container.template=h["tawkchat-minified-iframe-element-round"],this.chatIndicator=new le(L.getRandomName(),L.getGenericStyle({zindex:"1000003",margin:"0px",width:"60px",height:"22px",position:"fixed",display:"none",bottom:"57px",left:"100%",maxheight:"22px",maxwidth:"60px",minheight:"22px",minwidth:"60px"}),q,"iframe")),this.bubbleContainer=new le(L.getRandomName(),L.getGenericStyle({zindex:"1000000",width:"146px",height:"85px",position:"fixed",display:"none",bottom:i+2+"px",right:"20px",maxheight:"85px",maxwidth:"146px",minheight:"85px",minwidth:"146px"}),q,"iframe"),36>i-6&&(this.agentDetails="tawkchat-agent-details"),B.minimizedDimensions.subscribe(function(t){e.frameHeight=t.height+"px",e.frameWidth=t.width+"px",e.widgetDimensionsUpdated()}),A.pageStatus.subscribe(function(t){e.updateGreetings(t),e.updateStatus(t)}),A.chatBubbleClosed.subscribe(function(t){e.bubbleContainer.clear()}),B.chatBubble.subscribe(function(){e.bubbleSettingsChanged()}),B.isRTL.subscribe(function(){e.bubbleSettingsChanged()}),B.desktopWidget.subscribe(function(){t=B.minimizedDimensions().width,i=B.minimizedDimensions().height,"min"===B.desktopWidget()?(e.frameHeight="66px",e.frameWidth="62px",e.container.template=h["tawkchat-minified-iframe-element-round"],e.container.massRestyle(L.getGenericStyle({zindex:"1000001",position:"fixed",bottom:"0px",display:"none",height:e.frameHeight,width:e.frameWidth,maxheight:e.frameHeight,maxwidth:e.frameWidth,minheight:e.frameHeight,minwidth:e.frameWidth})),e.chatIndicator.massRestyle(L.getGenericStyle({zindex:"1000003",margin:"0px",width:"60px",height:"22px",position:"fixed",display:"none",bottom:"57px",left:"100%",maxheight:"22px",maxwidth:"60px",minheight:"22px",minwidth:"60px"})),e.bubbleContainer=null):(e.frameHeight=i+"px",e.frameWidth=t+"px",e.container.template=h["tawkchat-minified-iframe-element-rectangle"],e.container.massRestyle(L.getGenericStyle({zindex:"1000001",position:"fixed",bottom:"0px",display:"none",height:e.frameHeight,width:e.frameWidth,maxheight:e.frameHeight,maxwidth:e.frameWidth,minheight:"40px",minwidth:"126px"})),e.chatIndicator.massRestyle(L.getGenericStyle({zindex:"1000003",margin:"0px",width:e.frameWidth,height:"37px",position:"fixed",display:"none",bottom:i+"px",left:"100%",maxheight:"37px",maxwidth:e.frameWidth,minheight:"37px",minwidth:e.frameWidth}))),36>i-6&&(e.agentDetails="tawkchat-agent-details"),e.buildView(),e.updateStatus()})},buildView:function(){var e;this.container&&(this.chatIndicator.buildIframe(p.MinifiedStyle+B.minStyle()),e=L.getElementsByTagName(this.chatIndicator.documentRef,"body")[0],e.innerHTML=h["tawkchat-chat-indicator"],this.container.buildIframe(p.MinifiedStyle+B.minStyle()),this.bubbleContainer&&(B.chatBubble()&&this.bubbleContainer.elementReferrer?this.bubbleContainer.buildIframe(p.MinifiedStyle+B.minStyle()):this.bubbleContainer.clear()),
this.widgetDimensionsUpdated(),this.updateGreetings(),this.attachEvents(),this.inDocument=!0)},attachEvents:function(){this.container&&(this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){"max"===B.onClickAction?(p.viewHandler.userAction=!0,p.sessionHandler.notifyWindowState("max")):p.viewHandler.popoutWidget(),p.eventHandler.cancelEvent(e)},"tawkchat-minified-wrapper","minifiedclick"),this.container.attachUserEventListener("mousedown",function(e){p.viewHandler.lastFocusedElement=l.document.activeElement},"tawkchat-minified-wrapper","minifiedWidgetMouseDown"),this.attachBubbleEvents())},createCanvasChatBubble:function(){},createVMLChatBubble:function(){}});ue.prototype.updateStatus=function(e){var t;if(e||(e=A.pageStatus()),this.container&&e){(t=this.container.getElementById("tawkchat-status-icon"))&&(t.className=e),(t=this.container.getElementById("tawk-minified-mobile-text"))&&(t.innerHTML="online"===e||"away"===e?"Chat":"Mail");try{p.eventEmitter.emit("resizeIframeHeight")}catch(i){a.handleError("Unable to emit resizeIframeHeight",i.fileName,i.lineNumber,i.stack)}}},ue.prototype.attachBubbleEvents=function(){B.isDesktopRectangle()&&this.bubbleContainer&&this.bubbleContainer.attachUserEventListener(p.viewHandler.clickEvent,p.sessionHandler.closeBubble,"tawkchat-chat-bubble-close","bubblecloseclick")},ue.prototype.hide=function(){this.container&&(this.shown=!1,this.container.restyle("display","none !important"),this.toggleBubble())},ue.prototype.show=function(){this.container&&(this.shown=!0,this.container.restyle("display","block !important"),this.toggleBubble())},ue.prototype.widgetDimensionsUpdated=function(){this.container&&(minWidth=B.minimizedDimensions().width,minHeight=B.minimizedDimensions().height,this.container.massRestyle({height:minHeight+"px !important","min-height":minHeight+"px !important","max-height":minHeight+"px !important",width:minWidth+"px !important","min-width":minWidth+"px !important","max-width":minWidth+"px !important"}),this.widgetPositonChanged(),this.bubbleSettingsChanged(),this.calculateIndicatorPositioning())},ue.prototype.bubbleSettingsChanged=function(){var e=B.chatBubble();return!e&&this.bubbleContainer?this.bubbleContainer.clear():void(p&&p.viewHandler&&p.viewHandler.iframeContainer&&p.viewHandler.iframeContainer.elementReferrer&&B.isDesktopRectangle()&&(e&&(e.type&&"default"!==e.type||this.bubbleContainer.elementReferrer&&this.bubbleContainer.insertCssFile(".bubble-text-color{color:"+(B.chatBubble()?B.chatBubble().fgc:"#ffffff")+";}",!0),e&&!this.bubbleContainer.elementReferrer&&(p.viewHandler.iframeContainer.elementReferrer.appendChild(this.bubbleContainer.buildView()),this.bubbleContainer.buildIframe(p.MinifiedStyle+B.minStyle()))),this.createBubble(),this.attachBubbleEvents()))},ue.prototype.updateGreetings=function(e){var t;e||(e=A.pageStatus()),this.container&&e&&(t=this.container.getElementById("short-message"))&&(e=r.getShortMessage(e),null!==e&&(t.innerHTML=e))},ue.prototype.clear=function(){this.container.clear(),this.container=null},ue.prototype.widgetPositonChanged=function(){var e,t="",i=E&&10>k,n={};B.isCenterPositioned()?(e=B.isDesktopRectangle()?-.5*B.minimizedDimensions().width+.5*B.minimizedDimensions().height+"px !important":"15px !important",B.isRightPositioned()?(t="center right",B.isDesktopRectangle()&&(n=L.getRotateStyling("-90","50%")),n.right=e,n.left="auto !important",i&&(n.right=B.minimizedDimensions().height-B.minimizedDimensions().width+"px !important",n.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)")):(t="center left",B.isDesktopRectangle()&&(n=L.getRotateStyling("90","50%")),n.left=e,n.right="auto !important",i&&(n.left="0px !important",n.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=1)")),n.top="50% !important",n.bottom="auto !important",n.margin=i?-.5*B.minimizedDimensions().width+"px 0 0 0 !important":-.5*B.minimizedDimensions().height+"px 0 0 0 !important"):(n=L.getRotateStyling("0","0"),n.margin="0px !important",B.isTopPositioned()?(n.top=B.isDesktopRectangle()?"0 !important":"15px !important",n.bottom="auto !important",t=" top "):(n.top="auto !important",n.bottom=B.isDesktopRectangle()?"0 !important":"10px !important",t=" bottom "),B.isRightPositioned()?(t+=" right ",n.right=B.isDesktopRectangle()?"10px !important":"15px !important",n.left="auto !important"):(t+=" left ",n.left=B.isDesktopRectangle()?"10px !important":"15px !important",n.right="auto !important"),i&&(n.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)")),this.container.documentRef.body.className=t+" "+(B.isDesktopRectangle()?"rectangle":"round"),this.container.massRestyle(n)},ue.prototype.createBubble=function(){var e;this.bubbleContainer&&this.bubbleContainer.elementReferrer&&!B.hideWidget&&B.chatBubble&&!A.chatBubbleClosed()&&(B.chatBubble().type&&"default"!==B.chatBubble().type?this.createImageBubble():this.createDefaultBubble(),e=this.bubbleContainer.getElementById("tawkchat-chat-bubble-close"),this.bubbleContainer.attachUserEventListener("mouseover",function(){e&&(e.style.visibility="visible")},null,"bubbleHover"),this.bubbleContainer.attachUserEventListener("mouseout",function(){e&&(e.style.visibility="hidden")},null,"bubbleOut"),this.bubbleContainer.attachUserEventListener(p.viewHandler.clickEvent,function(e){"max"===B.onClickAction?(p.viewHandler.userAction=!0,p.sessionHandler.notifyWindowState("max")):p.viewHandler.popoutWidget(),p.eventHandler.cancelEvent(e)},"bubble-image","bubbleContainerClick"),this.toggleBubble())},ue.prototype.calculateBubblePositioning=function(e,t,i,n,a,o,r){var s=B.minimizedDimensions().width;B.minimizedDimensions();var l={};L.getElementsByTagName(this.bubbleContainer.documentRef,"body");var c=E&&10>k;if(B.isCenterPositioned()){var d;d=c&&0!==o?-.5*e:-.5*t,0===o?(s=.5*(s-t),centerPosition=i+"px !important"):(s=.5*(s-e),centerPosition=-1*(.5*(e-t)-i)+"px !important"),l=L.getRotateStyling(o,"49%"),B.isRightPositioned()?(l.right=centerPosition,l.left="auto !important",c&&0!==o&&(l.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",l.right=i-(e-t)+"px !important")):(l.left=centerPosition,l.right="auto !important",c&&0!==o&&(l.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=1)",l.left=i+"px !important")),l.top="50% !important",l.bottom="auto !important",o=d-s+n}else l=L.getRotateStyling("0","0"),o="0",B.isTopPositioned()?(l.top=n+"px !important",l.bottom="auto !important",r+=" top "):(l.bottom=n+"px !important",l.top="auto !important",r+=" bottom "),B.isRightPositioned()?(l.right=i+"px !important",l.left="auto !important",r+=" right "):(l.left=i+"px !important",l.right="auto !important",r+=" left ");l.width=e+"px !important",l["max-width"]=e+"px !important",l["min-width"]=e+"px !important",l.height=t+"px !important",l["max-height"]=t+"px !important",l["min-height"]=t+"px !important",l["z-index"]=(0===a?"1000000":"1000002")+" !important",l.margin=o+"px 0 0 0 !important",this.bubbleContainer.massRestyle(l),this.bubbleContainer.documentRef.body.className+=r},ue.prototype.createDefaultBubble=function(){var e,t,i,n=0;e=0,e=!!document.createElement("canvas").getContext;var a=" default ";t=E&&9>k,(e||t)&&(t=L.getElementsByTagName(this.bubbleContainer.documentRef,"body")[0],t.innerHTML=h["tawkchat-chat-bubble-canvas"],e?this.createCanvasChatBubble():this.createVMLChatBubble(),e=this.bubbleContainer.getElementById("tawkchat-chat-bubble-text"),e.innerHTML=B.chatBubble().txt,e.style.color=B.chatBubble().fgc,B.isCenterPositioned()?(B.isRightPositioned()?(i=-90,n-=10,B.isRTL()&&(n=B.minimizedDimensions().width-146)):(i=90,n=B.minimizedDimensions().width-146+10,B.isRTL()&&(n=0)),e=B.minimizedDimensions().height+2):(n=B.minimizedDimensions().height+2,e=!B.isRightPositioned()&&!B.isRTL()||B.isRightPositioned()&&B.isRTL()?B.minimizedDimensions().width-146+16:0),B.isRTL()&&(a+=" rtl-direction"),this.calculateBubblePositioning(146,85,e,n,0,i,a))},ue.prototype.createImageBubble=function(){var e,t,i;i=L.getElementsByTagName(this.bubbleContainer.documentRef,"body")[0];var n=B.chatBubble(),a=n.height+16;"gallery"===n.type?(e=" gallery ",t="https://static-v.tawk.to/a-v3-38/images/bubbles/"+n.name+".png"):(e=" upload ",t="https://tawk.link/"+B.chatBubble().name),i.innerHTML=L.escapeTemplateReplacement(h["tawkchat-chat-bubble-gallery"],[{placeholder:"__IMAGE_SRC__",textReplace:t}]),B.isTopPositioned()||B.isCenterPositioned()?(t=n.topOffset,B.isCenterPositioned()&&0===n.rotate&&(t-=16)):t=n.bottomOffset,i=B.isRightPositioned()?n.rightOffset:n.leftOffset,B.isCenterPositioned()&&0!==n.rotate&&(i="gallery"===n.type?i-3:i+2),this.calculateBubblePositioning(n.width,a,i,t,n.zIndex,n.rotate,e)},ue.prototype.toggleBubble=function(){B.chatBubble&&this.bubbleContainer&&this.bubbleContainer.elementReferrer&&(this.shown&&"offline"!==A.pageStatus()?this.bubbleContainer.restyle("display","block !important"):this.bubbleContainer.restyle("display","none !important"))},ue.prototype.agentBarChanged=function(e){var t,i,n,a,o,r,s,l={};B.hideWidget||(this.container.massRestyle({height:e+"px !important","min-height":e+"px !important","max-height":e+"px !important"}),r=E&&10>k,closeIconWidth=16,minWidth=B.minimizedDimensions().width,minHeight=B.minimizedDimensions().height,t=B.chatBubble(),i=e-minHeight,s=t.rotate,t.type&&"default"!==t.type?(n=t.topOffset,a=t.bottomOffset,bubbleWidth=t.width,bubbleContainerHeight=t.height+closeIconWidth,o=B.isRightPositioned()?t.rightOffset:t.leftOffset):(bubbleWidth=146,bubbleContainerHeight=85,B.isCenterPositioned()?(o=minHeight+2,s=B.isRightPositioned()?-90:90):(n=minHeight+2,a=minHeight+2,o=B.isRightPositioned()?0:minWidth-bubbleWidth+closeIconWidth)),B.isCenterPositioned()&&B.isDesktopRectangle()?(n=-.5*minWidth+.5*e+"px !important",o+=i,i=0===s?o+"px !important":-1*(.5*(bubbleWidth-bubbleContainerHeight)-o)+"px !important",B.isRightPositioned()?(this.container.restyle("right",n),this.chatIndicator.restyle("right",-.5*minWidth+18.5+e+"px !important"),l.right=i,r&&(this.container.restyle("right",e-minWidth+"px !important"),this.chatIndicator.restyle("right",37-minWidth+e+"px !important"),0!==s&&(l.right=o-(bubbleWidth-bubbleContainerHeight)+"px !important"))):B.isCenterPositioned()||(this.container.restyle("left",n),this.chatIndicator.restyle("left",-.5*minWidth+18.5+e+"px !important"),l.left=i,r&&(this.container.restyle("left","0px !important"),this.chatIndicator.restyle("left",37-minWidth+e+"px !important"),0!==t.rotate&&(l.left=o+"px !important"))),r?this.container.restyle("margin",-.5*minWidth+"px 0 0 0 !important"):this.container.restyle("margin",-.5*e+"px 0 0 0 !important")):!B.isCenterPositioned()&&B.isDesktopRectangle()&&(B.isTopPositioned()?(this.chatIndicator.restyle("top",e+"px !important"),l.top=n+i+"px !important"):(this.chatIndicator.restyle("bottom",e+"px !important"),l.bottom=a+i+"px !important")),this.bubbleContainer&&this.bubbleContainer.elementReferrer&&B.chatBubble&&!A.chatBubbleClosed()&&this.bubbleContainer.massRestyle(l))},ue.prototype.calculateIndicatorPositioning=function(){var e={},t=B.minimizedDimensions().width,i=B.isDesktopRectangle()?37:22;B.minimizedDimensions();var n=B.minimizedDimensions().height,a=B.isDesktopRectangle()?10:15,o="",r=E&&10>k;B.isCenterPositioned()?(centerPosition=(B.isDesktopRectangle()?-.5*t+.5*i+n:a)+"px !important",B.isRightPositioned()?(B.isDesktopRectangle()&&(e=L.getRotateStyling(-90,"49%")),e.right=centerPosition,e.left="auto !important",a="right",r&&(B.isDesktopRectangle()&&(e.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"),e.right=i-t+n+"px !important")):(B.isDesktopRectangle()&&(e=L.getRotateStyling(90,"49%")),e.left=centerPosition,e.right="auto !important",a="left",r&&(B.isDesktopRectangle()&&(e.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=1)"),e.left=n+"px !important")),B.isDesktopRectangle()?e.top="50% !important":(n=Math.max(document.documentElement.clientHeight,l.innerHeight||0),e.top=n/2-B.minimizedDimensions().width/2+3+"px !important"),e.bottom="auto !important",o+=" bottom "+a,e.margin=r?-.5*t+"px 0 0 0 !important":-.5*i+"px 0 0 0 !important"):(B.isTopPositioned()?(o+=" top ",e.top=(B.isDesktopRectangle()?n:10)+"px !important",e.bottom="auto !important"):(o+=" bottom ",e.top="auto !important",e.bottom=(B.isDesktopRectangle()?n:57)+"px !important"),B.isRightPositioned()?(o+=" right ",e.right=a+"px !important",e.left="auto !important"):(o+=" left ",e.left=a+"px !important",e.right="auto !important")),e.width=t+"px !important",e["max-width"]=t+"px !important",e["min-width"]=t+"px !important",e.height=i+"px !important",e["max-height"]=i+"px !important",e["min-height"]=i+"px !important",this.chatIndicator.documentRef.body.className+=" "+o+" "+(B.isDesktopRectangle()?"rectangle":"round"),this.chatIndicator.massRestyle(e)};var ge=ue.extend({init:function(){var e=this;this._super(this),p.eventEmitter.on("localeChanged",function(){e.setLinkTitle()}),B.isRTL.subscribe(function(){e.addClassName()})},buildView:function(){this._super(this),this.addClassName(),this.setLinkTitle()},attachEvents:function(){this.container&&this._super()}});ge.prototype.setLinkTitle=function(){this.container&&this.container.getElementById("maximizeChat").setAttribute("title",p.languageParser.translate("rollover","maximize"))},ge.prototype.chatEnded=function(){var e=this.container.getElementById("tawkchat-minified-agent-container"),t=this.container.getElementById("tawkchat-status-text-container"),i=this.container.getElementById("tawkchat-minified-link-container");e&&t&&(e.innerHTML="",e.style.display="none",t.style.display="block",i.style.marginTop="0px")},ge.prototype.addClassName=function(){var e;e=B.isRTL()?" rtl-direction":" ltr-direction",this.container&&this.container.elementReferrer&&(this.container.getElementById("tawkchat-minified-wrapper").className=L.getContrast(B.headerTxtColor)+e),this.chatIndicator&&this.chatIndicator.elementReferrer&&(this.chatIndicator.getElementById("tawkchat-chat-indicator").className=e)};var fe=TawkClass.extend({init:function(e,t){var i=this;this.inDocument=!1,this.maxNumberFileUpload=5,i.maxSizeFileUpload=52428800,this.frameWidth=B.maximizedDimensions().width+"px",this.frameHeight=B.maximizedDimensions().height+"px",this.container=B.isPopup?new se(L.getRandomName(),"display: none;"):new le(L.getRandomName(),L.getGenericStyle({zindex:"999999",position:"static",display:"none",height:this.frameHeight,width:this.frameWidth}),q,"iframe"),this.wrapper=new se("tawkchat-maximized-wrapper"),this.wrapper.template=this.wrapper.template.replace(/__IE6__/gm,T?"ie6":""),p.MaximizedStyle=p.MaximizedStyle.replace(/#tawktoLink/g,"#"+e),p.MaximizedStyle=p.MaximizedStyle.replace(/#bottomContainer/g,"#"+t),this.wrapper.template=this.wrapper.template.replace(/__TAWK_TO_LINK__/gm,e),this.wrapper.template=this.wrapper.template.replace(/__BOTTOM_CONTAINER__/gm,t),this.wrapper.template=this.wrapper.template.replace("__TOO_LONG_MESSAGE__",p.languageParser.translate("chat","message_too_long")),E&&10>k&&this.wrapper.addClass("ie9"),this.chatTextarea=new se("chatTextarea",null,null,"textarea"),this.container.addChildViews([this.wrapper]),B.maximizedDimensions.subscribe(function(e){B.isEmbedded||B.isPopup||(i.frameHeight=e.height+"px",i.frameWidth=e.width+"px",i.container.restyle("height",i.frameHeight+" !important"),i.container.restyle("width",i.frameWidth+" !important"))}),A.pageStatus.subscribe(function(e){i.updateGreetings(e)}),p.eventEmitter.on("localeChanged",function(){i.container&&i.updateGreetings()}),B.isRTL.subscribe(function(){i.addClassName()}),N.name.subscribe(function(){if(!L.isGeneratedName(N.name()))for(var e=L.getElementsByClassName(i.container.documentRef,"messageOwnerName visitor"),t=0;t<e.length;t++)e[t].style.display="none"}),B.webRTCSettings.subscribe(function(){i.toggleWebRTCActions()})},buildView:function(){B.isPopup||this.container.buildIframe(p.MaximizedStyle+B.maxStyle(),!0),this.container.documentRef.getElementById("textareaContainer").appendChild(this.chatTextarea.buildView(this.container.documentRef)),B.isEmbedded||B.isPopup?this.restyleEmbed():"br"==B.chatPosition()?this.container.documentRef.body.className="right":this.container.documentRef.body.className="left",this.addClassName(),this.updateGreetings(),this.attachEvents(),L.redraw(this.container.elementReferrer),this.inDocument=!0,this.toggleWebRTCActions(),this.chatTextarea.elementReferrer.maxLength=5e3},attachEvents:function(){var e=this,t=(this.container.documentRef.getElementById("emoji-selection-container"),this.container.documentRef.getElementById("tooLongMsgNotification"));this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){p.eventHandler.cancelEvent(e),p.sessionHandler.notifyWindowState("min")},"minimizeChat","minlinkclick"),this.chatTextarea.attachUserEventListener("keyup",function(e){t.className=5e3>this.value.length?"":"visible"},null,"chatinputkeyup"),this.chatTextarea.attachUserEventListener("keydown",function(e){if(13===e.keyCode){if(5e3<this.value.length)return void e.preventDefault();t.className=""}p.chatHandler.sendTextPreview(e)},null,"chatinputkeydown"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){var t=p.eventHandler.getTargetElement(e);-1!==t.className.indexOf("messageOwnerName")&&-1!==t.className.indexOf("visitor")&&(p.formHandler.openForm("nameForm"),p.eventHandler.cancelEvent(e))},"chatWrapper","chatWrapperclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){p.eventHandler.cancelEvent(e)},"soundOption","soundclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){p.eventHandler.cancelEvent(e),p.viewHandler.expandAgentList(e)},"expandableIcon","expandclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){var t=p.languageParser.translate("chat","video_call_error");L.getWebRTCToken(!0,!1,function(e,i){e&&p.viewHandler.appendMessage({senderType:"s",message:t,time:new Date,type:"n"})})},"closeNumberNotification","closeNumberNotification"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){e.container.getElementById("maxSizeNotificationContainer").classList.add("hidden")},"closeSizeNotification","closeSizeNotification"),this.container.attachUserEventListener("mousedown",function(e){!(e=l.document.activeElement)||"input"!==e.tagName.toLowerCase()&&"textarea"!==e.tagName.toLowerCase()||(p.viewHandler.lastFocusedElement=e)},"innerWrapper","maximizedWidgetMouseDown"),this.container.attachUserEventListener("change",function(t){p.eventHandler.cancelEvent(t),e.closeMenu();var i=p.eventHandler.getTargetElement(t),n=0,a=0,o=[],r=[],s=function(){a++,a===n&&(i.value="")};if(void 0===l.FormData)e.container.getElementById("upload-form")[0].value&&(n=1,p.viewHandler.startUpload(e.container.getElementById("upload-form"),!0,s));else if((t=i.files)&&t.length){for(var c=0;c<t.length;c++)t[c].size>e.maxSizeFileUpload?o.push(t[c]):c>=e.maxNumberFileUpload?r.push(t[c]):p.viewHandler.startUpload(t[c],null,s);p.viewHandler.checkUploadFileWarning(o,r)}},"fileInput","fileInputChanged"),this.container.attachUserEventListener("click",function(t){t.preventDefault(),e.chatTextarea&&e.chatTextarea.elementReferrer&&e.chatTextarea.elementReferrer.focus()},"textareaContainer","textareaContainerClick"),this.container.attachUserEventListener("dragover",function(t){t.preventDefault(),t.stopPropagation&&t.stopPropagation(),e.wrapper.addClass("drag-over")},"innerWrapper","textareaContainerDragOver"),this.container.attachUserEventListener("dragleave",function(t){t.preventDefault(),t.stopPropagation&&t.stopPropagation(),e.wrapper.removeClass("drag-over")},"innerWrapper","textareaContainerDragLeave"),this.container.attachUserEventListener("dragend",function(t){t.preventDefault(),t.stopPropagation&&t.stopPropagation(),e.wrapper.removeClass("drag-over")},"innerWrapper","textareaContainerDragEnd"),this.container.attachUserEventListener("drop",function(t){t.preventDefault(),t.stopPropagation&&t.stopPropagation(),e.wrapper.removeClass("drag-over"),t=t.target.files||t.dataTransfer.files;var i=0,n=[],a=[],o=function(){i++};if(t&&0!==t.length){for(var r=0;r<t.length;r++)t[r].size>e.maxSizeFileUpload?n.push(t[r]):r>=e.maxNumberFileUpload?a.push(t[r]):p.viewHandler.startUpload(t[r],null,o);p.viewHandler.checkUploadFileWarning(n,a)}},"innerWrapper","textareaContainerDrop"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){p.formHandler.openForm("nameForm"),e.closeMenu(),p.eventHandler.cancelEvent(t)},"changeNameOption","changenameclick"),this.container.attachUserEventListener("paste",function(e){var t,i=!1,n=null;if((t=(e.originalEvent||e).clipboardData)&&(t=t.items)&&t.length){for(var a=0;a<t.length;a++){if("text/plain"===t[a].type){i=!0;break}if(-1!==t[a].type.indexOf("image")){var o=t[a].getAsFile();null!==o&&(n=o,n.name=p.languageParser.translate("chat","pasted_image_title",{dateTime:L.parseChatTime(new Date)}))}}n&&!i&&(p.viewHandler.startUpload(n,null),e.preventDefault())}},"chatTextarea","chatTextareaPaste"),this.chatTextarea.attachUserEventListener("keydown",function(t){e.resizeTextArea()},null,"chatinputkeyupresize"),this.chatTextarea.attachUserEventListener("change",function(t){e.resizeTextArea()},null,"chatinputchangeresize"),this.chatTextarea.attachUserEventListener("input",function(t){e.resizeTextArea()},null,"chatinputinputresize"),this.chatTextarea.attachUserEventListener("paste",function(t){p.chatHandler.sendTextPreview(t),e.resizeTextArea()},null,"chatinputpasteresize"),this.chatTextarea.attachUserEventListener("cut",function(t){p.chatHandler.sendTextPreview(t),e.resizeTextArea()},null,"chatinputcutresize")}});fe.prototype.hide=function(){this.container.restyle("display","none !important")},fe.prototype.show=function(){this.container.restyle("display","block !important")},fe.prototype.restyleEmbed=function(){var e=document.getElementById(s.embedded);return this.wrapper.addClass("embedded"),this.container.getElementById("minimizeChat").outerHTML="",this.container.getElementById("endChat").setAttribute("title",p.languageParser.translate("rollover","end")),B.isEmbedded?e?p.viewHandler.onEmbeddedWindowResize():void 0:(this.container.restyle("width","100% !important"),void this.container.restyle("height","100% !important"))},fe.prototype.updateGreetings=function(e){var t,i,n,a;this.container.elementReferrer&&((t=this.container.getElementById("drop-text"))&&(t.childNodes[0].innerHTML=p.languageParser.translate("chat","dragDropText")),(e=e||A.pageStatus())&&(t=this.container.getElementById("shortMessage"),i=this.container.getElementById("greetingsContainer"),t&&this.chatTextarea&&i&&(n=r.getShortMessage(e),a=r.getLongMessage(e),null!==n&&null!==a&&(t.innerHTML=n,i.innerHTML=a,"online"===e&&B.onlineGreeting&&(e=L.rawDecode(B.onlineGreeting.actionMessage),R?this.chatTextarea.elementReferrer.placeholder=e:(this.chatTextarea.elementReferrer.value=e,L.togglePlaceholderText(this.chatTextarea.elementReferrer,e,"chatTextarea")))))))},fe.prototype.addClassName=function(){this.wrapper&&this.wrapper.elementReferrer&&(B.isRTL()?(this.wrapper.addClass("rtl-direction"),this.wrapper.removeClass("ltr-direction")):(this.wrapper.addClass("ltr-direction"),this.wrapper.removeClass("rtl-direction")))},fe.prototype.toggleEndChatOption=function(e){var t;(t=B.isEmbedded||B.isPopup?this.container.getElementById("headerBoxControlsContainer"):this.container.getElementById("endChatOption"))&&(t.style.display=e?"block":"none")},fe.prototype.resizeTextArea=function(){var e=this.chatTextarea.elementReferrer.value,t=this.chatTextarea.elementReferrer.scrollHeight,i=this.container.documentRef.getElementById("textareaContainer"),n=this.container.documentRef.getElementById("actionsContainer"),a=this.container.documentRef.getElementById("chatContainerWrapper"),o=p.viewHandler.ifScrollbarDown();e&&t>52?(t=t>150?150:t,i.style.height=t+"px",n.style.height=t+69+"px",a.style.bottom=t+73+"px",o&&p.viewHandler.scrollToBottom()):(i.style.height="52px",n.style.height="105px",a.style.bottom="109px")},fe.prototype.toggleWebRTCActions=function(){this.inDocument&&(B.webRTCSettings()&&B.webRTCSettings().en?(this.container.documentRef.getElementById("videoCall").style.display=B.webRTCSettings().v?"inline-block":"none",this.container.documentRef.getElementById("voiceCall").style.display="inline-block",this.container.documentRef.getElementById("screenShare").style.display=B.webRTCSettings().s?"inline-block":"none"):(this.container.documentRef.getElementById("videoCall").style.display="none",this.container.documentRef.getElementById("voiceCall").style.display="none",this.container.documentRef.getElementById("screenShare").style.display="none"))};var ye=fe.extend({init:function(){var e=this;this._super.apply(this,arguments),this.wrapper.template=this.wrapper.template.replace("__GREETINGS__",h.greetingsOverlay),p.eventEmitter.on("formClosed",function(){var t=e.container.getElementById("chatPanel");if(t)if(B.showPreChatForm&&!A.prechatFormSubmitted)p.formHandler.openForm("preChatForm");else if(t.style.display="block",p.viewHandler.newMessageNotSeen&&p.viewHandler.checkUnseenMessages(),!I&&e.container.getElementById("chatTextarea")&&"max"===A.chatWindowState()&&p.viewHandler.userAction){var i=L.getDocument(L.getDocument(l).getElementById(e.container.elementId));if(i&&i.getElementById("chatTextarea"))try{setTimeout(function(){i.getElementById("chatTextarea").focus()},0)}catch(n){}}}),p.eventEmitter.on("formOpened",function(){e.container&&e.container.getElementById("chatPanel")&&(e.container.getElementById("chatPanel").style.display="none")}),p.eventEmitter.on("localeChanged",function(){e.insertText(),e.setLinkTitle()})},buildView:function(){this._super(this),this.container.documentRef.getElementById("chatTableWrapper").style.display="none",this.insertText(),this.wrapper&&this.wrapper.addClass(L.getContrast(B.headerTxtColor)),this.attachEvents()},insertText:function(){var e;if(this.container){this.container.getElementById("tawkContent").innerHTML=p.languageParser.translate("overlay","tawkContent"),this.container.getElementById("cancelTawkRedirect").innerHTML=p.languageParser.translate("form","CancelButton"),this.container.getElementById("tawkRedirect").innerHTML=p.languageParser.translate("form","visitButton"),this.container.getElementById("agentListLabel").innerHTML=p.languageParser.translate("menu","AgentList"),this.container.getElementById("maxFileNotificationMessage").innerHTML=p.languageParser.translate("notifications","maximum_file_upload_warning",{strongStart:"<strong>",strongEnd:"</strong>",limitFileNumber:"5"}),this.container.getElementById("maxSizeNotificationMessage").innerHTML=p.languageParser.translate("notifications","maximum_size_upload_warning",{strongStart:"<strong>",strongEnd:"</strong>",limitFileSize:"50mb"}),e=L.getElementsByClassName(this.container.getElementById("chatContainer"),"closeNotification");for(var t=0;t<e.length;t++)e[t].innerHTML=p.languageParser.translate("form","CloseButton")}}});ye.prototype.closeMenu=function(){},ye.prototype.chatEnded=function(){var e,t=this,i=this.container.getElementById("agentWrapper"),n=this.container.getElementById("endChat"),a=this.container.getElementById("agentBar"),o=this.container.getElementById("agentList"),r=this.container.getElementById("headerAccountStateContainer"),s=this.container.getElementById("chatContainerWrapper"),l=this.container.getElementById("agentProfileContainer"),c=this.container.getElementById("options");e=new se("chatEnded"),e.template=L.escapeTemplateReplacement(e.template,[{placeholder:"__CHAT_ENDED__",textReplace:p.languageParser.translate("chat","chatEnded")},{placeholder:"__START_CHAT__",textReplace:p.languageParser.translate("chat","newChat")}]),e.restyle("display","block"),this.container.getElementById("innerWrapper").appendChild(e.buildView()),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){t.chatStarted(),p.chatHandler.startNewChat()},"newChat","newChat"),i&&(i.style.display="none"),l&&(l.innerHTML=""),a&&(a.style.display="none"),o&&(o.innerHTML=""),r&&(r.style.display="block"),n&&(n.style.visibility="hidden"),s&&(s.className+=" chat-ended"),c&&(c.style.display="none")},ye.prototype.chatStarted=function(){var e=this.container.getElementById("chatEnded"),t=this.container.getElementById("endChat"),i=this.container.getElementById("chatContainerWrapper"),n=this.container.getElementById("options");e&&e.parentNode.removeChild(e),t&&(t.style.visibility="visible"),i&&(i.className=i.className.replace("chat-ended","")),n&&(n.style.display="block")};var ve=he.extend({init:function(){var e=this,n=function(){e.dragElement&&(B.isRTL()?e.dragElement.massRestyle({left:"96px !important",right:"0px !important"}):e.dragElement.massRestyle({left:"0px ",right:"96px !important"}))};this._super(this),this.iframeXOffsetPosition=10,this.startY=this.startX=this.iframeYOffsetPosition=0,this.userAction=!1,this.dragElement=new se(L.getRandomName(),L.getGenericStyle({height:"45px",top:"1px",backgroundcolor:"#fff",zindex:"999997",cursor:"move",opacity:"0"})+'width: expression(this.parentNode.offsetWidth - 306 + "px") !important;'),n(),this.overlayElement=new se(null,L.getGenericStyle({left:"0px",top:"0px",zindex:"1000001",cursor:"move",width:"100%",height:"100%",display:"none","float":"left"})),this.iframeContainer=new se(L.getRandomName(),L.getGenericStyle({display:"none",bottom:"0",minwidth:"0",minheight:"0",right:"10px",zindex:E&&9>k?"none":"2000000000",position:"fixed"})),this.resizeFromLeft=new se(L.getRandomName(),L.getGenericStyle({height:"100%",left:"0px",right:"96px",top:"0px",zindex:"999998",cursor:"w-resize",width:"6px"})),this.resizeFromRight=new se(L.getRandomName(),L.getGenericStyle({height:"100%",width:"6px",right:"0px",top:"0px",zindex:"999998",cursor:"e-resize"})),this.resizeFromTop=new se(L.getRandomName(),L.getGenericStyle({height:"6px",width:"100%",right:"0px",top:"0px",zindex:"999998",cursor:"n-resize"})),this.resizeFromBottom=new se(L.getRandomName(),L.getGenericStyle({height:"6px",width:"100%",right:"0px",bottom:"0px",zindex:"999998",cursor:"s-resize"})),this.resizeTopLeft=new se(L.getRandomName(),L.getGenericStyle({height:"12px",width:"12px",left:"0px",top:"0px",zindex:"999998",cursor:"nw-resize"})),this.resizeTopRight=new se(L.getRandomName(),L.getGenericStyle({height:"12px",width:"12px",right:"0px",top:"0px",zindex:"999998",cursor:"ne-resize"})),this.resizeBottomLeft=new se(L.getRandomName(),L.getGenericStyle({height:"12px",width:"12px",bottom:"0px",left:"0px",zindex:"999998",cursor:"sw-resize"})),this.resizeBottomRight=new se(L.getRandomName(),L.getGenericStyle({height:"12px",width:"12px",bottom:"0px",right:"0px",zindex:"999999",cursor:"se-resize"})),t=new ye(this.tawktoLinkName,this.bottomContainerName),this.iframeContainer.addChildViews([t.container]),B.isPopup||B.isEmbedded||(i=new ge,this.indicator=new pe(i.chatIndicator),this.iframeContainer.addChildViews([i.container,i.chatIndicator,i.bubbleContainer,this.dragElement,this.resizeFromLeft,this.resizeFromRight,this.resizeFromTop,this.resizeFromBottom,this.resizeTopLeft,this.resizeTopRight,this.resizeBottomLeft,this.resizeBottomRight,this.overlayElement])),this.chatContainer=t.container,this.iframeContainer.buildView(),A.pageStatus.subscribe(function(t){e.updateViewByStatus(t)}),M.rating.subscribe(function(t){e.changeRating(t)}),B.isPopup||B.isEmbedded||A.chatWindowState.subscribe(function(t){"max"===t?e.maximizeWidget():e.minimizeWidget()}),B.minStyle.subscribe(function(){i&&i.container.elementReferrer&&(i.container.insertCssFile(B.minStyle(),!0),i.container.documentRef.getElementById("tawkchat-minified-wrapper").className=L.getContrast(B.headerTxtColor))}),B.maxStyle.subscribe(function(){t&&t.container.elementReferrer&&(t.container.insertCssFile(B.maxStyle(),!0),t.wrapper.removeClass("black"),t.wrapper.removeClass("white"),t.wrapper.addClass(L.getContrast(B.headerTxtColor)))}),B.isRTL.subscribe(function(){
n()}),p.chatHandler.hasChatStarted.subscribe(function(e){t.toggleEndChatOption(e)})},show:function(){t.hide(),B.isEmbedded||B.isPopup?(this.iframeContainer.restyle("position","static"),this.iframeContainer.restyle("right",""),this.iframeContainer.restyle("left",""),this.iframeContainer.restyle("width","100%"),this.iframeContainer.restyle("height","100%"),t.show()):(this.indicator.initIndicator(),T&&this.fixContainerBorder(),p.main.maximize?this.maximizeWidget():this.minimizeWidget()),this.updateViewByStatus(A.pageStatus()),this._super(),L.redraw(this.iframeContainer.elementReferrer)},showEmbeddedGreetings:function(){},hideEmbeddedGreetings:function(){}});ve.prototype.maximizeWidget=function(){if(this.indicator&&this.indicator.hide(),"max"!==B.onClickAction)return this.popoutWidget();if(B.hideWidgetOnOffline&&"offline"===A.pageStatus()&&p.formHandler.openForm("offlineForm"),(B.hideWidgetOnLoad||B.hideWidgetOnOffline)&&this.showWidget(),this.iframeContainer.restyle("bottom",this.iframeYOffsetPosition+"px"),"br"===B.chatPosition()||"tr"===B.chatPosition()||"cr"===B.chatPosition()?(this.iframeContainer.restyle("right",this.iframeXOffsetPosition+"px"),this.iframeContainer.restyle("left","auto")):(this.iframeContainer.restyle("left",this.iframeXOffsetPosition+"px"),this.iframeContainer.restyle("right","auto")),t.show(),i&&i.container&&i.hide(),s.onChatMaximized(),this.wasScrollbarDown&&this.scrollToBottom(),p.viewHandler.newMessageNotSeen&&p.viewHandler.checkUnseenMessages(),!I&&this.chatContainer.getElementById("chatTextarea")&&"max"===A.chatWindowState()&&!p.formHandler.currentForm&&p.viewHandler.userAction){var e=L.getDocument(L.getDocument(l).getElementById(t.container.elementId));if(e&&e.getElementById("chatTextarea"))try{setTimeout(function(){e.getElementById("chatTextarea").focus(),p.viewHandler.userAction=!1},0)}catch(n){}}},ve.prototype.minimizeWidget=function(){var e;if(!B.isPopup&&!B.isEmbedded){if(t.container.elementReferrer.blur(),t.hide(),p.viewHandler.lastFocusedElement&&setTimeout(function(){p.viewHandler.lastFocusedElement.focus()},0),B.hideWidgetOnLoad)return this.hideWidget();this.wasScrollbarDown=this.ifScrollbarDown(),this.iframeYOffsetPosition=parseInt(this.iframeContainer.elementReferrer.style.bottom.replace("px",""),10),e="br"==B.chatPosition()?parseInt(this.iframeContainer.elementReferrer.style.right.replace("px",""),10):parseInt(this.iframeContainer.elementReferrer.style.left.replace("px",""),10),isNaN(e)||(this.iframeXOffsetPosition=e),"br"===B.chatPosition()||"tr"===B.chatPosition()||"cr"===B.chatPosition()?(this.iframeContainer.restyle("bottom","0px"),this.iframeContainer.restyle("right","0px"),this.iframeContainer.restyle("left","auto")):(this.iframeContainer.restyle("bottom","0px"),this.iframeContainer.restyle("left","0px"),this.iframeContainer.restyle("right","auto")),i.show(),s.onChatMinimized()}},ve.prototype.toggleWidget=function(){var e=A.chatWindowState();A.chatWindowState("min"===e?"max":"min")},ve.prototype.removeBubble=function(){try{p.eventEmitter.emit("notifyBubbleClosed")}catch(e){a.handleError("Unable to emit notifyBubbleClosed",e.fileName,e.lineNumber,e.stack)}},ve.prototype.insertPopupStyle=function(){var e,t=document.getElementsByTagName("head")[0],i=document.createDocumentFragment(),n=L.createElement(document,"style",{type:"text/css"});e=document.createTextNode(p.ResetStyle+""+p.MaximizedStyle+B.maxStyle()),n.styleSheet?n.styleSheet.cssText=e.nodeValue:n.appendChild(e),i.appendChild(n),t.appendChild(i),document.body.className="popup"},ve.prototype.begin=function(){var e,n=this,a=document.getElementById(s.embedded);p.main.started||(this.iframeContainer&&(e=document.getElementById(this.iframeContainer.elementId)),e&&e.parentNode.removeChild(e),B.isEmbedded&&a?(a.appendChild(this.iframeContainer.elementReferrer),p.eventHandler.listen(l,"resize",function(){n.onEmbeddedWindowResize()},"windowresize")):(document.body.appendChild(this.iframeContainer.elementReferrer),B.isPopup?this.insertPopupStyle():(i.buildView(),this.dragElement.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e)},null,"dragfocus"),this.resizeFromLeft.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,"left")},null,"resizeLeftfocus"),this.resizeFromRight.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,"right")},null,"resizeRightfocus"),this.resizeFromTop.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,null,"top")},null,"resizeTopfocus"),this.resizeFromBottom.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,null,"bottom")},null,"resizeBottomfocus"),this.resizeTopLeft.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,"left","top")},null,"resizeTopLeftfocus"),this.resizeTopRight.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,"right","top")},null,"resizeTopRightfocus"),this.resizeBottomLeft.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,"left","bottom")},null,"resizeBottomLeftfocus"),this.resizeBottomRight.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,"right","bottom")},null,"resizeBottomRightfocus"),p.eventHandler.listen(l,"resize",function(){n.onWindowResize()},"windowresize"))),t.buildView(),"br"!=B.chatPosition()&&this.iframeContainer.restyle("left","10px"))},ve.prototype.fixContainerBorder=function(){var e,t=this;this.iframeContainer.restyle("position","absolute"),p.eventHandler.listen(l,"scroll",function(){clearTimeout(e),t.iframeContainer.restyle("bottom","0px"),t.iframeContainer.restyle("visibility","hidden"),t.iframeContainer.restyle("visibility","visible"),e=setTimeout(function(){document.body.className=document.body.className,document.body.style.visibility="hidden",document.body.style.visibility="visible"},50)},"windowscroll")},ve.prototype.hideWidget=function(){this.iframeContainer.hide(),s.onChatHidden()},ve.prototype.showWidget=function(){this.scrollToBottom(),this.iframeContainer.show()},ve.prototype.toggleVisibility=function(){this.scrollToBottom(),this.iframeContainer.toggle()},ve.prototype.isWidgetHidden=function(){return!this.iframeContainer.isVisible},ve.prototype.onDragMove=function(e){this.setChatWindowXPosition(e.clientX),this.setChatWindowYPosition(e.clientY)},ve.prototype.onHeaderMouseUp=function(){this.overlayElement.restyle("display","none !important"),this.resetFrameDimensions(),this.isResized&&(this.isResized=!1,p.socketManager.sendToConnector("notifyWidgetResized")),p.eventHandler.removeEventHandler(document,"mousemove",this.mouseMovehandler),p.eventHandler.removeEventHandler(document,"mouseup",this.mouseUpHandler)},ve.prototype.onHeaderMouseDown=function(e,i,n){var a=this,o=p.eventHandler.getTargetElement(e);o.id!==this.resizeFromLeft.elementId&&o.id!==this.resizeFromRight.elementId&&o.id!==this.resizeFromTop.elementId&&o.id!==this.resizeFromBottom.elementId&&o.id!==this.resizeTopLeft.elementId&&o.id!==this.resizeBottomLeft.elementId&&o.id!==this.resizeTopRight.elementId&&o.id!==this.resizeBottomRight.elementId&&o.id!==this.dragElement.elementId||1===e.button&&!l.event&&!t.documentRef.event||1<e.button||(p.eventHandler.cancelEvent(e),this.overlayElement.restyle("display","block !important"),e=this.getActualViewportDimensions(),this.actualViewPortWidth=e.width,this.actualViewPortHeight=e.height,this.startOffsetY=this.startOffsetX=0,this.mouseMovehandler=o.id===this.dragElement.elementId?p.eventHandler.listen(document,"mousemove",function(e){a.onDragMove(e),a.redrawIE()},"dragmove"):p.eventHandler.listen(document,"mousemove",function(e){a.setResizedDimensions(e,i,n),a.isResized=!0,a.redrawIE()},"dragmove"),this.mouseUpHandler=p.eventHandler.listen(document,"mouseup",function(e){a.onHeaderMouseUp(e)},"dragleave"))},ve.prototype.redrawIE=function(){"explorer"===C&&(this.iframeContainer.restyle("visibility","hidden !important"),this.iframeContainer.restyle("visibility","visible !important"))},ve.prototype.setResizedDimensions=function(e,i,n){var a,o=this.iframeContainer.elementReferrer;parseInt(t.frameWidth.replace("px",""),10),parseInt(t.frameHeight.replace("px",""),10);var r=this.ifScrollbarDown();if(this.isRight&&"undefined"!=typeof this.isRight||(this.isRight=B.isRightPositioned()),this.startX=e.clientX,this.startY=e.clientY,i){a=this.isRight?"right":"left";var s=parseInt(L.computedStyle(this.chatContainer.elementReferrer,"width").replace("px",""),10),l=parseInt(o.style[a].replace("px","")),c=this.isRight?this.actualViewPortWidth-e.clientX:e.clientX,c=0>c?0:c;this.isRight&&"right"===i||!this.isRight&&"left"===i?(i=s-(c-l),280>i?i=280:(c>this.actualViewPortWidth-i-1&&(c=this.actualViewPortWidth-i-1),o.style.cssText+=";"+a+":"+c+"px !important",this.startOffsetX=i)):this.startOffsetX=i=this.isRight?this.actualViewPortWidth-e.clientX-l:e.clientX-l,i>=280&&0<this.actualViewPortWidth-(i+parseInt(o.style[a].replace("px",""),10))&&this.setWidth(i)}n&&("bottom"===n?(n=parseInt(o.style.bottom.replace("px","")),e=this.actualViewPortHeight-e.clientY,0>e&&(e=0),n=parseInt(L.computedStyle(this.chatContainer.elementReferrer,"height").replace("px",""),10)-(e-n),330>n?n=330:(e>this.actualViewPortHeight-n-1&&(e=this.actualViewPortHeight-n-1),o.style.cssText+=";bottom:"+e+"px !important",this.startOffsetY=n)):(startOffsetY=parseInt(o.style.bottom.replace("px",""),10),n=this.actualViewPortHeight-e.clientY-startOffsetY,this.startOffsetY=this.startY-startOffsetY),n>=330&&0<this.actualViewPortHeight-(n+parseInt(o.style.bottom.replace("px",""),10))&&this.setHeight(n)),r&&this.scrollToBottom(),p&&p.formHandler&&p.formHandler.resize()},ve.prototype.setChatWindowXPosition=function(e){var i,n,a=parseInt(t.frameWidth.replace("px",""),10);"undefined"==typeof this.isRight&&(this.isRight=B.isRightPositioned()),this.isRight?(i="right",n=parseInt(this.iframeContainer.elementReferrer.style.right,10)):(i="left",n=-parseInt(this.iframeContainer.elementReferrer.style.left,10)),this.startOffsetX||(this.startOffsetX=e+n),e=this.isRight?this.startOffsetX-e:e-this.startOffsetX,20>e?e=0:20>this.actualViewPortWidth-(e+a)&&(e=this.actualViewPortWidth-a),this.iframeContainer.restyle(i,e+"px !important")},ve.prototype.setChatWindowYPosition=function(e){var i,n,a=parseInt(t.frameHeight.replace("px",""),10);"auto"===this.iframeContainer.elementReferrer.style.bottom?(styleKey="top",i=-parseInt(this.iframeContainer.elementReferrer.style.top,10),n=!1):(styleKey="bottom",i=parseInt(this.iframeContainer.elementReferrer.style.bottom,10),n=!0),this.startOffsetY||(this.startOffsetY=e+i),e=n?this.startOffsetY-e:e-this.startOffsetY,20>e?e=0:20>this.actualViewPortHeight-(e+a)&&(e=this.actualViewPortHeight-a),this.iframeContainer.restyle(styleKey,e+"px !important")},ve.prototype.onWindowResize=function(){var e=this;clearTimeout(this.resizeTimeout),this.wasScrollbarDown=this.ifScrollbarDown(),this.resizeTimeout=setTimeout(function(){e.onWindowResizeTimeout()},100)},ve.prototype.onWindowResizeTimeout=function(){var e=this.getActualViewportDimensions(),i=e.width,e=e.height,n=this.iframeContainer.elementReferrer,a=this.isBottom?parseInt(n.style.bottom.replace("px",""),10):parseInt(n.style.top.replace("px",""),10),o=this.isRight?parseInt(n.style.right.replace("px",""),10):parseInt(n.style.left.replace("px",""),10),r=parseInt(t.frameWidth.replace("px",""),10),s=parseInt(t.frameHeight.replace("px",""),10);r+o>i&&(o=i-r,0>o&&(r+=o,o=0,this.setWidth(r)),this.isRight?n.style.right=o+"px":n.style.left=o+"px"),s+a>e&&(a=e-s,0>a&&(s+=a,a=0,this.setHeight(s)),this.isBottom?n.style.bottom=a+"px":n.style.top=a+"px"),this.wasScrollbarDown&&this.scrollToBottom(),this.resetFrameDimensions()},ve.prototype.setWidth=function(e){(!e||300>e)&&(e=300),T&&this.dragElement.restyle("width",e-102+"px !important"),this.chatContainer.restyle("width",e+"px !important")},ve.prototype.setHeight=function(e){(!e||350>e)&&(e=350),this.chatContainer.restyle("height",e+"px !important")},ve.prototype.onEmbeddedWindowResize=function(){null===this.isWidgetElementDimensionsNull&&this.setWidgetElementDimensions(),this.isWidgetElementDimensionsNull?(this.setWidth(B.maximizedDimensions().width),this.setHeight(B.maximizedDimensions().height)):(this.chatContainer.restyle("width","100%"),this.chatContainer.restyle("height","100%"))},ve.prototype.setWidgetElementDimensions=function(){var e=document.getElementById(s.embedded);this.isWidgetElementDimensionsNull=280>e.clientWidth||330>e.clientHeight?!0:!1},ve.prototype.resetFrameDimensions=function(){var e=parseInt(L.computedStyle(this.chatContainer.elementReferrer,"width").replace("px",""),10),i=parseInt(L.computedStyle(this.chatContainer.elementReferrer,"height").replace("px",""),10);t.frameWidth=e+"px",t.frameHeight=i+"px"},ve.prototype.isWidgetElementDimensionsNull=null,ve.prototype.styleAgentBar=function(){var e,t=this.chatContainer;if(t){e=t.getElementById("agentWrapper");try{0<p.agents.agentsCount?(t.getElementById("headerAccountStateContainer").style.display="none",e.style.display="block"):(t.getElementById("headerAccountStateContainer").style.display="block",e.style.display="none")}catch(i){a.handleError("headerAccountStateContainer is null",i.fileName,i.lineNumber,i.stack)}}},ve.prototype.expandAgentList=function(e){var t,i;(i=this.chatContainer)&&(t=i.getElementById("agentBar"),i=i.getElementById("expandableLink"),1===e.button&&!l.event||1<e.button||(-1===t.className.indexOf("expanded")?(t.className+=" expanded",i.className="expanded"):(t.className=t.className.replace("expanded",""),i.className=""),this.styleAgentBar()))},ve.prototype.resetView=function(){var e,t,i,n,a,o;(o=this.chatContainer)&&(e=o.getElementById("chatWrapper"),i=o.getElementById("agentList"),a=o.getElementById("agentBar"),n=o.getElementById("expandableLink"),o=o.getElementById("headerAccountStateContainer"),e&&(t=e.lastChild,e.innerHTML="",e.appendChild(t)),i&&(i.innerHTML=""),a&&(e=a.parentNode.childNodes[0],a.className="",e&&-1!==e.className.indexOf("agentWrapper")&&e.parentNode.removeChild(e)),n&&(n.style.visibility="hidden",n.className=""),o&&(o.style.display="block"),this.showEmbeddedGreetings(),this.show())},ve.prototype.handleIndicatorToggle=function(e){i&&i.container&&i.chatIndicator&&(e=i.chatIndicator.getElementById("tawkchat-chat-indicator"),e.style.visibility="visible")};var be=ve.extend({init:function(){this._super(this),this.mainAgent=null},appendMessage:function(e){var t,i,n={"chat-message-row":h["chat-message-row"],"chat-resend-link":h["chat-resend-link"],"chat-message-owner-agent":h["chat-message-owner-agent"],"chat-message-owner-visitor":h["chat-message-owner-visitor"],"chat-message-container":h["chat-message-container"],"chat-notification-container":h["chat-notification-container"],"chat-message-status-row":h["chat-message-status-row"],"chat-divider":h["chat-divider"]},a=L.parseChatTime(e.time);return"a"===e.senderType?(i=(t=(i=M.agentProfiles[e.ownerId])&&i.pi?A.agentImgUrl+"/"+M.agentProfiles[e.ownerId].pi:"")?"url('"+t+"')":"transparent",t="explorer"===C&&9>k?"filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale');":"","transparent"!==i&&(t+="background-position:0 0;background-size:28px 28px"),n["chat-message-owner-agent"]=n["chat-message-owner-agent"].replace("__IMAGE_URL__",i).replace("__IE_IMAGE_SCALE__",t)):"s"===e.senderType&&(n["chat-message-owner-agent"]=n["chat-message-owner-agent"].replace("__IMAGE_URL__","").replace("__IE_IMAGE_SCALE__","")),n["chat-message-status-row"]=e.isPending?h["chat-message-pending-row"]:n["chat-message-status-row"].replace("__TIME__",a).replace("__TIME_CLASS__","v"===e.senderType?"visitor":"agent"),this._super(e,n)},showEmbeddedGreetings:function(){var e;t.container&&(e=t.container.getElementById("greetingsOverlay"),chatWrapper=t.container.getElementById("chatTableWrapper"),e&&chatWrapper&&(chatWrapper.style.display="none",e.style.display="block",this._super(this)))},hideEmbeddedGreetings:function(){var e,i;t.container&&(e=t.container.getElementById("greetingsOverlay"),i=t.container.getElementById("chatTableWrapper"),e&&i&&(e.style.display="none",i.style.display="table",this._super(this)))},appendAgent:function(e){var i,n,a,o,r,s,l=this;o=this.chatContainer,i=o.getElementById("agentProfileContainer");var c=o.getElementById("agentList");n=o.getElementById("chatWrapper"),o&&i&&c&&(p.agents.agentsCount++,1===p.agents.agentsCount?(this.mainAgent=e,this.renderAgentHeader(e.pid),this.renderAgentMinimizedWidget(e.pid),n.className="single-agent"):(t.container.getElementById("profileDetailNoImage")&&(this.renderAgentHeader(this.mainAgent.pid),this.renderAgentMinimizedWidget(this.mainAgent.pid)),this.changeDragElementSize(50),n.className="multi-agent",this.expandAgentList=p.eventHandler.listen(i,"click",function(e){l.openAgentList()},"expandClick")),i=h["agent-profile"],n=h["agent-profile-image"],a=h["agent-profile-description"],o=new se("agentProfile-"+e.pid,null,{className:"agentWrapper clearfix"},null,o.documentRef),r=e.pi?A.agentImgUrl+"/"+e.pi:"",s=(s="explorer"===C&&9>k)?"filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+r+"',sizingMethod='scale');":"",r=r?"background-image : url('"+r+"'); background-size : 40px 40px; background-position : 0px 0px;":"",a=L.escapeTemplateReplacement(a,[{placeholder:"__POSITION_CLASS__",textReplace:e.pst?"agentName":"agentNameCentered"},{placeholder:"__POSITION__",textReplace:e.pst},{placeholder:"__NAME__",textReplace:e.n}]),n=n.replace("__PROFILE_ID__",e.pid).replace("__IMAGE_URL__",r).replace("__IE_IMAGE_SCALE__",s),o.template=L.escapeTemplateReplacement(i,[{placeholder:"__AGENT_PROFILE_DETAIL__",textReplace:a},{placeholder:"__AGENT_PROFILE_IMAGE__",textReplace:n},{placeholder:"__ID__",textReplace:""}]),c.appendChild(o.buildView()),this.styleAgentBar())},changeDragElementSize:function(e){B.isRTL()?this.dragElement.restyle("right",e+"px !important"):this.dragElement.restyle("left",e+"px !important")},removeAgent:function(e){var n,a;(a=t.container.elementReferrer?t.container:null)&&(p.agents.agentsCount--,n=a.getElementById("agentProfileContainer"),a=a.getElementById("agentProfile-"+e),0===p.agents.agentsCount?(this.clearAgentHeader(),this.clearAgentFooter(),this.changeDragElementSize(0)):1===p.agents.agentsCount&&(p.eventHandler.removeEventHandler(n,"click",this.expandAgentList),this.changeDragElementSize(0)),0<p.agents.agentsCount&&this.mainAgent.pid===e&&(this.mainAgent=M.agentProfiles[Object.keys(M.agentProfiles)[0]],this.renderAgentHeader(this.mainAgent.pid),this.renderAgentMinimizedWidget(this.mainAgent.pid)),a&&a.parentNode.removeChild(a),1===p.agents.agentsCount&&(this.renderAgentHeader(this.mainAgent.pid),this.renderAgentMinimizedWidget(this.mainAgent.pid))),this.styleAgentBar(),a=this.chatContainer,n=a.getElementById("agentProfileContainer"),B.chatPosition(),e=B.minimizedDimensions().height,B.minimizedDimensions(),B.chatBubble(),a.getElementById("agentList"),n&&0===p.agents.agentsCount&&(this.clearAgentHeader(),this.clearAgentFooter(),i&&i.agentBarChanged(e))},renderAgentHeader:function(e){var t,i;i="";var n=this.chatContainer,a=n.getElementById("agentProfileContainer");n&&a&&e&&(e=M.agentProfiles[e],t=e.pi?A.agentImgUrl+"/"+e.pi:"",this.clearAgentHeader(),this.addProfileDetail(e),t||1<p.agents.agentsCount)&&(i="background-image : url('"+t+"'); background-size : 40px 40px; background-position : 0px 0px;","explorer"===C&&9>k&&(i+="filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale');"),n.getElementById("innerWrapper").className="border-corner has-profile-image ",n.getElementById("headerBoxControlsContainer")&&this.dragElement.restyle("height","50px !important"),t=new se("profileFallbackImage",null,{className:"alias-image"},null,n.documentRef),i=new se("profileImage-"+e.pid,i,{className:"alias-image"},null,n.documentRef),a.appendChild(t.buildView()),a.appendChild(i.buildView()))},clearAgentHeader:function(){var e=this.chatContainer,t=e.getElementById("agentProfileContainer");t.innerHTML="",e.getElementById("innerWrapper").className="border-corner",e.getElementById("headerBoxControlsContainer")&&this.dragElement.restyle("height","45px !important"),t.style.height="45px"},renderAgentMinimizedWidget:function(e){var t,n,a,o,r,s,l,c=i&&i.container&&i.container.elementReferrer?i.container:null;c&&this.chatContainer&&e&&(o=M.agentProfiles[e],e=c.getElementById("tawkchat-minified-agent-container"),n=c.getElementById("tawkchat-status-text-container"),a=c.getElementById("tawkchat-minified-link-container"),l=c.getElementById("tawkchat-chat-indicator"),B.chatBubble(),t=B.minimizedDimensions().height,B.minimizedDimensions(),chatIndicatorHeight=37,heightDifference=60-t,e)&&(this.clearAgentFooter(),t=o.pi?A.agentImgUrl+"/"+o.pi:"",r=new se("profileDetail",null,null,null,c.documentRef),t||1<p.agents.agentsCount?r.template=L.escapeTemplateReplacement(h["agent-profile-description"],[{placeholder:"__POSITION_CLASS__",textReplace:o.pst?"agentName":"agentNameCentered"},{placeholder:"__POSITION__",textReplace:o.pst},{placeholder:"__NAME__",textReplace:o.n}]):(s=o.pst?"&nbsp-&nbsp"+o.pst:"",r.template=L.escapeTemplateReplacement(h["agent-profile-description-noimage"],[{placeholder:"__POSITION__",textReplace:s},{placeholder:"__NAME__",textReplace:o.n}])),e.appendChild(r.buildView()),(t||1<p.agents.agentsCount)&&(0<heightDifference&&i.agentBarChanged(60),r="background-image : url('"+t+"'); background-position: 0; background-size: 40px 40px;","explorer"===C&&9>k&&(r+="filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale');"),o=new se("profileImage-"+o.pid,r,{className:"alias-image"},null,c.documentRef),fallbackView=new se("profileFallbackImage",null,{className:"alias-image"},null,c.documentRef),e.appendChild(fallbackView.buildView()),e.appendChild(o.buildView())),e.style.display="block",n.style.display="none",t||1<p.agents.agentsCount?(a.style.marginTop="17px",_&&(e.style.marginTop="2px")):_&&(e.style.marginTop="10px"),l&&"block"===l.style.display&&p.viewHandler.handleIndicatorToggle(!0))},clearAgentFooter:function(){var e,t,n;(n=i&&i.container&&i.container.elementReferrer?i.container:null)&&this.chatContainer&&B.isDesktopRectangle()&&(e=n.getElementById("tawkchat-minified-agent-container"),t=n.getElementById("tawkchat-status-text-container"),n=n.getElementById("tawkchat-minified-link-container"),i.agentBarChanged(B.minimizedDimensions().height),e.innerHTML="",e.style.display="none",t.style.display="block",n.style.marginTop=_?"10px":"3px")},handleEndChat:function(){t.chatEnded(),i&&i.container&&i.chatEnded(),this.clearAgentHeader(),B.isEmbedded||(B.isPopup?(p.socketManager.sendToConnector("popupOnFocus",!1),setTimeout(function(){1<l.history.length?l.history.back():l.close()},200)):p.sessionHandler.notifyWindowState("min"))},handleRestartChat:function(){p.formHandler.closeForm(),t.chatStarted()}});be.prototype.addProfileDetail=function(e){var t,i,n,a=this.chatContainer.getElementById("agentProfileContainer");e.pi||1<p.agents.agentsCount?(t=new se("profileDetail",null,null,null,this.chatContainer.documentRef),n=h["agent-profile-description"],t.template=L.escapeTemplateReplacement(n,[{placeholder:"__POSITION_CLASS__",textReplace:e.pst?"agentName":"agentNameCentered"},{placeholder:"__POSITION__",textReplace:e.pst},{placeholder:"__NAME__",textReplace:e.n}])):(t=new se("profileDetailNoImage",null,{className:"noImageAgentProfileDetail"},null,this.chatContainer.documentRef),i=e.pst?"&nbsp-&nbsp"+e.pst:"",n=h["agent-profile-description-noimage"],t.template=L.escapeTemplateReplacement(n,[{placeholder:"__POSITION__",textReplace:i},{placeholder:"__NAME__",textReplace:e.n}])),a.appendChild(t.buildView())},be.prototype.openAgentList=function(){var e=this;this.chatContainer.getElementById("agentProfileContainer").style.display="none",this.chatContainer.getElementById("agentListBack").style.display="block",this.chatContainer.getElementById("agentBar").style.display="block",p.eventHandler.listen(this.chatContainer.getElementById("agentListBack"),"click",function(t){e.closeAgentList()},"backClick")},be.prototype.closeAgentList=function(){this.chatContainer.getElementById("agentProfileContainer").style.display="block",this.chatContainer.getElementById("agentListBack").style.display="none",this.chatContainer.getElementById("agentBar").style.display="none"};var we=function(){var e=this;this.setDimensions(),this.clickToPopout=this.setPopoutHref=this.isMoving=!1,this.clickEvent="touchend",this.container=new le(L.getRandomName(),L.getGenericStyle({width:e.minifiedBoxWidth+"px",height:e.minifiedBoxHeight+"px",minwidth:e.minifiedBoxWidth+"px",minheight:e.minifiedBoxHeight+"px",maxwidth:e.minifiedBoxWidth+"px",maxheight:e.minifiedBoxHeight+"px",zindex:"1000000",display:"none"}),q,"iframe"),A.pageStatus.subscribe(function(t){e.updateStatus(t)}),B.chatPosition.subscribe(function(t){e.updateWidgetPosition()}),B.mobMinStyle.subscribe(function(){e.container&&e.container.elementReferrer&&e.container.insertCssFile(B.mobMinStyle(),!0)})};we.prototype.setDimensions=function(){"rectangle"===B.mobileWidget()?(this.minifiedBoxWidth=110,this.minifiedBoxHeight=68):(this.minifiedBoxWidth=49,this.minifiedBoxHeight=54)},we.prototype.buildView=function(){this.container.buildIframe(p.MinifiedMobileStyle+B.mobMinStyle()),this.updateStatus(),this.attachEvents(),this.updateWidgetPosition()},we.prototype.updateStatus=function(e){var t;if(e||(e=A.pageStatus()),this.container&&e){(t=this.container.getElementById("tawkchat-status-icon"))&&(t.className=e),(t=this.container.getElementById("tawk-minified-mobile-text"))&&(t.innerHTML="online"===e||"away"===e?"Chat":"Mail");try{p.eventEmitter.emit("resizeIframeHeight")}catch(i){a.handleError("Unable to emit resizeIframeHeight",i.fileName,i.lineNumber,i.stack)}}},we.prototype.attachEvents=function(){var e=this;this.container.attachUserEventListener(p.viewHandler.clickEvent,function(){e.isMoving||p.sessionHandler.notifyWindowState("max"),e.isMoving=!1},"tawkchat-minified-box","mobpclick"),this.container.attachUserEventListener("touchmove",function(){e.isMoving=!0},"tawkchat-minified-box","mobpmove")},we.prototype.show=function(){this.container.restyle("display","block")},we.prototype.updateWidgetPosition=function(){var e="";this.container&&this.container.elementReferrer&&(e=B.isCenterPositioned()?e+" center ":B.isTopPositioned()?e+" top ":e+" bottom ",e=B.isRightPositioned()?e+" right ":e+" left ",e+=" "+B.mobileWidget()+" ",this.container.documentRef.body.className=e)};var xe=TawkClass.extend({init:function(){var e=this;this.container=new le(L.getRandomName(),L.getGenericStyle({width:"100%",height:"100%",zindex:"1000000",display:"none",position:"static",top:"0",bottom:"0",overflow:"hidden","max-width":"none","max-height":"none",border:"0 none",padding:"0",margin:"0"}),q,"iframe"),this.wrapper=new se(te.isCookieEnabled?"tawkchat-maximized-container-element":"tawkchat-maximized-container-element-no-cookies"),this.container.addChildViews([this.wrapper]),this.maxNumberFileUpload=5,this.maxSizeFileUpload=2097152,this.isScrollbarDown=!0,this.scrollTimeout=null,this.tabContentScroll=!1,A.pageStatus.subscribe(function(t){e.updateGreetings(t)}),p.eventEmitter.on("formOpened",function(){e.container&&e.container.getElementById("chatPanel")&&(e.container.getElementById("chatPanel").style.display="none")}),p.eventEmitter.on("formClosed",function(){e.container&&e.container.getElementById("chatPanel")&&(e.container.getElementById("chatPanel").style.display="block")}),B.isRTL.subscribe(function(t){e.wrapper&&(t?e.wrapper.addClass("rtl-direction"):e.wrapper.addClass("ltr-direction"))}),B.webRTCSettings.subscribe(function(){e.toggleWebRTCActions()})},buildView:function(){p.MaximizedMobileStyle=p.MaximizedMobileStyle.replace(/#tawktoLink/g,"#"+p.viewHandler.tawktoLinkName),p.MaximizedMobileStyle=p.MaximizedMobileStyle.replace(/#bottomContainer/g,"#"+p.viewHandler.bottomContainerName),this.wrapper.template=this.wrapper.template.replace(/__TAWK_TO_LINK__/gm,p.viewHandler.tawktoLinkName),this.wrapper.template=this.wrapper.template.replace(/__BOTTOM_CONTAINER__/gm,p.viewHandler.bottomContainerName),this.wrapper.template=this.wrapper.template.replace("__TOO_LONG_MESSAGE__",p.languageParser.translate("chat","message_too_long")),this.container.buildIframe(p.ResetStyle+""+p.MaximizedMobileStyle+B.mobMaxStyle()),this.updateGreetings(),this.attachEvents(),this.wrapper.addClass("iphone"),B.isRTL()?this.wrapper.addClass("rtl-direction"):this.wrapper.addClass("ltr-direction"),fb(this.container.documentRef),this.toggleWebRTCActions()},attachEvents:function(){var e=this;this.container.documentRef.getElementById("emoji-selection-container"),this.container.attachUserEventListener("touchstart",function(t){e.isScrolling=!1},"menuOptions","startMenuOptionsTouchEvent"),this.container.attachUserEventListener("touchend",function(t){e.isScrolling=!1},"menuOptions","endMenuOptionsTouchEvent"),this.container.attachUserEventListener("touchmove",function(t){e.isScrolling=!0},"menuOptions","moveMenuOptionsTouchEvent"),this.container.attachUserEventListener("focus",function(t){e.isScrollbarDown&&setTimeout(function(){p.viewHandler.scrollToBottom()},500)},"chatTextarea","chatinputfocus"),p.eventHandler.listen(l,"resize",function(){e.isScrollbarDown&&p.viewHandler.scrollToBottom()},"mobileresize"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){var i=e.container.getElementById("chatTextarea");p.eventHandler.cancelEvent(t),p.chatHandler.sendMessage(i.value),i.value=""},"textareaSubmitButton","submitclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){e.container.getElementById("maxFileNotificationContainer").classList.add("hidden"),p.eventHandler.cancelEvent(t)},"closeNumberNotification","closeNumberNotification"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){e.container.getElementById("maxSizeNotificationContainer").classList.add("hidden"),p.eventHandler.cancelEvent(t)},"closeSizeNotification","closeSizeNotification"),this.container.attachUserEventListener("scroll",function(){clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout(function(){e.isScrollbarDown=p.viewHandler.ifScrollbarDown(),!p.formHandler.currentForm&&p.viewHandler.newMessageNotSeen&&(p.viewHandler.isMaximized||B.isPopup)&&p.viewHandler.checkUnseenMessages()},200)},"chatContainer","mobilechatscroll"),this.container.attachUserEventListener("change",function(t){p.eventHandler.cancelEvent(t),e.toggleMenu();var i=p.eventHandler.getTargetElement(t),n=0,a=0,o=[],r=[],s=function(){a++,a===n&&(i.value="")};if(void 0===l.FormData)n=1,p.viewHandler.startUpload(e.container.getElementById("upload-form"),!0,s);else if((t=i.files)&&t.length){for(var c=0;c<t.length;c++)t[c].size>e.maxSizeFileUpload?o.push(t[c]):c>=e.maxNumberFileUpload?r.push(t[c]):p.viewHandler.startUpload(t[c],null,s);p.viewHandler.checkUploadFileWarning(o,r)}},"fileInput","fileInputChanged"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){e.tabContentScroll?t.stopPropagation():e.tabContentScroll=!1},"tab-content","mobpclick"),this.container.attachUserEventListener("touchmove",function(){e.tabContentScroll=!0},"tab-content","mobpmove"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){L.getWebRTCToken(!0,!1,function(e,t){e&&p.viewHandler.appendMessage({senderType:"s",message:"Video call is not available.",time:new Date,type:"n"})})},"videoCallOption","videoCallClick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){L.getWebRTCToken(!0,!1,function(e,t){e&&p.viewHandler.appendMessage({senderType:"s",message:"Voice call is not available.",time:new Date,type:"n"})})},"voiceCallOption","voiceCallClick")}});xe.prototype.show=function(){this.container.restyle("display","block"),p.viewHandler.newMessageNotSeen&&p.viewHandler.checkUnseenMessages()},xe.prototype.updateGreetings=function(e){var t,i;if((e=e||A.pageStatus())&&this.container.elementReferrer){
if(!B.isPopup){if(t=this.container.getElementById("siteName"),!t)return;if(i=r.getShortMessage(e),!i)return;t.innerHTML=i}(e=r.getLongMessage(e))&&(t=this.container.getElementById("greetingsContainer"))&&(t.innerHTML=e)}},xe.prototype.toggleEndChatOption=function(e){var t=this.container.getElementById("endChatOption");t&&(t.style.display=e?"block":"none")},xe.prototype.toggleWebRTCActions=function(){this.container.documentRef&&(B.webRTCSettings()&&B.webRTCSettings().en?(this.container.documentRef.getElementById("videoCallOption").style.display=B.webRTCSettings().v?"block":"none",this.container.documentRef.getElementById("voiceCallOption").style.display="block"):(this.container.documentRef.getElementById("videoCallOption").style.display="none",this.container.documentRef.getElementById("voiceCallOption").style.display="none"))};var Ce=xe.extend({init:function(){var e=this;this.hasChatStarted=!1,this._super(this),p.eventEmitter.on("formOpened",function(){e.container&&("preChatForm"!==p.formHandler.currentForm&&"offlineForm"!==p.formHandler.currentForm||e.toggleMenuContainer(!1))}),p.eventEmitter.on("formClosed",function(){e.container&&(p.chatHandler.hasChatEnded||!p.viewHandler.isMaximized||e.container.getElementById("chatEnded")||(e.hasChatStarted=!0),e.toggleMenuContainer(!0))}),H.pageName.subscribe(function(t){e.container&&e.container.getElementById("siteName")&&B.isPopup&&(e.container.getElementById("siteName").innerHTML=t)}),p.eventEmitter.on("localeChanged",function(){p.languageParser.language.chat.defaultName=p.languageParser.language.chat.mobileName,e.container&&e.insertText()})},buildView:function(){this._super(this),this.insertText(),this.wrapper.addClass(L.getContrast(B.headerTxtColor)),p.languageParser&&p.languageParser.language&&(p.languageParser.language.chat.defaultName=p.languageParser.language.chat.mobileName),this.attachEvents()},attachEvents:function(){var e=this,t=this.container.getElementById("chatTextarea"),i=this.container.getElementById("menuOptions"),n=this.container.documentRef.getElementById("tooLongMsgNotification");this._super(this),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){e.isScrolling||(e.toggleMenu(),p.formHandler.openForm("nameForm"),p.eventHandler.cancelEvent(t))},"changeNameOption","changenameclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){p.eventHandler.cancelEvent(t),i&&(i.style.display="none"),p.formHandler.currentForm&&"preChatForm"!==p.formHandler.currentForm&&"offlineForm"!==p.formHandler.currentForm?p.formHandler.closeForm():"block"===e.container.getElementById("tawkToContent").style.display?e.container.getElementById("tawkToContent").style.display="none":B.isPopup?l.close():(p.sessionHandler.notifyWindowState("min"),p.viewHandler.maximizedWidget.container.hide(),p.viewHandler.isMaximized=!1,p.viewHandler.show())},"backButtonContainer","backclick"),t&&K.initElement(t,function(t,i){n.className=5e3>i.length?"":"visible",e.toggleSubmitButton(i),p.chatHandler.sendTextPreview(t)}),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){e=p.eventHandler.getTargetElement(e),"menuButton"===e.id||"menuButtonContainer"===e.id||i.contains(e)||(i.style.display="none")},"tawkchat-maximized-container-element","mainclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){e.toggleMenu(),p.eventHandler.cancelEvent(t)},"menuButtonContainer","menuclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){e.isScrolling||(te.isCookieEnabled?B.brandingRedirect()?l.open("https://ref.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+H.pageId):e.container.getElementById("tawkToContent").style.display="block":"nokia"===I?l.open("https://www.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+H.pageId,"","height=500, width=450, resizable=yes, toolbar=no, location=no, menubar=no, personalbar=no"):l.open("https://www.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+H.pageId))},p.viewHandler.tawktoLinkName,"tawktoclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){e.isScrolling||(e.container.getElementById("tawkToContent").style.display="none")},"cancelTawkRedirect","cancelTawkRedirectclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){e.isScrolling||(e.container.getElementById("tawkToContent").style.display="none","nokia"===I?l.open("https://www.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+H.pageId,"","height=500, width=450, resizable=yes, toolbar=no, location=no, menubar=no, personalbar=no"):l.open("https://www.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+H.pageId))},"tawkRedirect","tawkRedirectClick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){e.isScrolling||p.eventHandler.cancelEvent(t)},"soundOption","soundclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){e.isScrolling||(e.toggleMenu(),p.formHandler.openForm("endChatForm"),p.eventHandler.cancelEvent(t))},"endChatOption","endChatOptionClicked"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){e.isScrolling||(p.viewHandler.popup(),p.eventHandler.cancelEvent(t))},"popOut","popOutOptionClicked")}});Ce.prototype.toggleMenu=function(){var e=this.container.getElementById("menuOptions");e&&(e.style.display="block"===e.style.display?"none":"block")},Ce.prototype.toggleMenuContainer=function(e){var t,i;this.container&&(i=this.container.getElementById("menuOptions"),(t=this.container.getElementById("menuButtonContainer"))&&i&&(t.style.display=e?"block":"none",e||(i.style.display="none")))},Ce.prototype.chatEnded=function(){var e,t=this,i=this.container.getElementById("chatContainer");this.hasChatStarted=!1,e=new se("chatEnded"),e.template=L.escapeTemplateReplacement(e.template,[{placeholder:"__CHAT_ENDED__",textReplace:p.languageParser.translate("chat","chatEnded")},{placeholder:"__START_CHAT__",textReplace:p.languageParser.translate("chat","newChat")}]),e.restyle("display","block"),this.container.documentRef.getElementById("tawkchat-maximized-container-element").appendChild(e.buildView()),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){t.chatStarted(),p.chatHandler.startNewChat()},"newChat","newChat"),i&&(i.className+=" chat-ended"),this.toggleMenuContainer(!1)},Ce.prototype.chatStarted=function(){var e=this.container.getElementById("chatEnded"),t=this.container.getElementById("chatContainer");e&&e.parentNode.removeChild(e),t&&(t.className=t.className.replace("chat-ended","")),B.showPreChatForm&&!A.prechatFormSubmitted?p.formHandler.openForm("preChatForm"):this.hasChatStarted=!0,this.toggleMenuContainer(!0)},Ce.prototype.toggleSubmitButton=function(e){var t=this.container.getElementById("ratingContainer"),i=this.container.getElementById("textareaSubmitContainer");e&&this.isSubmitShown||!e&&!this.isSubmitShown||(e?(t.style.display="none",i.style.display="block",this.isSubmitShown=!0):(i.style.display="none",t.style.display="block",this.isSubmitShown=!1))},Ce.prototype.insertText=function(){var e;if(this.container.getElementById("cancelTawkRedirect").innerHTML=p.languageParser.translate("form","CancelButton"),this.container.getElementById("tawkRedirect").innerHTML=p.languageParser.translate("form","visitButton"),this.container.getElementById("tawkContent").innerHTML=p.languageParser.translate("overlay","tawkContent"),te.isCookieEnabled)for(this.container.getElementById("chatTextarea").placeholder=p.languageParser.translate("chat","mobileEnterText"),this.container.getElementById("changeNameOption").childNodes[1].innerHTML=p.languageParser.translate("menu","change_name"),this.container.getElementById("endChatOption").childNodes[1].innerHTML=p.languageParser.translate("rollover","end"),this.container.getElementById("popOut").childNodes[1].innerHTML=p.languageParser.translate("rollover","popOut"),this.container.getElementById("maxFileNotificationMessage").innerHTML=p.languageParser.translate("notifications","maximum_file_upload_warning",{strongStart:"<strong>",strongEnd:"</strong>",limitFileNumber:"5"}),this.container.getElementById("maxSizeNotificationMessage").innerHTML=p.languageParser.translate("notifications","maximum_size_upload_warning",{strongStart:"<strong>",strongEnd:"</strong>",limitFileSize:"2mb"}),this.container.getElementById("videoCallOption").childNodes[1].innerHTML=p.languageParser.translate("rollover","videoCall"),this.container.getElementById("voiceCallOption").childNodes[1].innerHTML=p.languageParser.translate("rollover","voiceCall"),listElem=L.getElementsByClassName(this.container.getElementById("chatContainer"),"closeNotification"),e=0;e<listElem.length;e++)listElem[e].innerHTML=p.languageParser.translate("form","CloseButton")};var ke=function(e){var t=this;arguments.length&&(this.browser=e,this.metaContent=this.getMetaContent(),this.landscape=!1,this.zoom=1,this.resizeTimeout=this.hasKeyboard=this.minAndMaxScalesAreEqual=this.hasViewportHeightWidth=this.hasInitialScale=!1,this.removeAgentNotification=!0,this.clickEvent="touchend",this.hasChatStarted=this.isMaximized=this.isBottomWidget=!1,this.originalDocumentStyle=null,this.isTherePreChat=B.showPreChatForm,this.noZoomMetaTag=null,this.isIndicatorOn=!1,this.scrollTop=this.scrollLeft=0,this.shapeChanged(),this.minifiedWidget=new we,this.maximizedWidget=new Ce,this.iframeContainer=new se("tawkchat-container","border: 0 none !important; padding: 0 !important; margin: 0 !important; z-index: 999999999 !important; overflow : visible !important; min-width: 0 !important; min-height: 0 !important; max-width: none !important; max-height: none !important; width : auto !important; height : auto !important"),this.indicator=new pe(this.minifiedWidget.container),this.iframeContainer.addChildViews([this.minifiedWidget.container,this.maximizedWidget.container]),"#max-widget"===l.location.hash&&(l.history?l.history.replaceState({},document.title,"."):l.location.hash=""),this.iframeContainer.buildView(),this.chatContainer=this.maximizedWidget.container,p.eventEmitter.on("resizeIframeHeight",function(){t.resizeIframeHeight()}),p.eventEmitter.on("visitorPopupFocus",function(e){t.isPopupFocused=e}),l.onpopstate=function(e){!B.isPopup&&t.isMaximized&&"#max-widget"!==l.location.hash&&A.chatWindowState("min")},A.chatWindowState.subscribe(function(e){B.isPopup||(t.hideWidget(),"max"===e?(s.disableMobileBackHistory||(l.history.pushState?l.history.pushState(null,null,l.location.href+"#max-widget"):l.location.hash="max-widget"),t.maximize()):(s.disableMobileBackHistory||"#max-widget"===l.location.hash&&l.history.back(),t.isMaximized=!1,t.show()))}),A.pageStatus.subscribe(function(e){t.updateViewByStatus(e)}),B.mobileWidget.subscribe(function(){t.renderBottomWidget(),t.minifiedWidget.buildView()}),B.chatPosition.subscribe(function(){t.updateWidgetPosition()}),M.rating.subscribe(function(e){t.changeRating(e)}),B.mobMaxStyle.subscribe(function(){t.chatContainer.insertCssFile(B.mobMaxStyle()),t.maximizedWidget.wrapper.removeClass("white"),t.maximizedWidget.wrapper.removeClass("black"),t.maximizedWidget.wrapper.addClass(L.getContrast(B.headerTxtColor))}),B.mobileWidget.subscribe(function(e){t.shapeChanged(),t.minifiedWidget.container.massRestyle({width:t.minifiedBoxWidth+"px !important",height:t.minifiedBoxHeight+"px !important","min-width":t.minifiedBoxWidth+"px !important","min-height":t.minifiedBoxHeight+"px !important","max-width":t.minifiedBoxWidth+"px !important","max-height":t.minifiedBoxHeight+"px !important"})}),p.chatHandler.hasChatStarted.subscribe(function(e){t.maximizedWidget.toggleEndChatOption(e)}))};ke.prototype=new he,ke.prototype.constructor=ke,ke.prototype.parent=he.prototype,ke.prototype.begin=function(){if(document.body.appendChild(this.iframeContainer.elementReferrer),("symbian"===this.browser||"ie"===this.browser||"opera"===this.browser||"android2.3"===this.browser)&&(this.clickEvent="click"),this.minifiedWidget.buildView(),this.maximizedWidget.buildView(),this.chatContainer=this.maximizedWidget.container,this.noZoomMetaTag=document.createElement("meta"),this.noZoomMetaTag.name="viewport",this.parent.begin.call(this),L.isTouchDevice()&&("android"===I||"android2"===I||"android2.3"===I)){var e=this.chatContainer.getElementById("chatContainer"),t=this.chatContainer.getElementById("menuScrollable");this.addOverflowScroll(e),this.addOverflowScroll(t),e.style.overflow="hidden",t.style.overflow="hidden"}p.audioPlayer.initAudioPlayer()},ke.prototype.shapeChanged=function(){(this.isMinifiedRound="round"===B.mobileWidget()?!0:!1)?(this.defaultWidth=49,this.defaultHeight=54,this.minifiedBoxWidth=49,this.minifiedBoxHeight=54):(this.defaultWidth=110,this.defaultHeight=68,this.minifiedBoxWidth=110,this.minifiedBoxHeight=68)},ke.prototype.handleEndChat=function(){this.maximizedWidget.chatEnded(),this.chatContainer.hide(),this.isMaximized=!1,this.iframeContainer.restyle("right","0px"),this.show()},ke.prototype.show=function(){var e=document.querySelector("meta[name=viewport]")||document.querySelector("meta[name=VIEWPORT]");this.isMaximized?(this.iframeContainer.massRestyle({left:"0px",top:"0px",right:"0px",bottom:"0px"}),this.isMobileOptimizedWebsite()||null===this.noZoomMetaTag||(this.metaContent||""!==this.noZoomMetaTag.content?this.metaContent&&!this.hasNoScale&&e&&e.setAttribute("content",this.metaContent+", user-scalable=no"):(this.noZoomMetaTag.content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no",this.noZoomMetaTag.parentNode||document.getElementsByTagName("head")[0].appendChild(this.noZoomMetaTag))),this.isVisibilityToggled||(this.iframeContainer.show(),this.chatContainer.show()),this.minifiedWidget.container.hide(),"max"!==A.chatWindowState()&&p.sessionHandler.notifyWindowState("max"),p.viewHandler.newMessageNotSeen&&setTimeout(function(){p.viewHandler.checkUnseenMessages()},0)):(this.isMobileOptimizedWebsite()||(this.metaContent&&!this.hasNoScale?e&&e.setAttribute("content",this.metaContent):this.noZoomMetaTag.parentNode&&(this.noZoomMetaTag.content="",document.getElementsByTagName("head")[0].removeChild(this.noZoomMetaTag))),L.blurElements(this.maximizedWidget.container.documentRef.body.getElementsByTagName("input")),L.blurElements(this.maximizedWidget.container.documentRef.body.getElementsByTagName("textarea")),this.isVisibilityToggled||(this.minifiedWidget.container.show(),this.showWidget()),this.resetOriginalStyle(),this.indicator.initIndicator(),"min"!==A.chatWindowState()&&p.sessionHandler.notifyWindowState("min"),this.resizeHandler()),this.isVisibilityToggled||(this.updateViewByStatus(A.pageStatus()),this.parent.show.call(this))},ke.prototype.hideWidget=function(){this.isMaximized?(this.isPopupFocused&&p.socketManager.sendToConnector("popupOnFocus",!1),this.chatContainer.hide()):(null!==this.originalDocumentStyle&&(this.iframeContainer.documentRef.body.style.cssText=this.originalDocumentStyle),this.minifiedWidget.container.hide()),this.iframeContainer.hide()},ke.prototype.showWidget=function(){if(this.iframeContainer.show(),this.isMaximized)this.scrollLeft=void 0!==l.pageXOffset?l.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,this.scrollTop=void 0!==l.pageYOffset?l.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,this.scrollToBottom(),this.originalDocumentStyle=this.iframeContainer.documentRef.body.style.cssText,this.iframeContainer.documentRef.body.style.setProperty("height","100%","important"),this.iframeContainer.documentRef.body.style.setProperty("min-height","100%","important"),this.iframeContainer.documentRef.body.style.setProperty("max-height","100%","important"),this.iframeContainer.documentRef.body.style.setProperty("width","100%","important"),this.iframeContainer.documentRef.body.style.setProperty("min-width","100%","important"),this.iframeContainer.documentRef.body.style.setProperty("max-width","100%","important"),this.iframeContainer.documentRef.body.style.setProperty("overflow","hidden","important"),this.iframeContainer.documentRef.body.style.setProperty("position","fixed","important"),this.maximizedWidget.container.show();else{if(B.hideWidgetOnLoad)return void this.hideWidget();this.minifiedWidget.container.show(),this.resizeIframeHeight(),null!==this.originalDocumentStyle&&(this.iframeContainer.documentRef.body.style.cssText=this.originalDocumentStyle,this.originalDocumentStyle=null,l.scrollTo(this.scrollLeft,this.scrollTop))}this.iframeContainer.show()},ke.prototype.init=function(){this.checkMetaContent(),this.addResizeEvents(),this.resizeHandler()},ke.prototype.getZoom=function(){this.zoom=screen.width/l.innerWidth},ke.prototype.addResizeEvents=function(e){var t,i=this;t=function(e){i.resizeHandler()},p.eventHandler.listen(l,"resize",t,"mobileresize"),p.eventHandler.listen(l,"scroll",t,"mobilescroll"),e&&p.eventHandler.listen(l,"touchmove",t)},ke.prototype.checkMetaContent=function(){var e,t={},i=this.metaContent;if(i){for(var i=i.replace(/ /g,""),i=i.split(","),n=0,a=i.length;a>n;n++)e=i[n].split("="),t[e[0]]=e[1];this.hasInitialScale="1.0"===t["initial-scale"],this.hasViewportHeightWidth=!(!t.width&&!t.height),this.minAndMaxScalesAreEqual=t["minimum-scale"]&&t["maximum-scale"]&&t["minimum-scale"]===t["maximum-scale"],this.initialAndMaxScalesAreEqual=t["initial-scale"]&&t["maximum-scale"]&&t["initial-scale"]===t["maximum-scale"],this.hasNoScale="no"===t["user-scalable"]||"0"===t["user-scalable"]}},ke.prototype.ifScrollbarDown=function(){if(this.isMaximized)return this.parent.ifScrollbarDown.call(this);var e,t;return document?(e=document.body)?(t=document.documentElement.clientHeight+10,scrollTop=e.scrollTop||document.documentElement.scrollTop,80>e.scrollHeight-(scrollTop+t)):void 0:!1},ke.prototype.resizeHandler=function(){var e=this;"offline"===A.pageStatus()&&B.hideWidgetOnOffline||this.isMaximized||(clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){var t=e.isLandscape(),i=e.ifScrollbarDown();"offline"===A.pageStatus()&&B.hideWidgetOnOffline||(e.landscape!==t&&i&&setTimeout(function(){e.scrollToBottom()},200),e.landscape=t,e.isMobileOptimizedWebsite()&&"opera"!==I&&"android2.3"!==I||(e.getZoom(),e.renderMinifiedBox()))},100))},ke.prototype.getMetaContent=function(){var e,t,i=document.getElementsByTagName("meta"),n="";for(e=0,t=i.length;t>e;e++)i[e].getAttribute("name")&&"viewport"===i[e].getAttribute("name").toLowerCase()&&(n=i[e].getAttribute("content"));return n},ke.prototype.isLandscape=function(){return screen.height<screen.width||l.innerHeight<l.innerWidth},ke.prototype.isMobileOptimizedWebsite=function(){return this.checkMetaContent(),this.minAndMaxScalesAreEqual&&(this.hasViewportHeightWidth||this.hasNoScale)||this.initialAndMaxScalesAreEqual},ke.prototype.scaleContent=function(e,t){if(!this.isMaximized){var i=this.minifiedBoxHeight,n=this.minifiedBoxWidth,a=this.minifiedWidget.container.getElementById("tawkchat-minified-box"),o="scale("+e+")",o="-moz-transform : "+o+"; -webkit-transform : "+o+"; -o-transform : "+o+"; -ms-transform : "+o+"; transform : "+o+";";e&&a&&(i=Math.ceil(i*e),n=Math.ceil(n*e),this.minifiedWidget.container.massRestyle({height:i+"px !important",width:n+"px !important","min-height":i+"px !important","min-width":n+"px !important","max-height":i+"px !important","max-width":n+"px !important"}),a.style.cssText+=o+"-moz-transform-origin : bottom left; -webkit-transform-origin : bottom left; -o-transform-origin : bottom left; -ms-transform-origin : bottom left; transform-origin : bottom left"),this.updateWidgetPosition(i)}},ke.prototype.popup=function(){return this.indicator.hide(),this.chatContainer.hide(),this.isMaximized=!1,this.show(),this.chatContainer.getElementById("menuOptions").style.display="none",this.myWin&&!this.myWin.closed?this.myWin.focus():void(this.myWin="nokia"===I?l.open("https://m.tawk.to/chat/"+H.pageId+"/"+$_Tawk_WidgetId+"/?$_tawk_popout=true&$_tawk_sk="+A.sessionKey+"&$_tawk_tk="+A.transferKey+"&v="+A.serverVersion,"Tawk","height=500, width=450, resizable=yes, toolbar=no, location=no, menubar=no, personalbar=no"):l.open("https://m.tawk.to/chat/"+H.pageId+"/"+$_Tawk_WidgetId+"/?$_tawk_popout=true&$_tawk_sk="+A.sessionKey+"&$_tawk_tk="+A.transferKey+"&v="+A.serverVersion))},ke.prototype.maximize=function(){"firefox"===I&&!this.isMobileOptimizedWebsite()||"pop"===B.onClickAction?this.popup():(this.hasChatStarted||(B.showPreChatForm=this.isTherePreChat),this.indicator.hide(),this.minifiedWidget.container.hide(),this.originalIframeContainerStyle||(this.originalIframeContainerStyle=this.iframeContainer.elementReferrer.style.cssText),this.iframeContainer.restyle("margin","0px !important"),this.isMaximized=!0,this.show())},ke.prototype.resetOriginalStyle=function(){this.originalIframeContainerStyle&&(this.iframeContainer.elementReferrer.style.cssText=this.originalIframeContainerStyle)},ke.prototype.resizeIframeHeight=function(){var e;!this.isMaximized&&this.iframeContainer&&this.minifiedWidget.container.elementReferrer&&this.isIEWidget&&(e=this.minifiedWidget.container.getElementById("tawkchat-status-text-container").offsetHeight,this.minifiedWidget.container.restyle("height",e+"px"),this.iframeContainer.restyle("marginTop","-"+e/2+"px"),this.iframeContainer.restyle("height",e+"px"))},ke.prototype.renderBottomWidget=function(){this.isMaximized||(this.isBottomWidget=!0,this.minifiedWidget.container.template=h["mobile-bottom-"+B.mobileWidget()],this.iframeContainer.restyle("position","fixed"),this.updateWidgetPosition())},ke.prototype.handleIndicatorToggle=function(e){var t=this.minifiedBoxWidth,i=this.minifiedWidget.container.getElementById("tawkchat-chat-indicator"),n=this.minifiedWidget.container.getElementById("tawkchat-minified-wrapper");this.minifiedWidget.container.getElementById("tawkchat-minified-box"),this.isIndicatorOn=e,n.className=e?n.className+" indicator-on ":n.className.replace("indicator-on",""),this.minifiedBoxWidth=e?t+7:this.defaultWidth,this.isMobileOptimizedWebsite()?this.scaleContent(1):this.renderMinifiedBox(),i.style.visibility="visible"},ke.prototype.updateViewByStatus=function(e){this.isMaximized?(this.parent.updateViewByStatus.call(this,e),this.maximizedWidget&&"preChatForm"!==p.formHandler.currentForm&&"offlineForm"!==p.formHandler.currentForm&&this.maximizedWidget.toggleMenuContainer("online"===e||"away"===e)):this.iframeContainer.elementReferrer&&("offline"===e&&B.hideWidgetOnOffline?this.hideWidget():this.showWidget(),this.resizeHandler())},ke.prototype.updateWidgetPosition=function(e){var t={},i={};e=e||this.minifiedBoxHeight,this.iframeContainer&&(B.isCenterPositioned()?(t.top="50% !important",t.bottom="auto !important",t.margin=this.isMinifiedRound?-.5*e+"px 0 0 0 !important":-.5*e-(this.defaultHeight-37)/2+"px 0 0 0 !important"):(t.margin="0 !important",B.isTopPositioned()?(t.top="0px !important",t.bottom="auto !important",i.top=this.isMinifiedRound?"20px !important":"-10px !important"):(t.bottom="0px !important",t.top="auto !important",i.bottom=this.isMinifiedRound?"14px !important":"0px !important")),B.isRightPositioned()?(t.right="0px !important",t.left="auto !important",i.right=this.isMinifiedRound?"20px !important":"15px !important"):(t.left="0px !important",t.right="auto !important",i.left=this.isMinifiedRound?"20px !important":"15px !important"),this.iframeContainer.massRestyle(t),this.minifiedWidget.container.massRestyle(i))},ke.prototype.appendMessage=function(e){var t,i,n,a={"chat-message-row":h["chat-message-row"],"chat-resend-link":h["chat-resend-link"],"chat-message-owner-agent":h["chat-message-owner-agent"],"chat-message-container":h["chat-message-container"],"chat-notification-container":h["chat-notification-container"],"chat-message-status-row":h["chat-message-status-row"],"chat-divider":h["chat-divider"]},o=L.parseChatTime(e.time);return"a"===e.senderType?(t=(t=(n=M.agentProfiles[e.ownerId])&&n.pi?A.agentImgUrl+"/"+M.agentProfiles[e.ownerId].pi:"")?"url('"+t+"')":"transparent",i="explorer"===C&&9>k?"filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale');":"background-position:0 0;background-size:28px 28px;",a["chat-message-owner-agent"]=a["chat-message-owner-agent"].replace("__IMAGE_URL__",t).replace("__IE_IMAGE_SCALE__",n&&n.pi?i:"")):"s"===e.senderType&&(a["chat-message-owner-agent"]=a["chat-message-owner-agent"].replace("__IMAGE_URL__","").replace("__IE_IMAGE_SCALE__","")),a["chat-message-status-row"]=e.isPending?h["chat-message-pending-row"]:a["chat-message-status-row"].replace("__TIME__",o).replace("__TIME_CLASS__","v"===e.senderType?"visitor":"agent"),this.parent.appendMessage.call(this,e,a)},ke.prototype.appendAgentIsTypingElement=function(e){this.parent.appendAgentIsTypingElement.call(this,e)},ke.prototype.removeAgentTypingElement=function(e){this.parent.removeAgentTypingElement.call(this,e)},ke.prototype.addOverflowScroll=function(e){var t=0,i=this;p.eventHandler.listen(e,"touchstart",function(i){t=e.scrollTop+i.touches[0].pageY},"mobiletouchstart"+e.id),p.eventHandler.listen(e,"touchmove",function(n){p.eventHandler.cancelEvent(n),20>=n.touches[0].pageY||0>t-n.touches[0].pageY||(e.scrollTop=t-n.touches[0].pageY,this.maximizedWidget.isScrollbarDown=i.ifScrollbarDown())},"mobiletouchmove"+e.id)},ke.prototype.addStartTime=function(e){var t,i=this.chatContainer.documentRef;i&&(e=L.getDateFromUTC(e),e=p.languageParser.translate("days",e.getDay())+", "+p.languageParser.translate("months",e.getMonth())+" "+e.getDate()+", "+e.getFullYear(),t=h["mobile-first-message-time"],t=t.replace("__CONTENT__",e),messageContainer=new se("firstMessageTimeWrapper",null,{className:"chatLineContainer"},null,i.documentRef),messageContainer.template=t,messageContainer.buildView(),chatWrapper.insertBefore(messageContainer.elementReferrer,i.getElementById("chatWrapper").firstChild))},ke.prototype.resetView=function(){var e,t;(e=this.chatContainer)&&((e=e.getElementById("chatWrapper"))&&(t=e.lastChild,e.innerHTML="",e.appendChild(t),this.showEmbeddedGreetings()),this.show())},ke.prototype.appendAgent=function(){var e=this.chatContainer,t=e.getElementById("chatWrapper");e&&(p.agents.agentsCount++,t.className=1>=p.agents.agentsCount?"single-agent":"multi-agent")},ke.prototype.removeAgent=function(e){this.chatContainer.elementReferrer&&p.agents.agentsCount--},ke.prototype.handleRestartChat=function(){p.formHandler.closeForm(),this.maximizedWidget.chatStarted()},ke.prototype.hideEmbeddedGreetings=function(){var e,t;e=this.maximizedWidget.container.getElementById("greetingsWrapper"),t=this.maximizedWidget.container.getElementById("chatWrapper"),e&&t&&(e.style.display="none",t.style.display="block")},ke.prototype.showEmbeddedGreetings=function(){var e,t;e=this.maximizedWidget.container.getElementById("greetingsWrapper"),t=this.maximizedWidget.container.getElementById("chatWrapper"),e&&t&&(t.style.display="none",e.style.display="block")},ke.prototype.toggleWidget=function(){this.isMaximized?p.sessionHandler.notifyWindowState("min"):p.sessionHandler.notifyWindowState("max")},ke.prototype.toggleVisibility=function(){this.scrollToBottom(),(this.isVisibilityToggled=!this.isVisibilityToggled)?this.hideWidget():this.showWidget()},ke.prototype.isWidgetHidden=function(){return!this.iframeContainer.isVisible};var Ee=function(e){ke.call(this,e)};Ee.prototype=new ke,Ee.prototype.init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},Ee.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(.2>e?.2:e)};var Te=function(e){ke.call(this,e)};Te.prototype=new ke,Te.prototype.init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},Te.prototype.isLandscape=function(){return 0!==l.orientation},Te.prototype.getZoom=function(){this.zoom=(this.isLandscape()?screen.height:screen.width)/l.innerWidth},Te.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(e,!1)};var _e=function(e){ke.call(this,e)};_e.prototype=new ke,_e.prototype.init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},_e.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(e,!0)};var Se=function(e){ke.call(this,e),this.screenWidth=0};Se.prototype=new ke,Se.prototype.init=function(){this.renderBottomWidget(),this.addResizeEvents(!0),this.resizeHandler()},Se.prototype.isLandscape=function(){return 0!==l.orientation},Se.prototype.getZoom=function(){this.isLandscape()?this.screenWidth=screen.height:this.screenWidth=screen.width,this.zoom=this.screenWidth/l.innerWidth},Se.prototype.renderMinifiedBox=function(){var e;e=this.isMobileOptimizedWebsite()?(.2*this.screenWidth/this.minifiedBoxWidth).toFixed(2):(1/this.zoom.toFixed(2)).toFixed(2),this.scaleContent(e,!0)};var Ie=function(e){ke.call(this,e)};Ie.prototype=new ke,Ie.prototype.init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},Ie.prototype.renderMinifiedBox=function(){this.scaleContent()};var Re=function(e){ke.call(this,e)};Re.prototype=new ke,Re.prototype.init=function(){this.renderBottomWidget(),this.checkMetaContent(),this.addResizeEvents(),this.resizeHandler()},Re.prototype.renderMinifiedBox=function(){var e;e=this.isMobileOptimizedWebsite()?1:2,this.scaleContent(e,!0,!0)};var Be=function(e){ke.call(this,e)};Be.prototype=new ke,Be.prototype.init=function(){var e;"ie"===this.browser&&(e=document.createElement("meta"),e.httpEquiv="X-UA-Compatible",e.setAttribute("content","IE=edge"),document.getElementsByTagName("head")[0].appendChild(e)),this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},Be.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(.2>e?.2:e)};var Ne=function(e){ke.call(this,e)};Ne.prototype=new ke,Ne.prototype.init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},Ne.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(.2>e?.2:e)};var He=he.extend({init:function(){var e,t,i,a,o=this;this._super(this),e=document.getElementsByTagName("head")[0],t=document.createDocumentFragment(),i=L.createElement(document,"style",{type:"text/css"}),a=document.createTextNode(p.ResetStyle+""+p.MaximizedMobileStyle+B.mobMaxStyle()),i.styleSheet?i.styleSheet.cssText=a.nodeValue:i.appendChild(a),t.appendChild(i),e.appendChild(t),this.clickEvent="touchend",this.iframeContainer=new se(L.getRandomName(),"border: 0 none; padding: 0; margin: 0; z-index: 9999999; width: 100%; height: 100%; display: none; position : fixed; top :0; bottom : 0; min-width: 0 !important; min-height: 0 !important; max-width: none !important; max-height: none !important;"),n=new Ce,this.iframeContainer.addChildViews([n.container]),this.iframeContainer.buildView(),this.chatContainer=n.container,n.wrapper.addClass("isPopout"),M.rating.subscribe(function(e){o.changeRating(e)}),A.pageStatus.subscribe(function(e){o.updateViewByStatus(e)}),N.displayName.subscribe(function(e){o.changeVisitorName(e)}),B.mobMaxStyle.subscribe(function(){n.container.insertCssFile(B.mobMaxStyle()),n.wrapper.removeClass("white"),n.wrapper.removeClass("black"),n.wrapper.addClass(L.getContrast(B.headerTxtColor))}),p.chatHandler.hasChatStarted.subscribe(function(e){n.toggleEndChatOption(e)})},show:function(){n.show(),this.updateViewByStatus(A.pageStatus()),this._super(),p.socketManager.sendToConnector("popupOnFocus",!0)},appendMessage:function(e){var t,i,n,a={"chat-message-row":h["chat-message-row"],"chat-resend-link":h["chat-resend-link"],"chat-message-owner-agent":h["chat-message-owner-agent"],"chat-message-owner-visitor":h["chat-message-owner-visitor"],"chat-message-container":h["chat-message-container"],
"chat-notification-container":h["chat-notification-container"],"chat-message-status-row":h["chat-message-status-row"],"chat-divider":h["chat-divider"]},o=L.parseChatTime(e.time);return"a"===e.senderType?(t=(t=(n=M.agentProfiles[e.ownerId])&&n.pi?A.agentImgUrl+"/"+M.agentProfiles[e.ownerId].pi:"")?"url('"+t+"')":"transparent",i="explorer"===C&&9>k?"filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale');":"background-position:0 0;background-size:28px 28px;",a["chat-message-owner-agent"]=a["chat-message-owner-agent"].replace("__IMAGE_URL__",t).replace("__IE_IMAGE_SCALE__",n&&n.pi?i:"")):"s"===e.senderType&&(a["chat-message-owner-agent"]=a["chat-message-owner-agent"].replace("__IMAGE_URL__","").replace("__IE_IMAGE_SCALE__","")),a["chat-message-status-row"]=e.isPending?h["chat-message-pending-row"]:a["chat-message-status-row"].replace("__TIME__",o).replace("__TIME_CLASS__","v"===e.senderType?"visitor":"agent"),this._super(e,a)},prepareResendLink:function(e){var t,i,n,a=this.chatContainer.getElementById(e);a&&a.childNodes.length&&(n=a.parentNode.childNodes[0])&&(t=n.childNodes[0],i=L.rawDecode(a.childNodes[0].textContent||a.childNodes[0].innerText),t&&i&&this.chatContainer.attachUserEventListener(this.clickEvent,function(t){p.eventHandler.cancelEvent(t),-1!==n.className.indexOf("errorInMessage")&&(n.className="messageStatusContainer pending",p.chatHandler.sendMessageToServer(i,e))},"resendMessage-"+e,"resend"+e+"click"))},updateViewByStatus:function(e){this._super(e),n&&"preChatForm"!==p.formHandler.currentForm&&"offlineForm"!==p.formHandler.currentForm&&(n.toggleMenuContainer("online"===e||"away"===e),B.isPopup&&(e=r.getShortMessage(e),document.title=e?s.profileName+" - "+L.rawDecode(e):s.profileName))},handleEndChat:function(){n.chatEnded(),this.hideWidget()},handleRestartChat:function(){n.chatStarted()},hideEmbeddedGreetings:function(){var e,t;n&&n.container&&(e=n.container.getElementById("greetingsWrapper"),t=n.container.getElementById("chatWrapper"),e&&t&&(e.style.display="none",t.style.display="block"))},showEmbeddedGreetings:function(){var e;n.container&&(e=n.container.getElementById("greetingsOverlay"),chatWrapper=n.container.getElementById("chatTableWrapper"),e&&chatWrapper&&(chatWrapper.style.display="none",e.style.display="block"))},changeVisitorName:function(e){var t,i,n,a;if(this.chatContainer&&this.chatContainer.elementReferrer&&(t=this.chatContainer.getElementById("chatWrapper")))for(a=L.getElementsByClassName(t,"messageOwnerName visitor"),i=0,n=a.length;n>i;i+=1)t=a[i],t.innerHTML=e},appendAgent:function(){var e=this.chatContainer,t=e.getElementById("chatWrapper");e&&(p.agents.agentsCount++,t.className=1>=p.agents.agentsCount?"single-agent":"multi-agent")},removeAgent:function(e){this.chatContainer.elementReferrer&&p.agents.agentsCount--}});He.prototype.begin=function(){var e=I;if(document.body.appendChild(this.iframeContainer.elementReferrer),("symbian"===e||"ie"===e||"opera"===e||"android2.3"===e)&&(this.clickEvent="click"),n.buildView(),this.chatContainer.documentRef.getElementById("popOut").style.display="none",L.isTouchDevice()&&("android"===I||"android2"===I||"android2.3"===I)){var e=this.chatContainer.getElementById("chatContainer"),t=this.chatContainer.getElementById("menuScrollable");this.addOverflowScroll(e),this.addOverflowScroll(t),e.style.overflow="hidden",t.style.overflow="hidden"}p.audioPlayer.initAudioPlayer()},He.prototype.hideWidget=function(){p.socketManager.sendToConnector("popupOnFocus",!1),setTimeout(function(){1<l.history.length?l.history.back():l.close()},200)},He.prototype.showWidget=function(){this.scrollToBottom(),this.iframeContainer.show()},He.prototype.addStartTime=function(e){var t,i=this.chatContainer.documentRef;i&&(e=L.getDateFromUTC(e),e=p.languageParser.translate("days",e.getDay())+", "+p.languageParser.translate("months",e.getMonth())+" "+e.getDate()+", "+e.getFullYear(),t=h["mobile-first-message-time"],t=t.replace("__CONTENT__",e),messageContainer=new se("firstMessageTimeWrapper",null,{className:"chatLineContainer"},null,i.documentRef),messageContainer.template=t,messageContainer.buildView(),chatWrapper.insertBefore(messageContainer.elementReferrer,i.getElementById("chatWrapper").firstChild))},He.prototype.resetView=function(){var e,t;(e=this.chatContainer)&&((e=e.getElementById("chatWrapper"))&&(t=e.lastChild,e.innerHTML="",e.appendChild(t),this.showEmbeddedGreetings()),this.show())},He.prototype.addOverflowScroll=function(e){var t=0,i=this;p.eventHandler.listen(e,"touchstart",function(i){t=e.scrollTop+i.touches[0].pageY},"mobiletouchstart"+e.id),p.eventHandler.listen(e,"touchmove",function(a){p.eventHandler.cancelEvent(a),20>=a.touches[0].pageY||0>t-a.touches[0].pageY||(e.scrollTop=t-a.touches[0].pageY,n.isScrollbarDown=i.ifScrollbarDown())},"mobiletouchmove"+e.id)};var Me=function(){var t=this,i=!1;this.onActivityHandler=function(){p&&(t.away&&e.connected&&p.socketManager.sendToConnector("notifySocketStatusUpdate","online"),t.active=!0,t.away=!1)},this.popupOnFocusHandler=function(){p&&(!e.connected&&p.socketManager.isForcedDisconnect()?p.main.criticalRefresh(A.serverVersion,!1,!0):(t.hasFocus||(t.active=!0,t.hasFocus=!0,e.connected&&p.socketManager.sendToConnector("popupOnFocus",!0)),t.away&&e.connected&&p.socketManager.sendToConnector("notifySocketStatusUpdate","online"),t.away=!1))},this.popupOnBlurHandler=function(){p&&(t.hasFocus=!1,e.connected&&p.socketManager.sendToConnector("popupOnFocus",!1))},this.reconnectOnActivity=function(){p&&!i&&(i=!0,p.main.criticalRefresh(A.serverVersion))},this.away=this.active=this.hasFocus=!1,this.interval=this.awayTimeout=this.inactivityTimeout=null,this.initActivityReset=function(){t.resetTimeout(),t.setupListeners(),t.interval=setInterval(function(){t.active&&(t.resetTimeout(),t.active=!1)},1e4)}};Me.prototype.resetTimeout=function(){var t=this;clearTimeout(this.inactivityTimeout),clearTimeout(this.awayTimeout),this.awayTimeout=setTimeout(function(){!t.away&&p&&(t.away=!0,p&&p.socketManager&&e.connected&&p.socketManager.sendToConnector("notifySocketStatusUpdate","away"))},6e5),p&&!p.socketManager.isForcedDisconnect()&&(this.inactivityTimeout=setTimeout(function(){t.inactivityTimeoutHandler()},12e5))},Me.prototype.inactivityTimeoutHandler=function(){p&&(p.socketManager.disconnectConnector(),B.isEmbedded?p.formHandler.openForm("inactivityOverlay"):A.chatWindowState("min"),I?(p.eventHandler.listen(p.viewHandler.chatContainer.documentRef,"touchmove",this.reconnectOnActivity,"acitmmousemove"),p.eventHandler.listen(p.viewHandler.chatContainer.documentRef,p.viewHandler.clickEvent,this.reconnectOnActivity,"acitmclick"),p.eventHandler.listen(p.viewHandler.chatContainer.documentRef,"keydown",this.reconnectOnActivity,"acitmkeydown"),p.eventHandler.listen(document,"touchmove",this.reconnectOnActivity,"acitmousemove"),p.eventHandler.listen(document,p.viewHandler.clickEvent,this.reconnectOnActivity,"acitclick"),p.eventHandler.listen(document,"keydown",this.reconnectOnActivity,"acitkeydown")):(p.eventHandler.listen(document,"mousemove",this.reconnectOnActivity,"acitmousemove"),p.eventHandler.listen(document,"click",this.reconnectOnActivity,"acitclick"),p.eventHandler.listen(document,"keydown",this.reconnectOnActivity,"acitkeydown"),document.onfocusin?p.eventHandler.listen(document,"focusin",this.reconnectOnActivity,"acitfocus"):p.eventHandler.listen(l,"focus",this.reconnectOnActivity,"acitfocus")))},Me.prototype.cleanUp=function(){clearInterval(this.interval),clearTimeout(this.inactivityTimeout),clearTimeout(this.awayTimeout)},Me.prototype.setupListeners=function(){I?(p.eventHandler.listen(p.viewHandler.chatContainer.documentRef,"touchmove",this.onActivityHandler,"acmmousemove"),p.eventHandler.listen(p.viewHandler.chatContainer.documentRef,p.viewHandler.clickEvent,this.onActivityHandler,"acmclick"),p.eventHandler.listen(p.viewHandler.chatContainer.documentRef,"keydown",this.onActivityHandler,"acmkeydown"),p.eventHandler.listen(document,"touchmove",this.onActivityHandler,"acmousemove"),p.eventHandler.listen(document,p.viewHandler.clickEvent,this.onActivityHandler,"acclick"),p.eventHandler.listen(document,"keydown",this.onActivityHandler,"ackeydown")):B.isPopup?(document.onfocusin?(p.eventHandler.listen(document,"focusin",this.popupOnFocusHandler,"acfocus"),p.eventHandler.listen(document,"focusout",this.popupOnBlurHandler,"acblur")):(p.eventHandler.listen(l,"focus",this.popupOnFocusHandler,"acfocus"),p.eventHandler.listen(l,"blur",this.popupOnBlurHandler,"acblur")),p.eventHandler.listen(document,"click",this.popupOnFocusHandler,"acphclick"),p.eventHandler.listen(document,"keydown",this.popupOnFocusHandler,"acphkeydown")):(p.eventHandler.listen(document,"mousemove",this.onActivityHandler,"acmousemove"),p.eventHandler.listen(document,"click",this.onActivityHandler,"acclick"),p.eventHandler.listen(document,"keydown",this.onActivityHandler,"ackeydown"))};var Ae=function(){var e=this;this.originalPageStatus=this.agentCountSubscription=this.setupTimeout=null,this.utcOffset=0,p.eventEmitter.on("scheduleUpdate",function(t){B.widgetId===t.wdgt&&(B.schedule=null!==t.ws?t.ws.sch:null,B.scheduleTimezone={},null!==t.wstz&&(B.scheduleTimezone={utc:t.wstz.utc,tzo:t.wstz.offset}),e.setup())})};Ae.prototype.setup=function(){clearTimeout(this.setupTimeout),null===this.originalPageStatus&&(this.originalPageStatus=A.pageStatus()),B.schedule?(this.utcOffset=-1*((new Date).getTime()-B.scheduleTimezone.utc),this.calculate()):A.pageStatus(this.originalPageStatus)},Ae.prototype.calculate=function(){var e,t,i=this;B.schedule&&(clearTimeout(this.setupTimeout),e=new Date,localOffset=-6e4*e.getTimezoneOffset(),t=B.scheduleTimezone.tzo-localOffset,e=new Date(e.getTime()+this.utcOffset+t),t=e.getDay(),todayStartValue=B.schedule[t].start,todayEndValue=B.schedule[t].end,tomorrow=6===t?0:t+1,tomorrowStartValue=B.schedule[tomorrow].start,since=36e5*e.getHours()+6e4*e.getMinutes(),0===todayStartValue&&0===todayEndValue?(this.goOffline(),this.setupTimeout=setTimeout(function(){i.calculate()},864e5-since+tomorrowStartValue)):since<todayStartValue?(this.goOffline(),this.setupTimeout=setTimeout(function(){i.calculate()},todayStartValue-since)):since>=todayEndValue?(this.goOffline(),this.setupTimeout=setTimeout(function(){i.calculate()},864e5-since+tomorrowStartValue)):(this.goOnline(),this.setupTimeout=setTimeout(function(){i.calculate()},todayEndValue-since)))},Ae.prototype.goOnline=function(){"offline"!==this.originalPageStatus&&(A.pageStatus(this.originalPageStatus),null!==this.agentCountSubscription&&(p.agents.totalAgents.unsubscribe(this.agentCountSubscription),this.agentCountSubscription=null))},Ae.prototype.goOffline=function(){0!==p.agents.totalAgents()?this.agentCountSubscription=p.agents.totalAgents.subscribe(function(e){0===e&&A.pageStatus("offline")}):A.pageStatus("offline")},Ae.prototype.clearTimer=function(){clearTimeout(this.setupTimeout),this.originalPageStatus=this.setupTimeout=null};var Pe=function(){this.registerTime=0,this.registerStart=null,this.maxRetrycount=10,this.retryCount=0,this.registerData=this.registerDelayTimeout=this.connectionCookieInterval=this.requestCancelTimeout=this.previousRegisterCall=null,this.registerStarted=!1,this.retryDelay=null,this.retryInitialDelay=30,this.retryMultiplier=1.5,this.minRandom=.5,this.maxRandom=1.5,this.maxDelay=120,this.retryRegisterTimeout=null};Pe.prototype.register=function(){this.registerStarted=!0,this.clearTimers(),this.prepareData()},Pe.prototype.prepareData=function(){var e,t,i,n="",a="";p&&(e=te.getSessionInformation(),t=A.sessionKey||void 0,e.length&&(a=e[0]),i=(new Date).getTimezoneOffset(),(-900>i||i>900)&&(i=0),this.registerData?(this.registerData.k=t,this.registerData.d=a):(n=p.browserData.getReferredSearchEngine(),e="undefined"==typeof $_Tawk_WidgetId?"default":$_Tawk_WidgetId,this.registerData={a:H.pageId||"",k:t,w:e,d:a,mb:I?1:0,m:i,s:n,q:"",r:document.referrer}),p.main.maximize&&(this.registerData.h="max"),this.registerData.wv=B.widgetVersion,B.isPopup&&A.transferKey&&A.sessionKey&&(this.registerData.tk=A.transferKey),p.main.previousSessionKey=this.registerData.k,this.getUUID())},Pe.prototype.getUUID=function(){var e,t,i,n=!1,a=1/0,o=p.punycode.toASCII(l.location.hostname);"www."===o.substring(0,4)&&(o=o.replace("www.","")),e=te.getStoredUUID();for(var r=0,s=e.length;s>r;r++){var c,d,h,m;if(m=te.parseSessionInformation(e[r]),4===m.length)if(c=m[0],d=m[1],h=m[2],m=m[3],"e"===c){if(o===d){t=h,i=m;break}}else"p"===c&&(c=o.match(d))&&o.substr(c.index)===d&&c.index<a&&(a=c.index,t=h,i=m,n=!0)}this.registerData&&(this.registerData.u=t,this.registerData.uv=i,n&&(this.registerData.uw=!0)),this.startRegister()},Pe.prototype.abort=function(){null!==this.previousRegisterCall&&(Z.abort(this.previousRegisterCall),this.previousRegisterCall=null)},Pe.prototype.setupRegisterTimeout=function(){var e=this;clearTimeout(this.requestCancelTimeout),this.requestCancelTimeout=setTimeout(function(){e.abort(),e.retryRegister()},9e4)},Pe.prototype.startRegister=function(){var e=te.getHTTPCookie(""),e=parseInt(e.length?e[0]:null,10);!e||1e3<(new Date).getTime()-new Date(e).getTime()?(te.setHTTPCookie("",(new Date).getTime(),!0),this.connectionCookieInterval=setInterval(function(){te.setHTTPCookie("",(new Date).getTime(),!0)},100),this.doRegister()):this.delayRegister()},Pe.prototype.delayRegister=function(){var e=this;clearTimeout(this.registerDelayTimeout),this.registerDelayTimeout=setTimeout(function(){e.register()},1e3)},Pe.prototype.doRegister=function(){var e=A.visitorAppServer+"/register/",t=this;this.registerStart=(new Date).getTime(),this.setupRegisterTimeout(),e+=this.registerStart,this.previousRegisterCall=!Z.hasCORS||"symbian"===I||"android"===I&&4===k?Z.jsonp(e,this.registerData):Z.xhrRequest(e,this.registerData,function(e,i){return e||!i?(t.clearTimers(),t.retryRegister()):void(p&&(i=L.trim(i),p.main.begin($_TAWK_JSON.parse(i))))})},Pe.prototype.retryRegister=function(){var e,t=this;null===this.retryRegisterTimeout&&(this.retryCount>this.maxRetrycount?(this.clearTimers(),p&&p.main.hideWidget()):(this.retryCount++,e=this.getRetryWaitDelay(),this.retryRegisterTimeout=setTimeout(function(){t.register()},e)))},Pe.prototype.resetRetryCount=function(){this.retryCount=0,this.retryDelay=10},Pe.prototype.getRetryWaitDelay=function(){var e,t=Math.random()*(this.maxRandom-this.minRandom)+this.minRandom;return null===this.retryDelay?this.retryDelay=this.retryInitialDelay:(e=this.retryDelay*this.retryMultiplier,this.retryDelay=this.retryDelay>this.maxDelay||e>this.maxDelay?this.maxDelay:e),1e3*Math.round(this.retryDelay*t)},Pe.prototype.clearTimers=function(){this.abort(),clearTimeout(this.requestCancelTimeout),clearTimeout(this.registerDelayTimeout),clearTimeout(this.retryRegisterTimeout),clearInterval(this.connectionCookieInterval),te.setHTTPCookie("",0,!0),this.connectionCookieInterval=this.requestCancelTimeout=this.registerDelayTimeout=this.retryRegisterTimeout=null};var ze=function(){};ze.prototype.processSettings=function(e){var t,i,n,a="",o=i="",r="";e.wv<B.widgetVersion||(B.widgetVersion=e.wv,B.chatPosition(e.pos),I?B.mobileWidget(e.mw||"round"):B.desktopWidget(e.dw||"full"),B.maximizedDimensions({width:parseInt(e.w,10)||320,height:parseInt(e.h,10)||400}),B.isDesktopRectangle()?(t=parseInt(e.minw,10)||320,n=parseInt(e.minh,10)||40):(t=62,n=66),B.minimizedDimensions({width:t,height:n,position:e.pos}),B.chatBubble(e.bbl),B.headerBgColor=e.thm.hbg||"#7fb06f",B.headerTxtColor=e.thm.htx||"#ffffff",B.agentTextBgColor=e.thm.aBblBg||L.shadeColor(B.headerBgColor,-.1),B.agentTextColor=e.thm.aBblTx||"#ffffff",B.visitorTextBgColor=e.thm.vBblBg||"#e5e5e5",B.visitorTextColor=e.thm.vBblTx||"#333333","undefined"!=typeof e.thm.topc?B.topCorner=e.thm.topc:B.isTopPositioned()?B.topCorner=0:B.topCorner=8,"undefined"!=typeof e.thm.btmc?B.bottomCorner=e.thm.btmc:B.isTopPositioned()?B.bottomCorner=8:B.bottomCorner=0,(B.isEmbedded||B.isPopup)&&(B.topCorner=0,B.bottomCorner=0),B.onClickAction=e.woc,B.hideWidgetOnLoad=e.hwol,B.hideWidgetOnOffline=e.hwof,B.hideWidget=!!e.dsw,B.showAgentBar=!e.hab,B.showWaitTime=!e.hwt,B.locale=e.lc,B.onlineGreeting=e.onlineGreeting,B.awayGreeting=e.awayGreeting,B.schedule=e.ws,B.soundOn(!e.dws),0<=L.rtlLangTab.indexOf(B.locale)?B.isRTL(!0):B.isRTL(!1),this.processPrechatForm(e),this.processOfflineForm(e,e.grt),p&&(e=".theme-background-color{background-color: "+B.headerBgColor+";}",t=".theme-text-color{color: "+B.headerTxtColor+";}",p.MinifiedStyle&&(n=B.topCorner+"px "+B.topCorner+"px "+B.bottomCorner+"px "+B.bottomCorner+"px !important;",i=i+e+t,i+=".border-corner{border-radius : "+n+"-moz-border-radius : "+n+"-webkit-border-radius : "+n+"};",i+=".bubble-text-color{color:"+(B.chatBubble()?B.chatBubble().fgc:"#ffffff")+";}",B.minStyle(i)),p.MaximizedStyle&&(n=B.topCorner+"px "+B.topCorner+"px 0px 0px !important;",i=".border-corner{border-radius : "+n+"-moz-border-radius : "+n+"-webkit-border-radius : "+n+"};",a=a+e+t,a+="button.theme-background-color:hover{background-color: "+L.shadeColor(B.headerBgColor,-.3)+";}",a+=".agentChatContainer .message{background-color: "+B.agentTextBgColor+" !important; color : "+B.agentTextColor+" !important;}",a+=".visitorChatContainer .message{background-color: "+B.visitorTextBgColor+" !important; color : "+B.visitorTextColor+" !important;}",a+=i,B.maxStyle(a)),p.MinifiedMobileStyle&&(r=r+e+t,B.mobMinStyle(r)),p.MaximizedMobileStyle&&(o=o+e+t,o+=".theme-background-color .button:hover, button.approveButton:active{background-color: "+L.shadeColor(B.headerBgColor,-.3)+";}",o+="#topBarContainer{border-color: "+L.shadeColor(B.headerBgColor,-.3)+";}",o+=".agentChatContainer .message{background-color: "+B.agentTextBgColor+" !important; color : "+B.agentTextColor+" !important;}",o+=".visitorChatContainer .message{background-color: "+B.visitorTextBgColor+" !important; color : "+B.visitorTextColor+" !important;}",B.mobMaxStyle(o))))},ze.prototype.processPrechatForm=function(e){B.showPreChatForm=null!==e.prechatForm,B.showPreChatForm&&(B.prechatOptions=e.prechatForm)},ze.prototype.processOfflineForm=function(e){e=e.offlineForm?e.offlineForm:{text:p.languageParser.translate("form","OfflineFormMessage"),shortMessage:p.languageParser.translate("status","contact"),fields:[{label:p.languageParser.translate("form","name"),isRequired:!0,type:"name"},{label:p.languageParser.translate("form","email"),isRequired:!0,type:"email"},{label:p.languageParser.translate("form","message"),isRequired:!0,type:"message"}]},B.offlineOptions=e},ze.prototype.getPrechatFields=function(){return B.prechatOptions.fields},ze.prototype.getOfflineFields=function(){return B.offlineOptions.fields},ze.prototype.getShortMessage=function(e){var t=null;return"online"===e&&B.onlineGreeting?t=B.onlineGreeting.shortMessage:"away"===e&&B.awayGreeting?t=B.awayGreeting.shortMessage:"offline"===e&&B.offlineOptions&&(t=B.offlineOptions.shortMessage),t},ze.prototype.getLongMessage=function(e){var t=null;return"online"===e?B.onlineGreeting&&(t=B.onlineGreeting.longMessage):"away"===e?B.awayGreeting&&(t=B.awayGreeting.longMessage):B.offlineOptions&&(t=B.offlineOptions.text),L.transformGreetings(t)},r=new ze;var Oe=function(){var e=this;N.name.subscribe(function(e){N.displayName(L.parseVisitorName(e))}),p.eventEmitter.on("localeChanged",function(){N.displayName(L.parseVisitorName(N.name()))}),p.eventEmitter.on("visitorDataUpdate",function(t){e.updateVisitorInformation(t)})};Oe.prototype.updateVisitorUUID=function(e){var t=$_TAWK_JSON.parse(e.uuids);N.uuid=e.uuid,N.uuidVer=e.uver||0,t&&(Object.keys(t.e).forEach(function(e){N.uuids.push({isExact:!0,domain:e,uuid:t.e[e]})}),Object.keys(t.p).forEach(function(e){N.uuids.push({isExact:!1,domain:e,uuid:t.p[e]})})),te.storeUUID()},Oe.prototype.updateVisitorInformation=function(e){e.n&&L.isString(e.n)&&N.name(e.n),e.te&&L.isString(e.te)&&(N.transcriptEmail=e.te),e.e&&L.isString(e.e)&&N.email(e.e),e.vid&&(N.visitorId=e.vid),e.dpt&&L.isString(e.dpt)&&(M.chatDepartment=e.dpt)},Oe.prototype.setNameFromForm=function(e){p.visitorHandler.setNameValue(e),s.onVisitorNameChanged(e.name)},Oe.prototype.getNameValue=function(){return N.name()===N.displayName()?N.name():""},Oe.prototype.setNameValue=function(e){N.name(L.rawEncode(e.name))},Oe.prototype.getTranscriptEmailValue=function(){return N.transcriptEmail},Oe.prototype.getEmailValue=function(){return N.email()||N.transcriptEmail},Oe.prototype.setEmailValue=function(e){N.email(e.email)},Oe.prototype.setTranscriptValue=function(e){e.name&&N.name(L.rawEncode(e.name)),N.transcriptEmail=e.transcriptEmail};var De=function(){var e=this;p.eventEmitter.on("chatBubbleClosed",function(){A.chatBubbleClosed(!0)}),p.eventEmitter.on("windowStateUpdated",function(e){A.chatWindowState(e.cw)}),p.eventEmitter.on("pageStatusUpdated",function(e){var t;e&&(t=e.ast)&&L.isString(t)&&L.isArray(e.dptst)&&e.asver>A.pageStatusVersion&&(p.scheduler.originalPageStatus=e.ast,A.pageStatusVersion=e.asver,A.departments=e.dptst,A.pageStatus(e.ast),p.scheduler.calculate())}),p.eventEmitter.on("submitPrechatForm",function(t,i){e.formatPrechatData(t,i)}),p.eventEmitter.on("submitOfflineForm",function(t,i){e.formatOfflineData(t,i)}),A.pageStatus.subscribe(function(e){s.onStatusChange(e)})};De.prototype.closeBubble=function(){A.chatBubbleClosed(!0),p.socketManager.sendToConnector("notifyChatBubbleClosed")},De.prototype.getDeparmentOptions=function(){var e,t,i,n=[],a=A.departments;for(e=0,t=a.length;t>e;e++)i=a[e],n.push({text:L.rawDecode(i.n)+" ("+p.languageParser.translate("status",i.st)+")",value:i.did,selected:M.chatDepartment===i.did});return n},De.prototype.getDeparmentName=function(e){var t,i,n=A.departments;for(t=0,i=n.length;i>t;t++)if(n[t].did===e)return L.rawDecode(n[t].n);return e},De.prototype.formatFormData=function(e,t){var i,n,a,o={questions:[]};for(i=0,n=t.length;n>i;i++){if(a=t[i],"name"===a.type&&(o.name=e[a.id]),"email"===a.type&&(o.email=e[a.id]),"department"===a.type){if(!e[a.id]||"0"==e[a.id])continue;o.department=e[a.id],e[a.id]=this.getDeparmentName(e[a.id])}e[a.id]&&0!==e[a.id].length&&(L.isArray(e[a.id])?o.questions.push({label:a.label,answer:e[a.id].join(", ")}):o.questions.push({label:a.label,answer:e[a.id]}))}return o},De.prototype.formatPrechatData=function(e,t){var i=this,n=this.formatFormData(e,r.getPrechatFields());p.socketManager.sendToConnector("notifyPrechat",n,function(e){return e?t(e,n):(s.onPrechatSubmit(n.questions),void i.handlePrechatSave(n,t))})},De.prototype.handlePrechatSave=function(e,t){var i,n,a="";if(e.name&&p.visitorHandler.setNameValue(e),e.email&&p.visitorHandler.setEmailValue(e),A.prechatFormSubmitted=!0,0===e.questions.length)return t(null,e);if(0<e.questions.length)for(i=0,n=e.questions.length;n>i;i++)a+=L.rawDecode(e.questions[i].label)+" : "+e.questions[i].answer,i!==n-1&&(a+="\r\n");p.chatHandler.sendMessageToServer(a,null,function(i){i.error||(p.chatHandler.prepareMessage({ut:"v",t:"c",m:L.rawEncode(a),co:new Date,uid:N.visitorId},!1,!1,!0),p.viewHandler.addWaitTime()),t(i.error,e)})},De.prototype.formatOfflineData=function(e,t){var i=this.formatFormData(e,r.getOfflineFields());i.questions.unshift({label:p.languageParser.translate("form","SubmittedFrom"),answer:l.location.href}),p.socketManager.sendToConnector("notifyOfflineMessage",i,function(e){return e?t(e,i):(s.onOfflineSubmit(i),void t(null,i))})},De.prototype.notifyWindowState=function(e){A.chatWindowState(e),p.socketManager.sendToConnector("notifyWindowState",e)},De.prototype.addEvent=function(e,t,i){var n;"function"==typeof t&&(i=t,t=null),i=i||function(){},n=this.secureWrapper({}),n.name=e,n.data=t,p.socketManager.sendToConnector("addEvent",n,i)},De.prototype.setAttributes=function(e,t,i){if(i=i||function(){},t&&(e.name||e.email)){if(!e.name||!e.email||!e.hash)return i("UNAUTHORIZED_API_CALL");s.visitor={name:e.name,email:e.email,hash:e.hash}}else e=this.secureWrapper(e);p.socketManager.sendToConnector("setAttributes",e,function(t){t||(e.name&&p.visitorHandler.setNameValue(e),e.email&&p.visitorHandler.setEmailValue(e)),i(t)})},De.prototype.addTags=function(e,t){var i;t=t||function(){},i=this.secureWrapper({}),i.tags=e,p.socketManager.sendToConnector("addTags",i,t)},De.prototype.removeTags=function(e,t){var i;t=t||function(){},i=this.secureWrapper({}),i.tags=e,p.socketManager.sendToConnector("removeTags",i,t)},De.prototype.secureWrapper=function(e){return"undefined"===e&&(e={}),s&&s.visitor&&"undefined"!=typeof s.visitor.hash&&null!==s.visitor.hash&&"undefined"!=typeof s.visitor.email&&null!==s.visitor.email&&(e.email=s.visitor.email,e.hash=s.visitor.hash),e},De.prototype.setForeignKey=function(e,t){var i;t=t||function(){},i=this.secureWrapper({}),i.key=e,p.socketManager.sendToConnector("saveForeignKey",i,t)},De.prototype.setConversionId=function(e,t){var i;t=t||function(){},i=this.secureWrapper({}),i.key=e,p.socketManager.sendToConnector("saveConversion",i,t)},De.prototype.setVisitorAttributes=function(){var e={};s&&s.visitor&&(s.visitor.name&&(e.name=s.visitor.name),s.visitor.email&&(e.email=s.visitor.email),this.setAttributes(e,!1))};var We=function(){var e=this;this.agentHasMessaged=this.visitorHasMessaged=!1,this.messageBuffer=[],this.messages={},this.agentsTyping=[],this.agentProfilesTyping=[],this.previousTextTime=this.previousText=this.lastMessageOwner=null,this.hasChatEnded=!1,this.hasChatStarted=u.observable(!1),this.hasBeenMaximizedOnce=!1,p.eventEmitter.on("syncConversation",function(t){e.conversationUpdate(t)}),p.eventEmitter.on("incomingMessage",function(t){e.handleMessageFromServer(t)}),p.eventEmitter.on("agentIsTyping",function(t){e.handleAgentTyping(t.rsc)}),p.eventEmitter.on("agentStopedTyping",function(t){e.handleAgentStoppedTyping(t.rsc)}),p.eventEmitter.on("newChatRating",function(t){parseInt(t.rt,10),e.changeRating(t.rsc,!0)})};We.prototype.parseHistory=function(){var e,t,i,n,a,o=(new Date).getTime(),r=0,s=0;for(this.noRedraw=!0,M.chatEndVersion=1,e=0,t=M.chatHistory.length;t>e;e++)"CHAT_ENDED"===M.chatHistory[e].m&&(r=e+1,M.chatEndVersion++);for(e=r,t=M.chatHistory.length;t>e;e++)i=M.chatHistory[e],(!i.md||i.md&&!i.md.ao)&&("v"!==i.ut||this.visitorHasMessaged||"c"!==i.t||(s=(new Date).getTime()-L.getMilliseconds(i.co)),"WEBRTC_SESSION_REQUESTED"===i.m&&"a"===i.ut?(n=!0,a=i.co):"WEBRTC_SESSION_MISSED"===i.m&&"v"===i.ut?(n=!1,a=null):"WEBRTC_SESSION_REJECTED"===i.m&&"v"===i.ut?(n=!1,a=null):"WEBRTC_SESSION_JOIN"===i.m&&"v"===i.ut?(n=!1,a=null):"WEBRTC_SESSION_LEFT"===i.m&&"v"===i.ut&&(n=!1,a=null),this.prepareMessage(i,!0,!1,!1));n&&a&&2>(o-L.getMilliseconds(a))/1e3/60&&p.viewHandler.showCallRequest(i),this.noRedraw=!1,this.visitorHasMessaged&&!this.agentHasMessaged&&B.showWaitTime&&(A.waitTime=A.waitTime<s?6e4:A.waitTime-s,p.viewHandler.addWaitTime()),this.hasChatStarted(this.visitorHasMessaged)},We.prototype.handleIndicator=function(){p.viewHandler.indicator.show(),I&&(p.viewHandler.hasChatStarted=!0)},We.prototype.handleMessageFromServer=function(e){var t=null;if(e.md&&e.md.ao)return M.chatVersion=e.cver;if("offline"===A.pageStatus()){if("a"!==e.ut)return;A.pageStatus("online")}if(!M.chatSynced)return M.chatBuffer.push(e);if(this.hasChatEnded&&this.startNewChat(),"WEBRTC_SESSION_REQUESTED"===e.m&&"a"===e.ut)p.viewHandler.showCallRequest(e);else if("WEBRTC_SESSION_MISSED"===e.m&&"a"===e.ut)p.viewHandler.removeCallRequest();else{if("WEBRTC_SESSION_REJECTED"===e.m&&"a"===e.ut)return;if("CHAT_ENDED"===e.m&&!this.hasChatEnded)return void this.endChat(e.md.cev)}"v"===e.ut&&"c"===e.t&&p.viewHandler.addWaitTime(),B.isPopup||"c"!==e.t||p.viewHandler.isMaximized||"v"===e.ut||B.isEmbedded||("max"!==B.onClickAction||this.agentHasMessaged||I||this.hasBeenMaximizedOnce?B.hideWidgetOnLoad||(p.viewHandler.indicator.show(),I&&(p.viewHandler.hasChatStarted=!0)):(p.viewHandler.userAction=!1,p.sessionHandler.notifyWindowState("max"),this.hasBeenMaximizedOnce=!0)),M.chatVersion=e.cver,"s"===e.ut||"c"!==e.t||this.hasChatStarted()||(this.hasChatStarted("v"===e.ut),s.onChatStarted()),"c"===e.t?"a"===e.ut?e.md&&e.md.file?s.onFileUpload("https://tawkto.link/"+e.md.file.name):s.onChatMessageAgent(e.m):"s"===e.ut&&s.onChatMessageSystem(e.m):"n"===e.t&&("AGENT_JOIN_CONVERSATION"===e.m?(e.md&&e.md.pi&&e.md.pi.length&&(t="https://s3.amazonaws.com/talk-pi/"+e.md.pi),s.onAgentJoinChat({name:e.n,position:e.md.pst,image:t,id:e.uid})):"AGENT_LEFT_CONVERSATION"===e.m&&s.onAgentLeaveChat({name:e.n,id:e.uid})),this.prepareMessage(e,!1),p.scheduler.calculate(),B.showPreChatForm&&"preChatForm"===p.formHandler.currentForm&&p.formHandler.closeForm()},We.prototype.prepareMessage=function(e,t,i,n){var a,o,r,s,l=!0;if("n"===e.t&&"v"===e.ut)"VISITOR_RATING"===e.m&&this.changeRating(e.md.rt,!0);else{if("WEBRTC_SESSION_REQUESTED"===e.m&&(r="v"===e.ut?p.languageParser.translate("chat","VISITOR_WEBRTC_SESSION_REQUESTED"):p.languageParser.translate("chat","AGENT_WEBRTC_SESSION_REQUESTED",{n:"<b>"+L.rawDecode(e.n)+"</b>"}),e.t="n"),"WEBRTC_SESSION_MISSED"===e.m&&(r="v"===e.ut?p.languageParser.translate("chat","AGENT_WEBRTC_SESSION_MISSED",{n:"<b>"+L.rawDecode(e.n)+"</b>"}):p.languageParser.translate("chat","VISITOR_WEBRTC_SESSION_MISSED",{n:L.rawDecode(e.n)})),"WEBRTC_SESSION_JOINED"===e.m&&(r="v"===e.ut?p.languageParser.translate("chat","VISITOR_WEBRTC_SESSION_JOINED"):p.languageParser.translate("chat","AGENT_WEBRTC_SESSION_JOINED",{n:"<b>"+L.rawDecode(e.n)+"</b>"})),"WEBRTC_SESSION_REJECTED"===e.m){if("a"===e.ut)return;r=p.languageParser.translate("chat","WEBRTC_SESSION_REJECTED")}"WEBRTC_SESSION_LEFT"===e.m&&(r="v"===e.ut?p.languageParser.translate("chat","VISITOR_WEBRTC_SESSION_LEFT"):p.languageParser.translate("chat","AGENT_WEBRTC_SESSION_LEFT",{n:"<b>"+L.rawDecode(e.n)+"</b>"})),"v"===e.ut?(a=N.displayName(),o=e.uid):(a=e.n,"a"===e.ut&&(o=M.profiles[e.md.rsc])),"n"!==e.t||"AGENT_JOIN_CONVERSATION"!==e.m&&"AGENT_LEFT_CONVERSATION"!==e.m||(this.hasChatStarted()||this.visitorHasMessaged||this.agentHasMessaged||Object.keys(this.messages).length?(l=!1,p.agents.updateAgentPresence(e.m,e.md,e.n,e.md.rsc,!i)):(l=p.agents.updateAgentPresence(e.m,e.md,e.n,e.md.rsc,!i),r=p.languageParser.translate("chat",e.m,{n:"<b>"+e.n+"</b>"}))),I&&o&&M.agentProfiles[o]&&(s=M.agentProfiles[o].pi),l&&(r||(r=this.parseText(e.m)),void 0===t&&(t=!0),e.messageId=p.viewHandler.appendMessage({message:r,name:a,type:e.t,time:e.co,data:e.md,isPending:!1,senderType:e.ut,ownerId:o,dontPlaySound:t,profileImg:s,reDisplay:n}),n||M.chatOrder++,this.messages[M.chatOrder]=e)}},We.prototype.parseText=function(e){return e?(e=e.replace(L.regLineBreaks,L.br),e=this.createUrl(e.split(/\s/)," ")):void 0},We.prototype.createUrl=function(e,t){function i(e){return p.chatHandler.parseUrl(e)}function n(e){return p.chatHandler.parseEmail(e)}var a,o,r;for(o=0,r=e.length;r>o;o++)-1!==e[o].indexOf(L.br)?(a=e[o].split(L.regBr),e[o]=this.createUrl(a,L.br)):e[o].match(L.regEmailMatch)?e[o]=e[o].replace(L.regEmailMatch,n):(e[o]=e[o].replace(L.regMatchUrl,i),e[o]=e[o].replace(L.regMatchIp,i));return e.join(t)},We.prototype.parseUrl=function(e){var t,i="";return"undefined"!=typeof Q&&Q.unifyUnicode(e)!==e?e:(e.match(L.regEmailMatch)&&(i="mailto:"),"mailto:"===i?(t=e.match(L.regEmailMatch)[0],-1!==t.indexOf("mailto")&&(i=""),e.replace(L.regEmailMatch,'<a href="'+(i+t)+'" title="'+(i+t)+'" style="word-wrap:break-word; white-space:normal;>'+t+"</a> ")):(0!==e.toLowerCase().indexOf("http")&&0!==e.toLowerCase().indexOf("ftp")&&(i="http://"),'<a target="_blank" href="'+(i+e)+'" title="'+(i+e)+'" style="word-wrap:break-word; white-space:normal;">'+e+"</a> "))},We.prototype.parseEmail=function(e){var t="";return"undefined"!=typeof Q&&Q.unifyUnicode(e)!==e?e:(-1===e.indexOf("mailto")&&(t="mailto:"),'<a href="'+(t+e)+'" title="'+(t+e)+'">'+e+"</a> ")},We.prototype.sendTextPreview=function(e){var t,i,n=this;return t=p.eventHandler.getTargetElement(e),13!==e.keyCode||e.shiftKey?void(this.keyDownTimeout||(this.keyDownTimeout=setTimeout(function(){i=L.trim(t.value),"undefined"!=typeof Q&&(i=Q.toShort(i)),p.socketManager.sendToConnector("notifyMessagePreview",i),
clearTimeout(n.keyDownTimeout),n.keyDownTimeout=0},1e3))):(p.eventHandler.cancelEvent(e),i=L.trim(t.value),t.value="",this.sendMessage(i))},We.prototype.sendMessage=function(e,t,i){var n=(new Date).getTime();return e=L.trim(e),clearTimeout(this.keyDownTimeout),this.keyDownTimeout=0,e?("undefined"!=typeof Q&&(e=Q.toShort(e)),this.previousText&&this.previousTextTime&&this.previousText===e&&500>n-this.previousTextTime&&p.loggingHandler.logIncident("Double message occured",{previousText:this.previousText,currentText:e,currentT:n,previousT:this.previousTextTime}),this.previousTextTime=n,this.previousText=e,t=!!t,t=p.viewHandler.appendMessage({message:this.parseText(L.rawEncode(e)),name:N.displayName(),type:"c",time:new Date,isPending:!0,senderType:"v",ownerId:N.visitorId,dontPlaySound:t}),void this.sendMessageToServer(e,t,i)):i?i():!1},We.prototype.sendMessageToServer=function(e,t,i){var n,a=this;i=i||function(e){p.viewHandler.handleAcknowledgment(e)},p.socketManager.sendToConnector("sendChatMessage",e,function(o,r,l){o||(n=++M.chatOrder,a.messages[n]={ut:"v",t:"c",m:L.rawEncode(e),co:r,messageId:t,uid:N.visitorId},M.chatVersion=l,a.hasChatStarted()||"offline"===A.pageStatus()||(a.hasChatStarted(!0),s.onChatStarted()),s.onChatMessageVisitor(e)),i({error:o,messageId:t,order:n})})},We.prototype.conversationUpdate=function(e){e=e||{};var t,i,n=e.cver||0,a=e.c||[];if(i=M.chatBuffer,M.chatSynced=!0,!(M.chatVersion>=n)){for(e=0,t=i.length;t>e;e++)i[e].cver>n&&a.push(i[e]);for(e=0,t=a.length;t>e;e++)i=a[e],i.md&&i.md.ao||this.prepareMessage(i,!1);this.visitorHasMessaged&&!this.agentHasMessaged&&B.showWaitTime&&p.viewHandler.addWaitTime(),M.chatVersion=n,this.isScrollbar=p.viewHandler.isChatScrollbar(),p.viewHandler.scrollToBottom()}},We.prototype.handleAgentTyping=function(e){var t=M.profiles[e];t&&M.agentProfiles[t]&&!this.agentsTyping[e]&&(this.agentsTyping[e]=!0,this.agentProfilesTyping[t]?this.agentProfilesTyping[t]++:(this.agentProfilesTyping[t]=1,p.viewHandler.appendAgentIsTypingElement(t)))},We.prototype.handleAgentStoppedTyping=function(e){var t=M.profiles[e];this.agentsTyping[e]&&delete this.agentsTyping[e],!this.agentProfilesTyping[t]||0<--this.agentProfilesTyping[t]||(delete this.agentProfilesTyping[t],p.viewHandler.removeAgentTypingElement(t))},We.prototype.changeRating=function(e,t){M.rating()===e&&(e=0),M.rating(e),t||(p.socketManager.sendToConnector("setRating",e),s.onChatSatisfaction(M.rating()))},We.prototype.clearChatMessages=function(){this.agentHasMessaged=this.visitorHasMessaged=!1,this.messageBuffer=[],this.messages={},this.agentsTyping=[],this.agentProfilesTyping=[],this.lastMessageOwner=null,M.chatOrder=0,M.chatSynced=!1,M.chatBuffer=[]},We.prototype.startNewChat=function(){this.clearChatMessages(),p.viewHandler.resetView(),p.viewHandler.handleRestartChat(),M.chatSynced=!0,I||("max"===A.chatWindowState()?p.viewHandler.maximizeWidget():p.viewHandler.minimizeWidget()),this.hasChatEnded=!1},We.prototype.endChat=function(e){p.viewHandler.handleEndChat(),p.agents.clearAgents(),this.hasChatEnded=!0,this.hasChatStarted(!1),M.chatEndVersion=e,s.onChatEnded()},We.prototype.sendFileMessage=function(e){var t=this,i={fileName:e.filename,name:e.name,type:e.extension,mimeType:e.mimeType,size:e.size};p.socketManager.sendToConnector("fileUploadMessage",i,function(n,a,o){n||(p.viewHandler.fileUploaded(e.handle),i.fileName=L.rawEncode(i.fileName),messageId=p.viewHandler.appendMessage({message:"FILE",name:N.displayName(),type:"c",time:a,isPending:!1,senderType:"v",ownerId:N.visitorId,dontPlaySound:!0,data:{file:i}}),chatOrder=++M.chatOrder,t.messages[chatOrder]={ut:"v",t:"c",m:"FILE",co:a,messageId:messageId,uid:N.visitorId,md:{file:i}},M.chatVersion=o,s.onFileUpload("https://tawkto.link/"+i.name))})},We.prototype.isChatOngoing=function(){return!this.hasChatEnded&&this.visitorHasMessaged&&0<p.agents.totalAgents()},We.prototype.isVisitorEngaged=function(){return!this.hasChatEnded&&this.visitorHasMessaged},We.prototype.triggerEndChat=function(){var e=this;p.socketManager.sendToConnector("endVisitorChat",{},function(t,i){t||e.endChat(i.chatEndVersion)})};var Le=function(){this.agentsCount=0,this.totalAgents=u.observable(0)};Le.prototype.updateAgentPresence=function(e,t,i,n,a){if(!B.showAgentBar)return!0;if("AGENT_JOIN_CONVERSATION"!==e&&"AGENT_LEFT_CONVERSATION"!==e)return!1;switch(e){case"AGENT_JOIN_CONVERSATION":return this.addAgentToList(t,i,n,a);case"AGENT_LEFT_CONVERSATION":return this.removeAgentFromList(t,n,a)}},Le.prototype.addAgentToList=function(e,t,i,n){var a=M.agents[i];if(a){if(!(a.seq.time<e.seq.time||a.seq.time===e.seq.time&&a.seq.inc<e.seq.inc))return!1;if(a.seq=e.seq,a.pid===e.pid)return!1;this.changeAgentProfile(a.pid,n),a.pid=e.pid,M.profiles[i]=e.pid}else M.agents[i]=e,M.profiles[i]=e.pid;return e.pid?(this.totalAgents(this.totalAgents()+1),"undefined"!=typeof M.agentProfiles[e.pid]?(M.agentProfiles[e.pid].pi=e.pi,M.agentProfiles[e.pid].count++,!1):(t={pi:e.pi,pst:e.pst||"",pid:e.pid,n:t,count:1},M.agentProfiles[e.pid]=t,n&&p.viewHandler.appendAgent(t),!0)):!1},Le.prototype.changeAgentProfile=function(e,t){var i;i=M.agentProfiles[e],this.decrementProfileCount(e,t)&&t&&(i={message:p.languageParser.translate("chat","AGENT_LEFT_CONVERSATION",{n:"<b>"+i.n+"</b>"}),name:"",type:"n",time:new Date,isPending:!1,senderType:"a",ownerId:"",dontPlaySound:!0},M.chatOrder++,p.chatHandler.messages[M.chatOrder]=i,p.viewHandler.appendMessage(i))},Le.prototype.removeAgentFromList=function(e,t,i){var n=M.agents[t];return n?(t=n.pid,n.seq.time<e.seq.time||n.seq.time===e.seq.time&&n.seq.inc<e.seq.inc?(n.seq=e.seq,n.pid=null,this.totalAgents(this.totalAgents()-1),this.decrementProfileCount(t,i)):!1):(M.agents[t]=e,!1)},Le.prototype.decrementProfileCount=function(e,t){var i=M.agentProfiles[e];return i?(i.count--,1>i.count?(delete M.agentProfiles[e],t&&p.viewHandler.removeAgent(e),!0):!1):void 0},Le.prototype.clearAgents=function(){this.agentsCount=0,this.totalAgents(0),M.agentProfiles={},M.agents={},M.profiles={},p.viewHandler.clearAgentFooter(),p.viewHandler.clearAgentHeader()};var Fe=function(){var e=this;this.stack=[],this.socketConnector=new Aa,this.stackLock=!1,p.eventEmitter.on("socketReady",function(){e.clearStack()})};Fe.prototype.initConnector=function(){this.socketConnector.init()},Fe.prototype.sendToConnector=function(t,i,n){if(e.connected)if(void 0!==n||"function"==typeof i)this.safeCallback(t,i,n);else try{this.socketConnector.emit(t,i,n)}catch(o){a.handleError("Unable to emit to socket connector in sendToConnector for command : "+t+" with data :"+$_TAWK_JSON.stringify(i),o.fileName,o.lineNumber,o.stack)}else this.addToStack(t,i,n)},Fe.prototype.addToStack=function(e,t,i){var n=this;return this.stackLock?setTimeout(function(){n.addToStack(e,t,i)},100):void this.stack.push({command:e,data:t,callback:i})},Fe.prototype.clearStack=function(){var e=this;this.stackLock=!0,this.stack.forEach(function(t){e.sendToConnector(t.command,t.data,t.callback)}),this.stack=[],this.stackLock=!1},Fe.prototype.safeCallback=function(e,t,i){var n,o;"function"==typeof t&&(i=t,t=null),n=setTimeout(function(){throw i(!0),Error("Socket server did not execute the callback for "+e+" with data : "+$_TAWK_JSON.stringify(t))},35e3),o=function(){clearTimeout(n),o=function(){},i.apply(null,arguments)};try{null===t?this.socketConnector.emit(e,o):this.socketConnector.emit(e,t,o)}catch(r){a.handleError("Unable to emit to socket connector in safeCallback for command : "+e+" with data :"+$_TAWK_JSON.stringify(t),r.fileName,r.lineNumber,r.stack)}},Fe.prototype.disconnectConnector=function(){this.socketConnector.disconnectSocket()},Fe.prototype.connectorListeningOn=function(e){return 0!==this.socketConnector.listeners(e).length},Fe.prototype.isForcedDisconnect=function(){return this.socketConnector.forceDisconnected};var Ue=function(){this.started=this.maximize=this.isDocumentReady=!1,this.previousSessionKey=null,this.waitingForLanguage=!1,this.startTime=e.startTime,this.versionReloadTimeout=null,this.dataIsReady=this.viewIsReady=!1};Ue.prototype.load=function(){var t=this;H.pageId=$_Tawk_AccountKey,"undefined"!=typeof H.pageId&&(r.processSettings(e.widgetSettings),this.init(),this.isDocumentReady||(p.eventHandler.listen(document,"DOMContentLoaded",function(){t.init()},"domloaded"),p.eventHandler.listen(document,"readystatechange",function(){("complete"===document.readyState||"interactive"===document.readyState&&document.body)&&t.init()},"domstatechange"),p.eventHandler.listen(l,"load",function(){t.init()},"windowload")),p.eventEmitter.on("removeWidget",function(e){t.removeWidget()}))},Ue.prototype.init=function(){var e;if(!this.isDocumentReady&&(this.isDocumentReady=!0,e=L.parseQueryString(),!e.$_tawk_beacon&&"operamini"!==I)){if(e.$_tawk_popout&&(A.transferKey=e.$_tawk_tk,A.sessionKey=e.$_tawk_sk,B.isPopup=!0),(e=L.getReloadedScript())&&(e=L.parseQueryString(e.src),A.restarted=e.restarted,this.maximize=e.maximized),L.parseApi(),s.embedded&&(B.isEmbedded=!0,I=null),!te.isCookieEnabled)return oe.init();I?(B.isPopup?p.viewHandler=new He:this.initRenderer(I),p.formHandler=new me):(p.formHandler=new me,p.viewHandler=new be,p.audioPlayer.initAudioPlayer()),p.viewHandler&&(p.sessionHandler.setVisitorAttributes(),s.onBeforeLoad(),this.bootStrap())}},Ue.prototype.bootStrap=function(){var e=this;this.dataIsReady=this.viewIsReady=!1,setTimeout(function(){p.viewHandler.begin(),e.viewIsReady=!0,e.setupDone()},0),setTimeout(function(){o.register()},0)},Ue.prototype.initRenderer=function(e){switch(e){case"chrome":p.viewHandler=new Ee(e);break;case"safari":p.viewHandler=new Te(e);break;case"opera":p.viewHandler=new _e(e);break;case"android":p.viewHandler=new Se(e);break;case"android2.3":p.viewHandler=new Ie(e);break;case"android2":p.viewHandler=new Be(e);break;case"firefox":p.viewHandler=new Re(e);break;case"ie":p.viewHandler=10>k?new Be(e):new Ne(e);break;case"blackberry":p.viewHandler=new Be(e);break;case"nokia":p.viewHandler=new Be(e);break;case"uc":p.viewHandler=new Se(e)}p.viewHandler&&p.viewHandler.init()},Ue.prototype.begin=function(e){var t=this;o.registerStarted=!1,o.clearTimers(),o.registerTime=(new Date).getTime()-o.registerStart,o.registerStart=null,e.error?"USER_ERROR"===e.error?this.hideWidget():o.retryRegister():e.cjsv>A.currentVersion?(l.$_Tawk_VMRC="undefined"!=typeof l.$_Tawk_VMRC?l.$_Tawk_VMRC:0,10>l.$_Tawk_VMRC&&(this.versionReloadTimeout=setTimeout(function(){t.criticalRefresh(e.cjsv,!0)},1e3*l.$_Tawk_VMRC),l.$_Tawk_VMRC++)):(l.$_Tawk_VMRC=0,p.activityManager.initActivityReset(),this.started?this.reinited(e):(this.started=!0,this.extractRegisterData(e),this.dataIsReady=!0,this.setupDone()))},Ue.prototype.extractRegisterData=function(t){t.wdgt&&(t.wdgt.lc!==e.widgetSettings.lc&&(this.waitingForLanguage=!0,L.insertScript("https://static-v.tawk.to/569/languages/"+t.wdgt.lc+".js")),r.processSettings(t.wdgt)),"max"!==B.onClickAction||I||(this.maximize="max"===t.cw,A.chatWindowState(t.cw)),A.criticalVersion=t.cjsv||0,A.visitorSocketServer=t.vss,A.sessionKey=t.sk,A.transferKey=t.tk,A.transferedSession=!!t.ts,A.serverVersion=t.jsv||0,p.visitorHandler.updateVisitorUUID(t),p.visitorHandler.updateVisitorInformation(t),B.soundOn(t.sdo),B.scheduleTimezone=t.wstz,A.prechatFormSubmitted=!!t.pcfs,A.departments=L.isArray(t.dptst)?t.dptst.reverse():[],A.pageStatusVersion=t.asver||0,A.waitTime=void 0!==t.ewt&&0!==t.ewt?1e3*t.ewt:6e4,A.pageStatus(t.ast||"offline"),A.chatBubbleClosed(!!t.bblc),H.tawkId=t.twid,H.pageName(t.pgn),M.chatVersion=t.cver||0,M.chatDepartment=t.dpt||"any",M.chatHistory=t.c||[],M.rating(t.rt||0),B.webRTCSettings(t.webrtc),B.brandingRedirect(t.otl)},Ue.prototype.initBuildChat=function(){p.chatHandler.parseHistory(),this.showWidget(),p.socketManager.initConnector(),e.ready=!0,s.onLoad(),delete e.init,(A.currentVersion<A.serverVersion||A.restarted)&&L.insertBeaconIframe()},Ue.prototype.reinited=function(e){var t=A.sessionKey;this.extractRegisterData(e),t!==e.sk?(p.chatHandler.clearChatMessages(),p.viewHandler.resetView(),p.agents.clearAgents()):(A.visitorSocketServer=e.vss,A.sessionKey=e.sk,A.transferKey=e.tk,A.transferedSession=!!e.ts,A.serverVersion=e.jsv||0,p.visitorHandler.updateVisitorUUID(e)),p.scheduler.setup(),p.viewHandler.updateViewByStatus(A.pageStatus()),p.socketManager.initConnector()},Ue.prototype.criticalRefresh=function(t,i,n){var a=this,o=(new Date).getTime(),r="https://embed.tawk.to/"+H.pageId+"/"+$_Tawk_WidgetId+"?refresh=true&";if(B.isPopup)return l.location.reload(!!i);this.dataIsReady=this.viewIsReady=!1,this.removeWidget(),i&&(r+="restarted=true&"),n&&(r+="maximized=true&"),r+="v="+t||A.serverVersion||A.currentVersion,delete e.downloaded,L.insertScript(r,"TawkScript-"+o);var s=setInterval(function(){l.$_Tawk.startTime!==a.startTime&&(p=null,clearInterval(s),clearTimeout(a.versionReloadTimeout))},200)},Ue.prototype.removeWidget=function(){var e;p&&p.viewHandler&&p.viewHandler.iframeContainer&&(e=document.getElementById(p.viewHandler.iframeContainer.elementId)),o.clearTimers(),p.eventHandler.clearEvents(),p.activityManager.cleanUp(),p.socketManager.disconnectConnector(),p.eventEmitter.removeAllListeners(),p.scheduler.clearTimer(),e&&e.parentNode.removeChild(e)},Ue.prototype.setupDone=function(t){t&&(p.languageParser.language=e.language,this.waitingForLanguage=!1),this.viewIsReady&&this.dataIsReady&&!this.waitingForLanguage&&this.initBuildChat()},Ue.prototype.showWidget=function(){p.scheduler.setup(),!B.isPopup&&B.hideWidgetOnLoad||p.viewHandler.show()},Ue.prototype.hideWidget=function(){p&&p.viewHandler&&p.viewHandler.hideWidget()},e.languageUpdater=function(){if(p&&p.main&&p.main.waitingForLanguage){p.main.setupDone(!0);try{p.eventEmitter.emit("localeChanged")}catch(e){a.handleError("Unable to emit locale changed",e.fileName,e.lineNumber,e.stack)}}};var Ve=function(e,t){this.language=e,this.notFoundCallback="function"==typeof t?t:function(){}};Ve.prototype.translate=function(e,t,i,n){var a,o;a=[];var r=this.language||n;if(!r[e])return this.notFoundCallback(Error("Missing context : {"+e+"}, {"+t+"}")),t;if(n=r[e][t],!n)return this.notFoundCallback(Error("Missing key : {"+e+"}, {"+t+"}")),t;if(t=n.pluralVars?n.pluralVars.length:0,o=n.vars?n.vars.length:0,t>0){for(e=0;t>e;e++)a.push(r.pluralFormFunction(i[n.pluralVars[e]]));for(a=n.message[a.join("_")],e=0;t>e;e++)a=a.replace(RegExp("#"+n.pluralVars[e],"g"),this.escapeStringReplacePlacement(i[n.pluralVars[e]]))}else a=n.message;if(o>0)for(e=0;o>e;e++)a=a.replace(RegExp("#"+n.vars[e],"g"),this.escapeStringReplacePlacement(i[n.vars[e]]));return a},Ve.prototype.escapeStringReplacePlacement=function(e){return"string"==typeof e?e.replace(/\$/g,"$$$"):e},Ve.prototype.hasTranslation=function(e,t,i){return i=i||this.language,!!(i&&i[e]&&i[e][t])},"undefined"!=typeof module&&(module.exports=Ve),p.eventEmitter=new EventEmitter,p.eventEmitter.on("error",function(e){a.handleError("EventEmitter on error",e.fileName,e.lineNumber,e.stack)}),p.loggingHandler=new $,p.eventHandler=new Y,p.activityManager=new Me,p.scheduler=new Ae,p.main=new Ue,p.languageParser=new Ve(e.language),p.socketManager=new Fe,p.sessionHandler=new De,p.chatHandler=new We,p.agents=new Le,p.visitorHandler=new Oe,p.audioPlayer=new ae,o=new Pe,p.fileUploadHandler=new re,void 0!==e.downloaded?(p.eventHandler.clearEvents(),p.eventEmitter.removeAllListeners(),p=null):(e.downloaded=!0,p.main.load())}catch(qe){if(!a)throw Error("tawk : "+qe.message);a.handleError(qe.message,"tawk.js",qe.lineNumber||qe.line,qe.stack)}}.call(this,window.$_Tawk)}(window);